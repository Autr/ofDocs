{"data":[{"page":{"entry":{"name":"main.cpp","filename":"main.cpp","absolute":"/Users/gilbertsinnott/Code/openFrameworks/examples/gl/vboMeshDrawInstancedExample/src/main.cpp","path":"/examples/gl/vboMeshDrawInstancedExample/src/main_cpp","route":"/examples/gl/vboMeshDrawInstancedExample/src/main.cpp","dir":"../examples/gl/vboMeshDrawInstancedExample/src","ext":"cpp","type":"source","id":928,"parent":926,"breadcrumbs":[926,927,783,436],"siblings":[],"translations":{}},"document":"<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofMain.h\"</span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofApp.h\"</span></span>\n\n\n<span class=\"token comment\" spellcheck=\"true\">// by default this example will run in OpenGL 2.0, see ofApp.h for running it</span>\n<span class=\"token comment\" spellcheck=\"true\">// in OpenGL 3.2</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifdef</span> USE_PROGRAMMABLE_GL</span>\n<span class=\"token comment\" spellcheck=\"true\">// tig: using the programmable GL renderer is more fun, since we can use GLSL 150 =)</span>\n<span class=\"token comment\" spellcheck=\"true\">// define USE_PROGRAMMABLE_GL in ofApp.h to run this example in OpenGL 3.2 if your</span>\n<span class=\"token comment\" spellcheck=\"true\">// system provides it...</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofGLProgrammableRenderer.h\"</span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\n<span class=\"token comment\" spellcheck=\"true\">//========================================================================</span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\n\n\tofGLWindowSettings glWindowSettings<span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifdef</span> USE_PROGRAMMABLE_GL</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// we are using the programmable gl renderer.</span>\n\n\tglWindowSettings<span class=\"token punctuation\">.</span><span class=\"token function\">setGLVersion</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">ofCreateWindow</span><span class=\"token punctuation\">(</span>glWindowSettings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t\t<span class=\"token comment\" spellcheck=\"true\">// &lt;-------- setup the GL context</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">else</span></span>\n\t<span class=\"token comment\" spellcheck=\"true\">// we are not using the progammable gl renderer.</span>\n\t\n\t<span class=\"token comment\" spellcheck=\"true\">// when we are not using the programmable gl renderer it is not safe to assume</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// out current gl context provides us with the necessary openGL extensions to</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// run this example.</span>\n\t\n\t<span class=\"token comment\" spellcheck=\"true\">// let's check if the current openGL context provides us with glDrawElementsInstanced</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// we do this after we have initialised our openGL context.</span>\n\n\tglWindowSettings<span class=\"token punctuation\">.</span><span class=\"token function\">setGLVersion</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">ofCreateWindow</span><span class=\"token punctuation\">(</span>glWindowSettings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t\t<span class=\"token comment\" spellcheck=\"true\">// &lt;-------- setup the GL context</span>\n\t\n\tostringstream extStr<span class=\"token punctuation\">;</span>\n\textStr <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token function\">glGetString</span><span class=\"token punctuation\">(</span>GL_EXTENSIONS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\" spellcheck=\"true\">// first get all available extensions.</span>\n\tstring extensionsAvailable <span class=\"token operator\">=</span> extStr<span class=\"token punctuation\">.</span><span class=\"token function\">str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ofStringTimesInString</span><span class=\"token punctuation\">(</span>extensionsAvailable<span class=\"token punctuation\">,</span> <span class=\"token string\">\"GL_ARB_draw_instanced\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token function\">ofLogFatalError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"App\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" GL_ARB_draw_instanced is needed for this example but it is not supported by your graphics card. Exiting App.\"</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t\t\n\t\t\t<span class=\"token comment\" spellcheck=\"true\">// GL_ARB_draw_instanced is available... so far so good.</span>\n\t\t\t\n\t\t\t<span class=\"token comment\" spellcheck=\"true\">// either one of these is needed, too:</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ofStringTimesInString</span><span class=\"token punctuation\">(</span>extensionsAvailable<span class=\"token punctuation\">,</span> <span class=\"token string\">\"GL_EXT_gpu_shader4\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span>\n\t\t\t\t<span class=\"token function\">ofStringTimesInString</span><span class=\"token punctuation\">(</span>extensionsAvailable<span class=\"token punctuation\">,</span> <span class=\"token string\">\"NV_vertex_program4\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token function\">ofLogFatalError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"App\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" GL_EXT_gpu_shader4 or NV_vertex_program4 is needed for this example but it is not supported by your graphics card. Exiting App.\"</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token punctuation\">}</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\t\n\t<span class=\"token comment\" spellcheck=\"true\">// this kicks off the running of my app</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// can be OF_WINDOW or OF_FULLSCREEN</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// pass in width and height too:</span>\n\t<span class=\"token function\">ofRunApp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">ofApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n","type":"source","static":true}}],"fetch":[]}