{"data":[{"page":{"entry":{"name":"ofQtUtils.h","filename":"ofQtUtils.h","absolute":"/Users/gilbertsinnott/Code/openFrameworks/libs/openFrameworks/video/ofQtUtils.h","path":"/openframeworks/video/ofQtUtils_h","route":"/openframeworks/video/ofQtUtils.h","dir":"../libs/openFrameworks/video","ext":"h","type":"source","id":372,"parent":354,"breadcrumbs":[354,195],"siblings":[],"translations":{}},"document":"<span class=\"token macro property\">#<span class=\"token directive keyword\">pragma</span> once</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofConstants.h\"</span></span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">if</span> defined (TARGET_WIN32) || defined (TARGET_OSX)</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">if</span> !defined(MAC_OS_X_VERSION_10_12) || MAC_OS_X_VERSION_MAX_ALLOWED &lt; MAC_OS_X_VERSION_10_12</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifdef</span> TARGET_OSX</span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QuickTime/QuickTime.h></span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;CoreServices/CoreServices.h></span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;ApplicationServices/ApplicationServices.h></span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">else</span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QTML.h></span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;FixMath.h></span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QuickTimeComponents.h></span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;TextUtils.h></span></span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;MediaHandlers.h></span></span>\n\t<span class=\"token comment\" spellcheck=\"true\">//#include &lt;MoviesFormat.h></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifndef</span> MAC_OS_X_VERSION_10_7</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//p2cstr depreciation fix - thanks pickard!</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifdef</span> TARGET_OSX</span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">define</span> p2cstr(aStr) CFStringGetCStringPtr(CFStringCreateWithPascalString(nullptr, aStr, kCFStringEncodingMacRoman),kCFStringEncodingMacRoman)</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\n<span class=\"token comment\" spellcheck=\"true\">//-------------------------- helpful for rgba->rgb conversion</span>\n<span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> r<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> g<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> pix24<span class=\"token punctuation\">;</span>\n\n\n\n<span class=\"token comment\" spellcheck=\"true\">//----------------------------------------</span>\n\n<span class=\"token keyword\">void</span> \t\t<span class=\"token function\">initializeQuicktime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">void</span> \t\t<span class=\"token function\">closeQuicktime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">void</span> \t\t<span class=\"token function\">convertPixels</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span> gWorldPixels<span class=\"token punctuation\">,</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span> rgbPixels<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> w<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nBoolean \t<span class=\"token function\">SeqGrabberModalFilterUPP</span><span class=\"token punctuation\">(</span>DialogPtr theDialog<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> EventRecord <span class=\"token operator\">*</span>theEvent<span class=\"token punctuation\">,</span> <span class=\"token keyword\">short</span> <span class=\"token operator\">*</span>itemHit<span class=\"token punctuation\">,</span> <span class=\"token keyword\">long</span> refCon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nOSErr           <span class=\"token function\">IsMPEGMediaHandler</span><span class=\"token punctuation\">(</span>MediaHandler inMediaHandler<span class=\"token punctuation\">,</span> Boolean <span class=\"token operator\">*</span>outIsMPEG<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nComponentResult <span class=\"token function\">MPEGMediaGetStaticFrameRate</span><span class=\"token punctuation\">(</span>MediaHandler inMPEGMediaHandler<span class=\"token punctuation\">,</span> Fixed <span class=\"token operator\">*</span>outStaticFrameRate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nOSErr           <span class=\"token function\">MediaGetStaticFrameRate</span><span class=\"token punctuation\">(</span>Media inMovieMedia<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> <span class=\"token operator\">*</span>outFPS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">void</span>            <span class=\"token function\">MovieGetVideoMediaAndMediaHandler</span><span class=\"token punctuation\">(</span>Movie inMovie<span class=\"token punctuation\">,</span> Media <span class=\"token operator\">*</span>outMedia<span class=\"token punctuation\">,</span>\n\t\t\t\tMediaHandler <span class=\"token operator\">*</span>outMediaHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">void</span>            <span class=\"token function\">MovieGetStaticFrameRate</span><span class=\"token punctuation\">(</span>Movie inMovie<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> <span class=\"token operator\">*</span>outStaticFrameRate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifdef</span> TARGET_OSX</span>\n\tOSErr\t<span class=\"token function\">GetSettingsPreference</span><span class=\"token punctuation\">(</span>CFStringRef inKey<span class=\"token punctuation\">,</span> UserData <span class=\"token operator\">*</span>outUserData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tOSErr\t<span class=\"token function\">SaveSettingsPreference</span><span class=\"token punctuation\">(</span>CFStringRef inKey<span class=\"token punctuation\">,</span> UserData inUserData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span> </span><span class=\"token comment\" spellcheck=\"true\">//OS 10.7 guard</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>","type":"source"}}],"fetch":[]}