{"data":[{"page":{"entry":{"name":"ofxOscParameterSync.cpp","filename":"ofxOscParameterSync.cpp","absolute":"/Users/gilbertsinnott/Code/openFrameworks/addons/ofxOsc/src/ofxOscParameterSync.cpp","path":"/addons/ofxOsc/src/ofxOscParameterSync_cpp","route":"/addons/ofxOsc/src/ofxOscParameterSync.cpp","dir":"../addons/ofxOsc/src","ext":"cpp","type":"source","id":165,"parent":157,"breadcrumbs":[157,158,36],"siblings":[],"translations":{}},"document":"<span class=\"token comment\" spellcheck=\"true\">// copyright (c) openFrameworks team 2012-2017</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofxOscParameterSync.h\"</span></span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nofxOscParameterSync<span class=\"token operator\">::</span><span class=\"token function\">ofxOscParameterSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\tupdatingParameter <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nofxOscParameterSync<span class=\"token operator\">::</span><span class=\"token operator\">~</span><span class=\"token function\">ofxOscParameterSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">ofRemoveListener</span><span class=\"token punctuation\">(</span>syncGroup<span class=\"token punctuation\">.</span><span class=\"token function\">parameterChangedE</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>ofxOscParameterSync<span class=\"token operator\">::</span>parameterChanged<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofxOscParameterSync<span class=\"token operator\">::</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span>ofParameterGroup <span class=\"token operator\">&amp;</span>group<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> localPort<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> std<span class=\"token operator\">::</span>string <span class=\"token operator\">&amp;</span>host<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> remotePort<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">ofLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"SETTING UP\"</span> <span class=\"token operator\">&lt;&lt;</span> group<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> localPort <span class=\"token operator\">&lt;&lt;</span> host <span class=\"token operator\">&lt;&lt;</span> remotePort<span class=\"token punctuation\">;</span>\n\tsyncGroup <span class=\"token operator\">=</span> group<span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">ofAddListener</span><span class=\"token punctuation\">(</span>syncGroup<span class=\"token punctuation\">.</span><span class=\"token function\">parameterChangedE</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>ofxOscParameterSync<span class=\"token operator\">::</span>parameterChanged<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tsender<span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> remotePort<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\treceiver<span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span>localPort<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofxOscParameterSync<span class=\"token operator\">::</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>receiver<span class=\"token punctuation\">.</span><span class=\"token function\">getPort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">7778</span><span class=\"token punctuation\">)</span> <span class=\"token function\">ofLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"RECEIVING\"</span> <span class=\"token operator\">&lt;&lt;</span> receiver<span class=\"token punctuation\">.</span><span class=\"token function\">getPort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>receiver<span class=\"token punctuation\">.</span><span class=\"token function\">hasWaitingMessages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\tupdatingParameter <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\t\treceiver<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span>syncGroup<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        updatingParameter <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofxOscParameterSync<span class=\"token operator\">::</span><span class=\"token function\">parameterChanged</span><span class=\"token punctuation\">(</span>ofAbstractParameter <span class=\"token operator\">&amp;</span>parameter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>updatingParameter<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"SENDING\"</span> <span class=\"token operator\">&lt;&lt;</span> sender<span class=\"token punctuation\">.</span><span class=\"token function\">getHost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> sender<span class=\"token punctuation\">.</span><span class=\"token function\">getPort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tsender<span class=\"token punctuation\">.</span><span class=\"token function\">sendParameter</span><span class=\"token punctuation\">(</span>parameter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n","type":"source"}}],"fetch":[]}