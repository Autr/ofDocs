{"data":[{"page":{"entry":{"name":"OrthoCamera.cpp","filename":"OrthoCamera.cpp","absolute":"/Users/Gilbert/Code/openFrameworks/examples/android/androidAdvanced3DExample/src/OrthoCamera.cpp","path":"/examples/android/androidAdvanced3DExample/src/OrthoCamera_cpp","route":"/examples/android/androidAdvanced3DExample/src/OrthoCamera.cpp","dir":"../examples/android/androidAdvanced3DExample/src","ext":"cpp","type":"source","id":571,"parent":564,"breadcrumbs":[564,565,560,436],"siblings":[],"translations":{}},"document":"<span class=\"token comment\" spellcheck=\"true\">/*\n *  OrthoCamera.cpp\n *  advanced3dExample\n *\n *  Created by Elliot Woods on 19/01/2011.\n *  Copyright 2011 Kimchi and Chips. All rights reserved.\n *\n */</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"OrthoCamera.h\"</span></span>\n\nOrthoCamera<span class=\"token operator\">::</span><span class=\"token function\">OrthoCamera</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">enableOrtho</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tscale <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> OrthoCamera<span class=\"token operator\">::</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span>ofRectangle rect<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\tofCamera<span class=\"token operator\">::</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token comment\" spellcheck=\"true\">//////////////////////////////</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// CALCULATE ASPECT RATIO</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//////////////////////////////</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//</span>\n\t<span class=\"token keyword\">float</span> vw <span class=\"token operator\">=</span> <span class=\"token function\">ofGetViewportWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">float</span> vh <span class=\"token operator\">=</span> <span class=\"token function\">ofGetViewportHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token comment\" spellcheck=\"true\">//aspect ratio</span>\n\t<span class=\"token keyword\">float</span> ar <span class=\"token operator\">=</span> vw<span class=\"token operator\">/</span>vh<span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">float</span> scalex<span class=\"token punctuation\">,</span> scaley<span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ar <span class=\"token operator\">></span> <span class=\"token number\">1.0f</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">//wide</span>\n\t\tscalex <span class=\"token operator\">=</span> scale <span class=\"token operator\">*</span> ar<span class=\"token punctuation\">;</span>\n\t\tscaley <span class=\"token operator\">=</span> scale<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">//tall</span>\n\t\tscalex <span class=\"token operator\">=</span> scale<span class=\"token punctuation\">;</span>\n\t\tscaley <span class=\"token operator\">=</span> scale <span class=\"token operator\">/</span> ar<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//////////////////////////////</span>\n\t\n\t<span class=\"token comment\" spellcheck=\"true\">//////////////////////////////</span>\n\t<span class=\"token comment\" spellcheck=\"true\">// SETUP PROJECTION</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//////////////////////////////</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//</span>\n\t<span class=\"token function\">glMatrixMode</span><span class=\"token punctuation\">(</span>GL_PROJECTION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">glLoadIdentity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifndef</span> TARGET_OPENGLES</span>\n\t<span class=\"token function\">glOrtho</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>scalex<span class=\"token punctuation\">,</span> scalex<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>scaley<span class=\"token punctuation\">,</span> scaley<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">20</span> <span class=\"token operator\">*</span> scale<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span> <span class=\"token operator\">*</span> scale<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">else</span></span>\n\t<span class=\"token comment\" spellcheck=\"true\">// note that bottom and top are switched compared to glOrtho</span>\n\tofMatrix4x4 ortho <span class=\"token operator\">=</span> ofMatrix4x4<span class=\"token operator\">::</span><span class=\"token function\">newOrthoMatrix</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>scalex<span class=\"token punctuation\">,</span> scalex<span class=\"token punctuation\">,</span> scaley<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>scaley<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token operator\">-</span><span class=\"token number\">20</span> <span class=\"token operator\">*</span> scale<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span> <span class=\"token operator\">*</span> scale<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">glMultMatrixf</span><span class=\"token punctuation\">(</span>ortho<span class=\"token punctuation\">.</span><span class=\"token function\">getPtr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\t<span class=\"token function\">glMatrixMode</span><span class=\"token punctuation\">(</span>GL_MODELVIEW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//</span>\n\t<span class=\"token comment\" spellcheck=\"true\">//////////////////////////////</span>\n<span class=\"token punctuation\">}</span>\n","type":"source"}}],"fetch":[]}