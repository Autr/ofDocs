{"data":[{"page":{"entry":{"name":"ofQuickTimePlayer.h","filename":"ofQuickTimePlayer.h","absolute":"/Users/Gilbert/Code/openFrameworks/libs/openFrameworks/video/ofQuickTimePlayer.h","path":"/openframeworks/video/ofQuickTimePlayer_h","route":"/openframeworks/video/ofQuickTimePlayer.h","dir":"../libs/openFrameworks/video","ext":"h","type":"source","id":345,"parent":323,"breadcrumbs":[323,164],"siblings":[],"translations":{}},"document":"<span class=\"token macro property\">#<span class=\"token directive keyword\">pragma</span> once</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofConstants.h\"</span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofVideoBaseTypes.h\"</span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofPixels.h\"</span></span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">if</span> !defined(TARGET_LINUX) &amp;&amp; (!defined(MAC_OS_X_VERSION_10_12) || MAC_OS_X_VERSION_MAX_ALLOWED &lt; MAC_OS_X_VERSION_10_12)</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">ifdef</span> OF_VIDEO_PLAYER_QUICKTIME</span>\n\t<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofQtUtils.h\"</span></span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ofQuickTimePlayer</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">public</span> ofBaseVideoPlayer<span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n\n\t\t<span class=\"token function\">ofQuickTimePlayer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token operator\">~</span><span class=\"token function\">ofQuickTimePlayer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">bool</span>\t\t\t<span class=\"token function\">load</span><span class=\"token punctuation\">(</span>string name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">closeMovie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">clearMemory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">bool</span>            <span class=\"token function\">setPixelFormat</span><span class=\"token punctuation\">(</span>ofPixelFormat pixelFormat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tofPixelFormat   <span class=\"token function\">getPixelFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">bool</span> \t\t\t<span class=\"token function\">isFrameNew</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t ofPixels<span class=\"token operator\">&amp;</span>\t\t\t<span class=\"token function\">getPixels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">const</span> ofPixels<span class=\"token operator\">&amp;</span>\t<span class=\"token function\">getPixels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">float</span> \t\t\t<span class=\"token function\">getWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">float</span> \t\t\t<span class=\"token function\">getHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">bool</span>\t\t\t<span class=\"token function\">isPaused</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">bool</span>\t\t\t<span class=\"token function\">isLoaded</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">bool</span>\t\t\t<span class=\"token function\">isPlaying</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">float</span> \t\t\t<span class=\"token function\">getPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">float</span> \t\t\t<span class=\"token function\">getDuration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">int</span>\t\t\t<span class=\"token function\">getTotalNumFrames</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">float</span>\t\t\t<span class=\"token function\">getSpeed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">bool</span>\t\t\t<span class=\"token function\">getIsMovieDone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\t\t ofLoopType \t<span class=\"token function\">getLoopState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">void</span> \t\t\t<span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> pct<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span> \t\t\t<span class=\"token function\">setVolume</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> volume<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span> \t\t\t<span class=\"token function\">setLoopState</span><span class=\"token punctuation\">(</span>ofLoopType state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>   \t\t<span class=\"token function\">setSpeed</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> speed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">setFrame</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\" spellcheck=\"true\">// frame 0 = first frame...</span>\n\t\t <span class=\"token keyword\">void</span> \t\t\t<span class=\"token function\">setPaused</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">bool</span> bPause<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">int</span>\t\t\t<span class=\"token function\">getCurrentFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">firstFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">nextFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t <span class=\"token keyword\">void</span>\t\t\t<span class=\"token function\">previousFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t <span class=\"token keyword\">mutable</span> <span class=\"token keyword\">bool</span>\tbHavePixelsChanged<span class=\"token punctuation\">;</span>\n\n\n\n\t<span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">createImgMemAndGWorld</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\tofPixels\t\t \tpixels<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">int</span>\t\t\t\t\twidth<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">bool</span>\t\t\t\tbLoaded<span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token comment\" spellcheck=\"true\">//these are public because the ofQuickTimePlayer implementation has some callback functions that need access</span>\n\t\t<span class=\"token comment\" spellcheck=\"true\">//todo - fix this</span>\n\n\t\t<span class=\"token keyword\">int</span>\t\t\t\t\tnFrames<span class=\"token punctuation\">;</span>\t\t\t\t<span class=\"token comment\" spellcheck=\"true\">// number of frames</span>\n\t\t<span class=\"token keyword\">bool</span>\t\t\t\tallocated<span class=\"token punctuation\">;</span>\t\t\t\t<span class=\"token comment\" spellcheck=\"true\">// so we know to free pixels or not</span>\n\n\t\tofLoopType\t\t\tcurrentLoopState<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">bool</span> \t\t\t\tbStarted<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">bool</span> \t\t\t\tbPlaying<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">bool</span> \t\t\t\tbPaused<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">bool</span> \t\t\t\tbIsFrameNew<span class=\"token punctuation\">;</span>\t\t\t<span class=\"token comment\" spellcheck=\"true\">// if we are new</span>\n\t\t<span class=\"token keyword\">float</span>\t\t\t\tspeed<span class=\"token punctuation\">;</span>\n\n\t\tMovieDrawingCompleteUPP myDrawCompleteProc<span class=\"token punctuation\">;</span>\n\t\tMovieController  \tthePlayer<span class=\"token punctuation\">;</span>\n\t\tGWorldPtr \t\t\toffscreenGWorld<span class=\"token punctuation\">;</span>\n\t\tMovie \t\t\t \tmoviePtr<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span> \toffscreenGWorldPixels<span class=\"token punctuation\">;</span>\t<span class=\"token comment\" spellcheck=\"true\">// 32 bit: argb (qt k32ARGBPixelFormat)</span>\n\t\t<span class=\"token keyword\">void</span>\t\t\t\t<span class=\"token function\">qtGetFrameCount</span><span class=\"token punctuation\">(</span>Movie <span class=\"token operator\">&amp;</span> movForcount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">endif</span></span>\n","type":"source","static":true}}],"fetch":[]}