{"data":[{"page":{"entry":{"name":"Car.cpp","filename":"Car.cpp","absolute":"/Users/Gilbert/Code/openFrameworks/examples/3d/ofNodeExample/src/Car.cpp","path":"/examples/3d/ofNodeExample/src/Car_cpp","route":"/examples/3d/ofNodeExample/src/Car.cpp","dir":"../examples/3d/ofNodeExample/src","ext":"cpp","type":"source","id":596,"parent":595,"breadcrumbs":[595,592,513,514],"siblings":[],"translations":{}},"document":"<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"Car.h\"</span></span>\n\nCar<span class=\"token operator\">::</span><span class=\"token function\">Car</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> Car<span class=\"token operator\">::</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    material<span class=\"token punctuation\">.</span><span class=\"token function\">setDiffuseColor</span><span class=\"token punctuation\">(</span>ofFloatColor<span class=\"token operator\">::</span>green<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// This is how we append the 2 headlamps to the car.</span>\n    <span class=\"token comment\" spellcheck=\"true\">// Calling setParent, we are telling to the lights that they are</span>\n    <span class=\"token comment\" spellcheck=\"true\">// a child of the object car, and that their movements are relative to</span>\n    <span class=\"token comment\" spellcheck=\"true\">// the movement of the car</span>\n\n    lightL<span class=\"token punctuation\">.</span><span class=\"token function\">setParent</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightR<span class=\"token punctuation\">.</span><span class=\"token function\">setParent</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    lightL<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">51</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightR<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">51</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightL<span class=\"token punctuation\">.</span><span class=\"token function\">tiltDeg</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightR<span class=\"token punctuation\">.</span><span class=\"token function\">tiltDeg</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tlightL<span class=\"token punctuation\">.</span><span class=\"token function\">setSpotlight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tlightR<span class=\"token punctuation\">.</span><span class=\"token function\">setSpotlight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tlightL<span class=\"token punctuation\">.</span><span class=\"token function\">setDiffuseColor</span><span class=\"token punctuation\">(</span>ofFloatColor<span class=\"token operator\">::</span>yellow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tlightR<span class=\"token punctuation\">.</span><span class=\"token function\">setDiffuseColor</span><span class=\"token punctuation\">(</span>ofFloatColor<span class=\"token operator\">::</span>yellow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightL<span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightR<span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> Car<span class=\"token operator\">::</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    material<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    geometry<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    material<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    lightR<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    lightL<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> Car<span class=\"token operator\">::</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    vel <span class=\"token operator\">+</span><span class=\"token operator\">=</span> acceleration<span class=\"token punctuation\">;</span>\n    vel <span class=\"token operator\">*</span><span class=\"token operator\">=</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">;</span>\n\tacceleration <span class=\"token operator\">*</span><span class=\"token operator\">=</span> <span class=\"token number\">0.99</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// here we are defining the vector that contains the direction</span>\n    <span class=\"token comment\" spellcheck=\"true\">// in which the car should move, that is defined by the z-axis of the car and the velocity</span>\n    <span class=\"token keyword\">auto</span> velVector <span class=\"token operator\">=</span> geometry<span class=\"token punctuation\">.</span><span class=\"token function\">getZAxis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token operator\">-</span>vel<span class=\"token punctuation\">;</span>\n\tgeometry<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span>velVector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> Car<span class=\"token operator\">::</span><span class=\"token function\">brake</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    acceleration <span class=\"token operator\">-</span><span class=\"token operator\">=</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> Car<span class=\"token operator\">::</span><span class=\"token function\">accelerate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    acceleration <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> Car<span class=\"token operator\">::</span><span class=\"token function\">steer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> dir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    geometry<span class=\"token punctuation\">.</span><span class=\"token function\">rotateDeg</span><span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\" spellcheck=\"true\">// the rotation happens on the y axis</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> ofNode <span class=\"token operator\">&amp;</span> Car<span class=\"token operator\">::</span><span class=\"token function\">getNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> geometry<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n","type":"source","static":true}}],"fetch":[]}