{"data":[{"page":{"entry":{"name":"ofApp.cpp","filename":"ofApp.cpp","absolute":"/Users/Gilbert/Code/openFrameworks/examples/graphics/rectangleAlignmentAndScalingExample/src/ofApp.cpp","path":"/examples/graphics/rectangleAlignmentAndScalingExample/src/ofApp_cpp","route":"/examples/graphics/rectangleAlignmentAndScalingExample/src/ofApp.cpp","dir":"../examples/graphics/rectangleAlignmentAndScalingExample/src","ext":"cpp","type":"source","id":1019,"parent":1017,"breadcrumbs":[1017,1014,943,436],"siblings":[],"translations":{}},"document":"<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofApp.h\"</span></span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// This example is designed to show all of the different aligning</span>\n    <span class=\"token comment\" spellcheck=\"true\">// and scaling functions available in ofRectangle.</span>\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    <span class=\"token comment\" spellcheck=\"true\">// Please run the example and use the keyboard to see the visual</span>\n    <span class=\"token comment\" spellcheck=\"true\">// results of each of the alignment and scaling operations.</span>\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    <span class=\"token comment\" spellcheck=\"true\">// The basic premise is to define a subject and target rectangle.</span>\n    <span class=\"token comment\" spellcheck=\"true\">// The \"subject\" (on the left) rectangle will be aligned-to</span>\n    <span class=\"token comment\" spellcheck=\"true\">// and scaled-to the \"target\" (on the right) rectangle based</span>\n    <span class=\"token comment\" spellcheck=\"true\">// on the user's input.</span>\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    <span class=\"token comment\" spellcheck=\"true\">// The resulting rectangle (workingSubjectRect in this case),</span>\n    <span class=\"token comment\" spellcheck=\"true\">// displayed in the center, is the result of the operations.</span>\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    <span class=\"token comment\" spellcheck=\"true\">// An image is used to further emphasize the effect of various</span>\n    <span class=\"token comment\" spellcheck=\"true\">// aspect-ratio preservation modes.</span>\n    \n    <span class=\"token function\">ofSetFrameRate</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofEnableAlphaBlending</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    isScaling <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    isAligning <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    isRectScaling <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    \n    scaleMode       <span class=\"token operator\">=</span> OF_SCALEMODE_FIT<span class=\"token punctuation\">;</span>\n    aspectRatioMode <span class=\"token operator\">=</span> OF_ASPECT_RATIO_KEEP<span class=\"token punctuation\">;</span>\n    \n    target_hAlign   <span class=\"token operator\">=</span> OF_ALIGN_HORZ_CENTER<span class=\"token punctuation\">;</span>\n    target_vAlign   <span class=\"token operator\">=</span> OF_ALIGN_VERT_CENTER<span class=\"token punctuation\">;</span>\n    \n    subject_hAlign  <span class=\"token operator\">=</span> OF_ALIGN_HORZ_CENTER<span class=\"token punctuation\">;</span>\n    subject_vAlign  <span class=\"token operator\">=</span> OF_ALIGN_VERT_CENTER<span class=\"token punctuation\">;</span>\n    \n    bUseImage <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    \n    img<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"resolution_test_1080_mini.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    targetColor  <span class=\"token operator\">=</span> <span class=\"token function\">ofColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    subjectColor <span class=\"token operator\">=</span> <span class=\"token function\">ofColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">makeNewTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">makeNewSubject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    \n    workingSubjectRect <span class=\"token operator\">=</span> subjectRect<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// read the results of our keyboard input to determine</span>\n    <span class=\"token comment\" spellcheck=\"true\">// the correct scaling and / or alignment operation.</span>\n    \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isRectScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isAligning<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                workingSubjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">scaleTo</span><span class=\"token punctuation\">(</span>targetRect<span class=\"token punctuation\">,</span>\n                                           aspectRatioMode<span class=\"token punctuation\">,</span>\n                                           target_hAlign<span class=\"token punctuation\">,</span>\n                                           target_vAlign<span class=\"token punctuation\">,</span>\n                                           subject_hAlign<span class=\"token punctuation\">,</span>\n                                           subject_vAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                workingSubjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">scaleTo</span><span class=\"token punctuation\">(</span>targetRect<span class=\"token punctuation\">,</span>\n                                           aspectRatioMode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isAligning<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                workingSubjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">alignTo</span><span class=\"token punctuation\">(</span>targetRect<span class=\"token punctuation\">,</span>\n                                           target_hAlign<span class=\"token punctuation\">,</span>\n                                           target_vAlign<span class=\"token punctuation\">,</span>\n                                           subject_hAlign<span class=\"token punctuation\">,</span>\n                                           subject_vAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                workingSubjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">alignTo</span><span class=\"token punctuation\">(</span>targetRect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        workingSubjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">scaleTo</span><span class=\"token punctuation\">(</span>targetRect<span class=\"token punctuation\">,</span>\n                                   scaleMode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">ofBackground</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// draw original subject in lower left-hand corner</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>bUseImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">ofFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>subjectColor<span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofDrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> subjectRect<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> subjectRect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> subjectRect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">ofFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        img<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> subjectRect<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> subjectRect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> subjectRect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\" spellcheck=\"true\">// draw original subject frame in lower left-hand corner</span>\n    <span class=\"token function\">ofNoFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>subjectColor<span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> subjectRect<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> subjectRect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> subjectRect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">// draw original subject label</span>\n    <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawBitmapStringHighlight</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SUBJECT\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// draw original target in lower right-hand corner</span>\n    <span class=\"token function\">ofFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>targetColor<span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token function\">ofGetWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> targetRect<span class=\"token punctuation\">.</span>width <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> targetRect<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> targetRect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> targetRect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// draw original target frame in lower right-hand corner</span>\n    <span class=\"token function\">ofNoFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>targetColor<span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token function\">ofGetWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> targetRect<span class=\"token punctuation\">.</span>width <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> targetRect<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> targetRect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> targetRect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawBitmapStringHighlight</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TARGET\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">65</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n    \n    <span class=\"token comment\" spellcheck=\"true\">// draw target rectangle in center</span>\n    <span class=\"token function\">drawAlignRect</span><span class=\"token punctuation\">(</span>targetRect<span class=\"token punctuation\">,</span>  targetColor<span class=\"token punctuation\">,</span>  target_hAlign<span class=\"token punctuation\">,</span>  target_vAlign<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// draw aligned / scaled subject with respect to the target</span>\n    <span class=\"token function\">drawAlignRect</span><span class=\"token punctuation\">(</span>workingSubjectRect<span class=\"token punctuation\">,</span> subjectColor<span class=\"token punctuation\">,</span> subject_hAlign<span class=\"token punctuation\">,</span> subject_vAlign<span class=\"token punctuation\">,</span> bUseImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// make the menu</span>\n    stringstream ss<span class=\"token punctuation\">;</span>\n    \n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Keys:\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"----------------------------------------------------------\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" New Subject / Target (space) \"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" Use An Image Subject (i) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>bUseImage <span class=\"token operator\">?</span> <span class=\"token string\">\"YES\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"----------------------------------------------------------\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"  Enable Custom Align (A) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isAligning <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token string\">\"YES\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"  Subject ofAlignHorz (h) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isAligning <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token function\">getHorzAlignString</span><span class=\"token punctuation\">(</span>subject_hAlign<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"    Model ofAlignHorz (H) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isAligning <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token function\">getHorzAlignString</span><span class=\"token punctuation\">(</span>target_hAlign<span class=\"token punctuation\">)</span>  <span class=\"token operator\">:</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"  Subject ofAlignVert (v) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isAligning <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token function\">getVertAlignString</span><span class=\"token punctuation\">(</span>subject_vAlign<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"    Model ofAlignVert (V) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isAligning <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token function\">getVertAlignString</span><span class=\"token punctuation\">(</span>target_vAlign<span class=\"token punctuation\">)</span>  <span class=\"token operator\">:</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"----------------------------------------------------------\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Enable Custom Scaling (S) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isScaling <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token string\">\"YES\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"    ofAspectRatioMode (a) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isScaling <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token function\">getAspectRatioModeString</span><span class=\"token punctuation\">(</span>aspectRatioMode<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"----------------------------------------------------------\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" Override Scale/Align (r) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token string\">\"YES\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    ss <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"          ofScaleMode (s) = \"</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span>isRectScaling <span class=\"token operator\">?</span> <span class=\"token function\">getScaleModeString</span><span class=\"token punctuation\">(</span>scaleMode<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// draw the menu</span>\n    <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawBitmapString</span><span class=\"token punctuation\">(</span>ss<span class=\"token punctuation\">.</span><span class=\"token function\">str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">keyPressed</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// define keyboard interactions</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">makeNewTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">makeNewSubject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'h'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">&amp;&amp;</span> isAligning<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        subject_hAlign <span class=\"token operator\">=</span> <span class=\"token function\">getNextHorzAlign</span><span class=\"token punctuation\">(</span>subject_hAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'H'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">&amp;&amp;</span> isAligning<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        target_hAlign <span class=\"token operator\">=</span> <span class=\"token function\">getNextHorzAlign</span><span class=\"token punctuation\">(</span>target_hAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'v'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">&amp;&amp;</span> isAligning<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        subject_vAlign <span class=\"token operator\">=</span> <span class=\"token function\">getNextVertAlign</span><span class=\"token punctuation\">(</span>subject_vAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'V'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">&amp;&amp;</span> isAligning<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        target_vAlign <span class=\"token operator\">=</span> <span class=\"token function\">getNextVertAlign</span><span class=\"token punctuation\">(</span>target_vAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'a'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling <span class=\"token operator\">&amp;&amp;</span> isScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        aspectRatioMode <span class=\"token operator\">=</span> <span class=\"token function\">getNextAspectRatioMode</span><span class=\"token punctuation\">(</span>aspectRatioMode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'s'</span> <span class=\"token operator\">&amp;&amp;</span> isRectScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        scaleMode <span class=\"token operator\">=</span> <span class=\"token function\">getNextScaleMode</span><span class=\"token punctuation\">(</span>scaleMode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isRectScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            isScaling <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            isRectScaling <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            isScaling <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>isScaling<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        isRectScaling <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>isRectScaling<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isRectScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            isScaling <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            isAligning <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'A'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isRectScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            isRectScaling <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            isAligning <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            isAligning <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>isAligning<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token string\">'i'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        bUseImage <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>bUseImage<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>bUseImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">makeNewSubject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">makeNewSubject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// if we are not using an image, make a random subject rectangle</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>bUseImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        subjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">setFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token function\">ofGetWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">/</span> <span class=\"token number\">2.0f</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2.0f</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token function\">ofRandom</span><span class=\"token punctuation\">(</span><span class=\"token number\">30.0f</span><span class=\"token punctuation\">,</span><span class=\"token number\">300.0f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token function\">ofRandom</span><span class=\"token punctuation\">(</span><span class=\"token number\">30.0f</span><span class=\"token punctuation\">,</span><span class=\"token number\">300.0f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">// if we are using the image, then match the image size</span>\n        subjectRect<span class=\"token punctuation\">.</span><span class=\"token function\">setFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token function\">ofGetWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">/</span> <span class=\"token number\">2.0f</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2.0f</span><span class=\"token punctuation\">,</span>\n                                  img<span class=\"token punctuation\">.</span><span class=\"token function\">getWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                  img<span class=\"token punctuation\">.</span><span class=\"token function\">getHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// copy the subject to the working subject so it can be modified.</span>\n    workingSubjectRect <span class=\"token operator\">=</span> subjectRect<span class=\"token punctuation\">;</span>\n    \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">makeNewTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// create a random target rectangle aligned to the center of the screen</span>\n    targetRect<span class=\"token punctuation\">.</span><span class=\"token function\">setFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token function\">ofGetWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">/</span> <span class=\"token number\">2.0f</span><span class=\"token punctuation\">,</span>\n                             <span class=\"token function\">ofGetHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2.0f</span><span class=\"token punctuation\">,</span>\n                             <span class=\"token function\">ofRandom</span><span class=\"token punctuation\">(</span><span class=\"token number\">30.0f</span><span class=\"token punctuation\">,</span><span class=\"token number\">300.0f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                             <span class=\"token function\">ofRandom</span><span class=\"token punctuation\">(</span><span class=\"token number\">30.0f</span><span class=\"token punctuation\">,</span><span class=\"token number\">300.0f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">drawAlignRect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> ofRectangle<span class=\"token operator\">&amp;</span> rect<span class=\"token punctuation\">,</span>\n                            <span class=\"token keyword\">const</span> ofColor<span class=\"token operator\">&amp;</span> color<span class=\"token punctuation\">,</span>\n                            ofAlignHorz hAlign<span class=\"token punctuation\">,</span>\n                            ofAlignVert vAlign<span class=\"token punctuation\">,</span>\n                            <span class=\"token keyword\">bool</span> drawImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// draw the rect -- draw the image if using an image</span>\n    <span class=\"token function\">ofFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>drawImage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">127</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        img<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofDrawRectangle</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token function\">ofNoFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">ofDrawRectangle</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\" spellcheck=\"true\">// draw the alignment marks if applicable</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>isAligning <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isRectScaling<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">drawHorzAlignMark</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">,</span> color<span class=\"token punctuation\">,</span> hAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">drawVertAlignMark</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">,</span> color<span class=\"token punctuation\">,</span> vAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">drawHorzAlignMark</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> ofRectangle<span class=\"token operator\">&amp;</span> rect<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> ofColor<span class=\"token operator\">&amp;</span> color<span class=\"token punctuation\">,</span> ofAlignHorz hAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>hAlign <span class=\"token operator\">!=</span> OF_ALIGN_HORZ_IGNORE<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">float</span> hAnchor <span class=\"token operator\">=</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getHorzAnchor</span><span class=\"token punctuation\">(</span>hAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span><span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofDrawLine</span><span class=\"token punctuation\">(</span>hAnchor<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getTop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    <span class=\"token operator\">-</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> hAnchor<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getTop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofDrawLine</span><span class=\"token punctuation\">(</span>hAnchor<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getBottom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> hAnchor<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getBottom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\n<span class=\"token keyword\">void</span> ofApp<span class=\"token operator\">::</span><span class=\"token function\">drawVertAlignMark</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> ofRectangle<span class=\"token operator\">&amp;</span> rect<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> ofColor<span class=\"token operator\">&amp;</span> color<span class=\"token punctuation\">,</span> ofAlignVert vAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>vAlign <span class=\"token operator\">!=</span> OF_ALIGN_VERT_IGNORE<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">float</span> vAnchor <span class=\"token operator\">=</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getVertAnchor</span><span class=\"token punctuation\">(</span>vAlign<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofSetColor</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span><span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofDrawLine</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">getLeft</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">-</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> vAnchor<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getLeft</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> vAnchor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">ofDrawLine</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">getRight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> vAnchor<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span><span class=\"token function\">getRight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> vAnchor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nofScaleMode ofApp<span class=\"token operator\">::</span><span class=\"token function\">getNextScaleMode</span><span class=\"token punctuation\">(</span>ofScaleMode mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_SCALEMODE_FIT<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_SCALEMODE_FILL<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_SCALEMODE_FILL<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_SCALEMODE_CENTER<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_SCALEMODE_CENTER<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_SCALEMODE_STRETCH_TO_FILL<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_SCALEMODE_STRETCH_TO_FILL<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_SCALEMODE_FIT<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> mode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nofAspectRatioMode ofApp<span class=\"token operator\">::</span><span class=\"token function\">getNextAspectRatioMode</span><span class=\"token punctuation\">(</span>ofAspectRatioMode mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_ASPECT_RATIO_IGNORE<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_ASPECT_RATIO_KEEP<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_ASPECT_RATIO_KEEP<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_ASPECT_RATIO_KEEP_BY_EXPANDING<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">==</span> OF_ASPECT_RATIO_KEEP_BY_EXPANDING<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mode <span class=\"token operator\">=</span> OF_ASPECT_RATIO_IGNORE<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> mode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nofAlignHorz ofApp<span class=\"token operator\">::</span><span class=\"token function\">getNextHorzAlign</span><span class=\"token punctuation\">(</span>ofAlignHorz hAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>hAlign <span class=\"token operator\">==</span> OF_ALIGN_HORZ_LEFT<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        hAlign <span class=\"token operator\">=</span> OF_ALIGN_HORZ_CENTER<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>hAlign <span class=\"token operator\">==</span> OF_ALIGN_HORZ_CENTER<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        hAlign <span class=\"token operator\">=</span> OF_ALIGN_HORZ_RIGHT<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>hAlign <span class=\"token operator\">==</span> OF_ALIGN_HORZ_RIGHT<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        hAlign <span class=\"token operator\">=</span> OF_ALIGN_HORZ_LEFT<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> hAlign<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nofAlignVert ofApp<span class=\"token operator\">::</span><span class=\"token function\">getNextVertAlign</span><span class=\"token punctuation\">(</span>ofAlignVert vAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>vAlign <span class=\"token operator\">==</span> OF_ALIGN_VERT_TOP<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        vAlign <span class=\"token operator\">=</span> OF_ALIGN_VERT_CENTER<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>vAlign <span class=\"token operator\">==</span> OF_ALIGN_VERT_CENTER<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        vAlign <span class=\"token operator\">=</span> OF_ALIGN_VERT_BOTTOM<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>vAlign <span class=\"token operator\">==</span> OF_ALIGN_VERT_BOTTOM<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        vAlign <span class=\"token operator\">=</span> OF_ALIGN_VERT_TOP<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> vAlign<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nstring ofApp<span class=\"token operator\">::</span><span class=\"token function\">getHorzAlignString</span><span class=\"token punctuation\">(</span>ofAlignHorz hAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>hAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_HORZ_LEFT<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_HORZ_LEFT\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_HORZ_CENTER<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_HORZ_CENTER\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_HORZ_RIGHT<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_HORZ_RIGHT\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_HORZ_IGNORE<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_HORZ_IGNORE\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n        \t<span class=\"token function\">ofLogError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Unknown ofAlignHorz: \"</span> <span class=\"token operator\">&lt;&lt;</span> hAlign<span class=\"token punctuation\">;</span>\n        \t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nstring ofApp<span class=\"token operator\">::</span><span class=\"token function\">getVertAlignString</span><span class=\"token punctuation\">(</span>ofAlignVert vAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>vAlign<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_VERT_TOP<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_VERT_TOP\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_VERT_CENTER<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_VERT_CENTER\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_VERT_BOTTOM<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_VERT_BOTTOM\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ALIGN_VERT_IGNORE<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ALIGN_VERT_IGNORE\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n        \t<span class=\"token function\">ofLogError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Unknown ofAlignVert: \"</span> <span class=\"token operator\">&lt;&lt;</span> vAlign<span class=\"token punctuation\">;</span>\n        \t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nstring ofApp<span class=\"token operator\">::</span><span class=\"token function\">getAspectRatioModeString</span><span class=\"token punctuation\">(</span>ofAspectRatioMode mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> OF_ASPECT_RATIO_IGNORE<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ASPECT_RATIO_IGNORE\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ASPECT_RATIO_KEEP<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ASPECT_RATIO_KEEP\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_ASPECT_RATIO_KEEP_BY_EXPANDING<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_ASPECT_RATIO_KEEP_BY_EXPANDING\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n        \t<span class=\"token function\">ofLogError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Unknown ofAspectRatioMode: \"</span> <span class=\"token operator\">&lt;&lt;</span> mode<span class=\"token punctuation\">;</span>\n        \t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//--------------------------------------------------------------</span>\nstring ofApp<span class=\"token operator\">::</span><span class=\"token function\">getScaleModeString</span><span class=\"token punctuation\">(</span>ofScaleMode mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> OF_SCALEMODE_FIT<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_SCALEMODE_FIT\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_SCALEMODE_FILL<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_SCALEMODE_FILL\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_SCALEMODE_CENTER<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_SCALEMODE_CENTER\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> OF_SCALEMODE_STRETCH_TO_FILL<span class=\"token operator\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"OF_SCALEMODE_STRETCH_TO_FILL\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n        \t<span class=\"token function\">ofLogError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Unknown ofScaleMode: \"</span> <span class=\"token operator\">&lt;&lt;</span> mode<span class=\"token punctuation\">;</span>\n        \t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n","type":"source","static":true}}],"fetch":[]}