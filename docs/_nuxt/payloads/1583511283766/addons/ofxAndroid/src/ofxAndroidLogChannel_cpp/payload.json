{"data":[{"page":{"entry":{"name":"ofxAndroidLogChannel.cpp","filename":"ofxAndroidLogChannel.cpp","absolute":"/Users/Gilbert/Code/openFrameworks/addons/ofxAndroid/src/ofxAndroidLogChannel.cpp","path":"/addons/ofxAndroid/src/ofxAndroidLogChannel_cpp","route":"/addons/ofxAndroid/src/ofxAndroidLogChannel.cpp","dir":"../addons/ofxAndroid/src","ext":"cpp","type":"source","id":47,"parent":39,"breadcrumbs":[39,40,36],"siblings":[],"translations":{}},"document":"<span class=\"token comment\" spellcheck=\"true\">/*\n * ofxAndroidLogChannel.cpp\n *\n *  Created on: 20/01/2011\n *      Author: arturo\n */</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">\"ofxAndroidLogChannel.h\"</span></span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;android/log.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\nofxAndroidLogChannel<span class=\"token operator\">::</span><span class=\"token function\">ofxAndroidLogChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> ofxAndroidLogChannel<span class=\"token operator\">::</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ofLogLevel level<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> string <span class=\"token operator\">&amp;</span> module<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> string<span class=\"token operator\">&amp;</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\tandroid_LogPriority androidPrio<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>level<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_VERBOSE<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_VERBOSE<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_NOTICE<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_INFO<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_WARNING<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_WARN<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_ERROR<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_ERROR<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_FATAL_ERROR<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_FATAL<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_INFO<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token function\">__android_log_print</span><span class=\"token punctuation\">(</span>androidPrio<span class=\"token punctuation\">,</span>module<span class=\"token punctuation\">.</span><span class=\"token function\">c_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">c_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">void</span> ofxAndroidLogChannel<span class=\"token operator\">::</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ofLogLevel logLevel<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> string <span class=\"token operator\">&amp;</span> module<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">char</span><span class=\"token operator\">*</span> format<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\tandroid_LogPriority androidPrio<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>logLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_VERBOSE<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_VERBOSE<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_NOTICE<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_INFO<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_WARNING<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_WARN<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_ERROR<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_ERROR<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_FATAL_ERROR<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_FATAL<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_INFO<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tva_list args<span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">va_start</span><span class=\"token punctuation\">(</span> args<span class=\"token punctuation\">,</span> format <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">__android_log_vprint</span><span class=\"token punctuation\">(</span>androidPrio<span class=\"token punctuation\">,</span>module<span class=\"token punctuation\">.</span><span class=\"token function\">c_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>format<span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">va_end</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">void</span> ofxAndroidLogChannel<span class=\"token operator\">::</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ofLogLevel logLevel<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> string <span class=\"token operator\">&amp;</span> module<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">char</span><span class=\"token operator\">*</span> format<span class=\"token punctuation\">,</span> va_list args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\tandroid_LogPriority androidPrio<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>logLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_VERBOSE<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_VERBOSE<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_NOTICE<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_INFO<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_WARNING<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_WARN<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_ERROR<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_ERROR<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">case</span> OF_LOG_FATAL_ERROR<span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_FATAL<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n\t\tandroidPrio<span class=\"token operator\">=</span>ANDROID_LOG_INFO<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token function\">__android_log_vprint</span><span class=\"token punctuation\">(</span>androidPrio<span class=\"token punctuation\">,</span>module<span class=\"token punctuation\">.</span><span class=\"token function\">c_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>format<span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n","type":"source"}}],"fetch":[]}