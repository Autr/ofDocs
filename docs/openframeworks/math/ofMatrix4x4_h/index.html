<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>ofMatrix4x4.h | openframeworks | ofDocs</title><meta data-n-head="ssr" data-hid="description" name="description" content="openFrameworks documentation and examples browser"><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="openFrameworks documentation and examples browser" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="ofMatrix4x4.h | openframeworks | ofDocs" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="/files/images/ofw-logo.png" vmid="og:image"><link rel="preload" href="/_nuxt/1222c887b819d0202cfa.js" as="script"><link rel="preload" href="/_nuxt/e2974c46edd15e353a99.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/f8d94d1c92ade1d8a6da.js" as="script"><link rel="preload" href="/_nuxt/f3151c6e69ccf58ccdfd.css" as="style"><link rel="preload" href="/_nuxt/c01572c3f985d7f6c287.js" as="script"><link rel="preload" href="/_nuxt/21c4d0f9583096394838.css" as="style"><link rel="preload" href="/_nuxt/adc32956be059d7527f6.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/f3151c6e69ccf58ccdfd.css"><link rel="stylesheet" href="/_nuxt/21c4d0f9583096394838.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app" class="unknown"><div id="menu"><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><div class="txt"><span class="docs f7 questrial">ofDocs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" x="0px" y="0px" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343						c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88						c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593						c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789						C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><div id="results" class="mt1"></div></div><div id="lists" class="menu-inner mt1"><div class="inner"><div class="item documentation"><a href="/documentation/" title="/documentation/"><i class="ico" style="display:none"></i><span>documentation</span><span style="display:none">documentation</span></a><!----></div><div class="item examples"><a href="/examples/" title="/examples/"><i class="ico" style="display:none"></i><span>examples</span><span style="display:none">examples</span></a><!----></div><div class="item openframeworks"><a href="/openframeworks/" title="/openframeworks/" class="nuxt-link-active"><i class="ico" style="display:none"></i><span>openFrameworks</span><span style="display:none">openframeworks</span></a><div class="list"><div class="item 3d"><a href="/openframeworks/3d/" title="/openframeworks/3d/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>3d</span></a><!----></div><div class="item app"><a href="/openframeworks/app/" title="/openframeworks/app/"><i class="ico" style="display:none">web</i><span style="display:none"></span><span>app</span></a><!----></div><div class="item communication"><a href="/openframeworks/communication/" title="/openframeworks/communication/"><i class="ico" style="display:none">language</i><span style="display:none"></span><span>communication</span></a><!----></div><div class="item events"><a href="/openframeworks/events/" title="/openframeworks/events/"><i class="ico" style="display:none">question_answer</i><span style="display:none"></span><span>events</span></a><!----></div><div class="item gl"><a href="/openframeworks/gl/" title="/openframeworks/gl/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>gl</span></a><!----></div><div class="item graphics"><a href="/openframeworks/graphics/" title="/openframeworks/graphics/"><i class="ico" style="display:none">category</i><span style="display:none"></span><span>graphics</span></a><!----></div><div class="item math"><a href="/openframeworks/math/" title="/openframeworks/math/" class="nuxt-link-active"><i class="ico" style="display:none">border_clear</i><span style="display:none"></span><span>math</span></a><div class="list"><div class="item ofMath.cpp"><a href="/openframeworks/math/ofMath_cpp" title="/openframeworks/math/ofMath.cpp"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMath.cpp</span></a><!----></div><div class="item ofMath.h"><a href="/openframeworks/math/ofMath_h" title="/openframeworks/math/ofMath.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMath.h</span></a><!----></div><div class="item ofMathConstants.h"><a href="/openframeworks/math/ofMathConstants_h" title="/openframeworks/math/ofMathConstants.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMathConstants.h</span></a><!----></div><div class="item ofMatrix3x3.cpp"><a href="/openframeworks/math/ofMatrix3x3_cpp" title="/openframeworks/math/ofMatrix3x3.cpp"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMatrix3x3.cpp</span></a><!----></div><div class="item ofMatrix3x3.h"><a href="/openframeworks/math/ofMatrix3x3_h" title="/openframeworks/math/ofMatrix3x3.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMatrix3x3.h</span></a><!----></div><div class="item ofMatrix4x4.cpp"><a href="/openframeworks/math/ofMatrix4x4_cpp" title="/openframeworks/math/ofMatrix4x4.cpp"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMatrix4x4.cpp</span></a><!----></div><div class="item ofMatrix4x4.h"><a href="/openframeworks/math/ofMatrix4x4_h" title="/openframeworks/math/ofMatrix4x4.h" class="nuxt-link-exact-active nuxt-link-active"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofMatrix4x4.h</span></a><div class="list"></div></div><div class="item ofQuaternion.cpp"><a href="/openframeworks/math/ofQuaternion_cpp" title="/openframeworks/math/ofQuaternion.cpp"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofQuaternion.cpp</span></a><!----></div><div class="item ofQuaternion.h"><a href="/openframeworks/math/ofQuaternion_h" title="/openframeworks/math/ofQuaternion.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofQuaternion.h</span></a><!----></div><div class="item ofVec2f.cpp"><a href="/openframeworks/math/ofVec2f_cpp" title="/openframeworks/math/ofVec2f.cpp"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofVec2f.cpp</span></a><!----></div><div class="item ofVec2f.h"><a href="/openframeworks/math/ofVec2f_h" title="/openframeworks/math/ofVec2f.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofVec2f.h</span></a><!----></div><div class="item ofVec3f.h"><a href="/openframeworks/math/ofVec3f_h" title="/openframeworks/math/ofVec3f.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofVec3f.h</span></a><!----></div><div class="item ofVec4f.cpp"><a href="/openframeworks/math/ofVec4f_cpp" title="/openframeworks/math/ofVec4f.cpp"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofVec4f.cpp</span></a><!----></div><div class="item ofVec4f.h"><a href="/openframeworks/math/ofVec4f_h" title="/openframeworks/math/ofVec4f.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofVec4f.h</span></a><!----></div><div class="item ofVectorMath.h"><a href="/openframeworks/math/ofVectorMath_h" title="/openframeworks/math/ofVectorMath.h"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofVectorMath.h</span></a><!----></div></div></div><div class="item sound"><a href="/openframeworks/sound/" title="/openframeworks/sound/"><i class="ico" style="display:none">volume_up</i><span style="display:none"></span><span>sound</span></a><!----></div><div class="item types"><a href="/openframeworks/types/" title="/openframeworks/types/"><i class="ico" style="display:none">ring_volume</i><span style="display:none"></span><span>types</span></a><!----></div><div class="item utils"><a href="/openframeworks/utils/" title="/openframeworks/utils/"><i class="ico" style="display:none">build</i><span style="display:none"></span><span>utils</span></a><!----></div><div class="item video"><a href="/openframeworks/video/" title="/openframeworks/video/"><i class="ico" style="display:none">videocam</i><span style="display:none"></span><span>video</span></a><!----></div></div></div><div class="item addons"><a href="/addons/" title="/addons/"><i class="ico" style="display:none">extension</i><span>addons</span><span style="display:none">addons</span></a><!----></div><div class="item guides"><a href="/guides/" title="/guides/"><i class="ico" style="display:none"></i><span>guides</span><span style="display:none">guides</span></a><!----></div></div></div></div><div id="document"><div id="renderer" class="main"><div absolute="/Users/Gilbert/Code/openFrameworks/libs/openFrameworks/math/ofMatrix4x4.h" route="/openframeworks/math/ofMatrix4x4.h" dir="../libs/openFrameworks/math" ext="h" type="source" id="291" parent="284" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><div class="mt2 mb2"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/openframeworks/" class="pink nuxt-link-active">openframeworks </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/openframeworks/math/" class="pink nuxt-link-active">math </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link selector"><span>ofMatrix4x4.h </span><span class="chevron bottom"></span><select><option value="/openframeworks/math/ofMath_cpp">ofMath.cpp</option><option value="/openframeworks/math/ofMath_h">ofMath.h</option><option value="/openframeworks/math/ofMathConstants_h">ofMathConstants.h</option><option value="/openframeworks/math/ofMatrix3x3_cpp">ofMatrix3x3.cpp</option><option value="/openframeworks/math/ofMatrix3x3_h">ofMatrix3x3.h</option><option value="/openframeworks/math/ofMatrix4x4_cpp">ofMatrix4x4.cpp</option><option value="/openframeworks/math/ofMatrix4x4_h">ofMatrix4x4.h</option><option value="/openframeworks/math/ofQuaternion_cpp">ofQuaternion.cpp</option><option value="/openframeworks/math/ofQuaternion_h">ofQuaternion.h</option><option value="/openframeworks/math/ofVec2f_cpp">ofVec2f.cpp</option><option value="/openframeworks/math/ofVec2f_h">ofVec2f.h</option><option value="/openframeworks/math/ofVec3f_h">ofVec3f.h</option><option value="/openframeworks/math/ofVec4f_cpp">ofVec4f.cpp</option><option value="/openframeworks/math/ofVec4f_h">ofVec4f.h</option><option value="/openframeworks/math/ofVectorMath_h">ofVectorMath.h</option></select></span><!----></span></span></div></div></div></div><div id="code-page" static="true" class="markdown"><div id="side-menu"><!----><div id="see-also" filename="math" absolute="/Users/Gilbert/Code/openFrameworks/libs/openFrameworks/math" dir="../libs/openFrameworks" route="/openframeworks/math/" ext="" type="folder" children="285,286,287,288,289,290,291,292,293,294,295,296,297,298,299" icon="border_clear" parent="195" breadcrumbs="195" class="see-also"><h4>See also</h4><div class="also"><a href="/documentation/math/"><span class="origin">documentation</span><span class="name">math</span></a></div><div class="also"><a href="/examples/math/"><span class="origin">examples</span><span class="name">math</span></a></div></div></div><div id="code-render"><div class="inner"><pre><code><span class="token comment" spellcheck="true">/*
 *  ofMatrix4x4.h
 *  
 *  Created by Aaron Meyers on 6/22/09 -- modified by Arturo Castro, Zach Lieberman, Memo Akten
 *  based on code from OSG - 
 *  see OSG license for more details: 
 *  http://www.openscenegraph.org/projects/osg/wiki/Legal
 * 
 */</span>

<span class="token macro property">#<span class="token directive keyword">pragma</span> once</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ofConstants.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ofVec4f.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ofQuaternion.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"glm/mat4x4.hpp"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ofMathConstants.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">ofVec3f</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/// \brief The ofMatrix4x4 is the big class of the math part of openFrameworks.</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token comment" spellcheck="true">/// You'll sometimes see it used for doing things like setting where the camera</span>
<span class="token comment" spellcheck="true">/// in OpenGL (the mathematically calculated one, not the ofCamera one) is </span>
<span class="token comment" spellcheck="true">/// looking or is pointed, or figuring how to position something in 3d space,</span>
<span class="token comment" spellcheck="true">/// doing scaling, etc. The great thing about the 4x4 matrix is that it can do </span>
<span class="token comment" spellcheck="true">/// all these things at the same time. A single ofMatrix4x4 can represent a ton </span>
<span class="token comment" spellcheck="true">/// of different information about a stuff that goes on in doing 3d </span>
<span class="token comment" spellcheck="true">/// programming: where an object is, how you want to scale an object, where a </span>
<span class="token comment" spellcheck="true">/// camera is. Let's look at a few really basic examples:</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token comment" spellcheck="true">/// ![MATS](math/mats.png)</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token comment" spellcheck="true">/// Not particularly exciting, but you can see how they'd be useful. Luckily most</span>
<span class="token comment" spellcheck="true">/// of the need to transform, rotate, scale, shear, or further bazzlemunge (just</span>
<span class="token comment" spellcheck="true">/// kidding, bazzlemunging is not a thing) stuff in oF is handled internally by</span>
<span class="token comment" spellcheck="true">/// objects like ofNode or ofCamera.</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token comment" spellcheck="true">/// oF uses row-vector style by default, meaning that when transforming a vector</span>
<span class="token comment" spellcheck="true">/// by multiplying with a matrix, you should put the vector on the left side and</span>
<span class="token comment" spellcheck="true">/// the matrix (or matrices) to its right. When multiplying by multiple matrices,</span>
<span class="token comment" spellcheck="true">/// the order of application of the transforms is left-to-right. This means that</span>
<span class="token comment" spellcheck="true">/// the standard order of manipulation operations is </span>
<span class="token comment" spellcheck="true">/// vector * scale * rotate * translate.</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token comment" spellcheck="true">/// Note that in GLSL, this convention is reversed, and column-vector style is</span>
<span class="token comment" spellcheck="true">/// used. oF uploads the matrices to the GL context correctly, but you should</span>
<span class="token comment" spellcheck="true">/// reverse the order of your vertex manipulations to right-to-left style, e.g.</span>
<span class="token comment" spellcheck="true">/// translate * rotate * scale * vector.</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token comment" spellcheck="true">/// On the application side, oF has operators which let you do matrix-vector </span>
<span class="token comment" spellcheck="true">/// multiplication with the vector on the right if that's your preferred style. </span>
<span class="token comment" spellcheck="true">/// To set up a combined transformation matrix for working in this style, you</span>
<span class="token comment" spellcheck="true">/// should do matrix transformations with the functions like glTranslate,</span>
<span class="token comment" spellcheck="true">/// glRotate, and glScale.</span>
<span class="token comment" spellcheck="true">/// </span>
<span class="token keyword">class</span> <span class="token class-name">ofMatrix4x4</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
<span class="token comment" spellcheck="true">//	float _mat[4][4];</span>
	
	<span class="token comment" spellcheck="true">/// \brief The values of the matrix, stored in row-major order.</span>
	ofVec4f _mat<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \cond INTERNAL</span>
	<span class="token comment" spellcheck="true">// Should this be moved to private?</span>
	<span class="token comment" spellcheck="true">/// \endcond</span>

	<span class="token comment" spellcheck="true">/// \name Constructors</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// \brief The default constructor provides an identity matrix.</span>
	<span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">makeIdentityMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>mat4 <span class="token operator">&</span> mat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">=</span> <span class="token keyword">reinterpret_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span><span class="token operator">></span><span class="token punctuation">(</span>mat<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">operator</span> glm<span class="token operator">::</span><span class="token function">mat4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">reinterpret_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> glm<span class="token operator">::</span>mat4<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief Construct with a pointer.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// You can pass a pointer to floats, and the first 16 contents will be </span>
	<span class="token comment" spellcheck="true">/// extracted into this matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// \warning the validity of these values is not checked!</span>
	<span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span> <span class="token keyword">float</span> <span class="token keyword">const</span> <span class="token operator">*</span> <span class="token keyword">const</span> ptr <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">set</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief Rotation matrices can be constructed from a quaternion.</span>
	<span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> quat <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span>quat<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief Positional style.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// All 16 values of the matrix as positional arguments in row-major order.</span>
	<span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span>	<span class="token keyword">float</span> a00<span class="token punctuation">,</span> <span class="token keyword">float</span> a01<span class="token punctuation">,</span> <span class="token keyword">float</span> a02<span class="token punctuation">,</span> <span class="token keyword">float</span> a03<span class="token punctuation">,</span>
	              <span class="token keyword">float</span> a10<span class="token punctuation">,</span> <span class="token keyword">float</span> a11<span class="token punctuation">,</span> <span class="token keyword">float</span> a12<span class="token punctuation">,</span> <span class="token keyword">float</span> a13<span class="token punctuation">,</span>
	              <span class="token keyword">float</span> a20<span class="token punctuation">,</span> <span class="token keyword">float</span> a21<span class="token punctuation">,</span> <span class="token keyword">float</span> a22<span class="token punctuation">,</span> <span class="token keyword">float</span> a23<span class="token punctuation">,</span>
	              <span class="token keyword">float</span> a30<span class="token punctuation">,</span> <span class="token keyword">float</span> a31<span class="token punctuation">,</span> <span class="token keyword">float</span> a32<span class="token punctuation">,</span> <span class="token keyword">float</span> a33<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \} end Constructor group</span>

	<span class="token comment" spellcheck="true">/// \brief destructor.</span>
	<span class="token operator">~</span><span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \name make* Methods</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// These methods perform a total matrix makeover. All make* methods delete</span>
	<span class="token comment" spellcheck="true">/// the current data and the matrix becomes a new type of transform.</span>
	
	<span class="token comment" spellcheck="true">/// \brief Matrix becomes the identity matrix.</span>
	<span class="token keyword">void</span> <span class="token function">makeIdentityMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \name Scale</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// Matrix becomes a scale transform.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Accepts x, y, z scale values as a vector or separately.</span>
	<span class="token keyword">void</span> <span class="token function">makeScaleMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">makeScaleMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span><span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token punctuation">,</span> <span class="token keyword">float</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \name Translation</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// Matrix becomes a translation transform.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Accepts x, y, z translation values as a vector or separately.</span>
	<span class="token keyword">void</span> <span class="token function">makeTranslationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">makeTranslationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span><span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token punctuation">,</span> <span class="token keyword">float</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \name Rotation</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// Matrix becomes a rotation transform.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// \param from Matrix becomes a rotation from this vector direction.</span>
	<span class="token comment" spellcheck="true">/// \param to Matrix becomes a rotation to this vector direction.</span>
	<span class="token keyword">void</span> <span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> from<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> to <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \param angle Matrix becomes a rotation by angle (degrees).</span>
	<span class="token comment" spellcheck="true">/// \param axis Rotation is performed around this vector.</span>
	<span class="token keyword">void</span> <span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \param angle Matrix becomes a rotation by angle (degrees).</span>
	<span class="token comment" spellcheck="true">/// \param x X-value of the rotation axis.</span>
	<span class="token comment" spellcheck="true">/// \param y Y-value of the rotation axis.</span>
	<span class="token comment" spellcheck="true">/// \param z Z-value of the rotation axis.</span>
	<span class="token keyword">void</span> <span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \param quaternion Matrix becomes a rotation that produces the quaternion's orientation.</span>
	<span class="token keyword">void</span> <span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> quaternion <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Matrix becomes a rotation around multiple axes.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// The final rotation is the result of rotating around each of the three</span>
	<span class="token comment" spellcheck="true">/// axes, in order. Angles are given in degrees, and axes can be arbitrary</span>
	<span class="token comment" spellcheck="true">/// vectors.</span>
	<span class="token keyword">void</span> <span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> angle1<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis1<span class="token punctuation">,</span>
	                 <span class="token keyword">float</span> angle2<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis2<span class="token punctuation">,</span>
	                 <span class="token keyword">float</span> angle3<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis3<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>


	<span class="token comment" spellcheck="true">/// \name Make* methods related to another matrix</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes the inverse of the provided matrix.</span>
	<span class="token keyword">bool</span> <span class="token function">makeInvertOf</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes an orthonormalized version of the provided matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// The basis vectors (the 3x3 chunk embedded in the upper left of the matrix)</span>
	<span class="token comment" spellcheck="true">/// are normalized. This means the resulting matrix has had scaling effects</span>
	<span class="token comment" spellcheck="true">/// removed. The fourth column and the fourth row are transferred over</span>
	<span class="token comment" spellcheck="true">/// untouched, so translation will be included as well.</span>
	<span class="token keyword">void</span> <span class="token function">makeOrthoNormalOf</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes the result of the multiplication of two other matrices.</span>
	<span class="token keyword">void</span> <span class="token function">makeFromMultiplicationOf</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span><span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \name View matrix make*</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// These functions are based on some OpenGL matrix functions used for</span>
	<span class="token comment" spellcheck="true">/// perspective settings. See the OpenGL docs of the related function</span>
	<span class="token comment" spellcheck="true">/// for further details.</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes an orthographic projection matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Related to: glOrtho. The orthographic projection has a box-shaped</span>
	<span class="token comment" spellcheck="true">/// viewing volume described by the six parameters. Left, right, bottom,</span>
	<span class="token comment" spellcheck="true">/// and top specify coordinates in the zNear clipping plane where the</span>
	<span class="token comment" spellcheck="true">/// corresponding box sides intersect it.</span>
	<span class="token keyword">void</span> <span class="token function">makeOrthoMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	               <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">,</span>
	               <span class="token keyword">double</span> zNear<span class="token punctuation">,</span>  <span class="token keyword">double</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes a 2D orthographic projection matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Related to: glOrtho2D. The box-shaped viewing volume is </span>
	<span class="token comment" spellcheck="true">/// described by the four parameters and, implicitly, a zNear of -1 </span>
	<span class="token comment" spellcheck="true">/// and a zFar of 1.</span>
	<span class="token keyword">void</span> <span class="token function">makeOrtho2DMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	                        <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes a perspective projection matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Related to: glFrustum. The viewing volume is frustum-shaped and</span>
	<span class="token comment" spellcheck="true">/// defined by the six parameters. Left, right, top, and bottom specify </span>
	<span class="token comment" spellcheck="true">/// coordinates in the zNear clipping plane where the frustum edges intersect</span>
	<span class="token comment" spellcheck="true">/// it, and the zNear and zFar parameters define the forward distances of </span>
	<span class="token comment" spellcheck="true">/// the view volume. The resulting volume can be vertically and </span>
	<span class="token comment" spellcheck="true">/// horizontally asymmetrical around the center of the near plane.</span>
	<span class="token keyword">void</span> <span class="token function">makeFrustumMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	                 <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">,</span>
	                 <span class="token keyword">double</span> zNear<span class="token punctuation">,</span>  <span class="token keyword">double</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes a perspective projection matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Related to: gluPerspective. The viewing volume is frustum-shaped amd</span>
	<span class="token comment" spellcheck="true">/// defined by the four parameters. The fovy and aspect ratio</span>
	<span class="token comment" spellcheck="true">/// are used to compute the positions of the left, right, top, and bottom sides</span>
	<span class="token comment" spellcheck="true">/// of the viewing volume in the zNear plane. The fovy is the y field-of-view,</span>
	<span class="token comment" spellcheck="true">/// the angle made by the top and bottom sides of frustum if they were to</span>
	<span class="token comment" spellcheck="true">/// intersect. The aspect ratio is the width of the frustum divided by its</span>
	<span class="token comment" spellcheck="true">/// height. Note that the resulting volume is both vertically and </span>
	<span class="token comment" spellcheck="true">/// horizontally symmetrical around the center of the near plane.</span>
	<span class="token keyword">void</span> <span class="token function">makePerspectiveMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> fovy<span class="token punctuation">,</span>  <span class="token keyword">double</span> aspectRatio<span class="token punctuation">,</span>
						 <span class="token keyword">double</span> zNear<span class="token punctuation">,</span> <span class="token keyword">double</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes a combination of translation and rotation.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Matrix becomes a combination of a translation to the position of 'eye'</span>
	<span class="token comment" spellcheck="true">/// and a rotation matrix which orients an object to point towards 'center'</span>
	<span class="token comment" spellcheck="true">/// along its z-axis. Use this function if you want an object to look at a </span>
	<span class="token comment" spellcheck="true">/// point from another point in space.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// \param eye The position of the object.</span>
	<span class="token comment" spellcheck="true">/// \param center The point which the object is "looking" at.</span>
	<span class="token comment" spellcheck="true">/// \param up The direction which the object considers to be "up".</span>
	<span class="token keyword">void</span> <span class="token function">makeLookAtMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> eye<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> center<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix becomes a combination of an inverse translation and rotation.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Related to: gluLookAt. This creates the inverse of makeLookAtMatrix.</span>
	<span class="token comment" spellcheck="true">/// The matrix will be an opposite translation from the 'eye' position,</span>
	<span class="token comment" spellcheck="true">/// and it will rotate things in the opposite direction of the eye-to-center</span>
	<span class="token comment" spellcheck="true">/// orientation. This is definitely confusing, but the main reason to use</span>
	<span class="token comment" spellcheck="true">/// this transform is to set up a view matrix for a camera that's looking </span>
	<span class="token comment" spellcheck="true">/// at a certain point. To achieve the effect of moving the camera somewhere</span>
	<span class="token comment" spellcheck="true">/// and rotating it so that it points at something, the rest of the world</span>
	<span class="token comment" spellcheck="true">/// is moved in the *opposite* direction and rotated in the *opposite* way </span>
	<span class="token comment" spellcheck="true">/// around the camera. This way, you get the same effect as moving the actual</span>
	<span class="token comment" spellcheck="true">/// camera, but all the projection math can still be done with the camera</span>
	<span class="token comment" spellcheck="true">/// positioned at the origin (which makes it way simpler).</span>
	<span class="token keyword">void</span> <span class="token function">makeLookAtViewMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> eye<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> center<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \} end view-related group</span>

	<span class="token comment" spellcheck="true">/// \} end make* group</span>

	<span class="token comment" spellcheck="true">/// \name Static new* matrix functions</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// These are static utility functions to create new matrices. These</span>
	<span class="token comment" spellcheck="true">/// functions generally return the equivalent of declaring a matrix and</span>
	<span class="token comment" spellcheck="true">/// calling the corresponding "make..." function on it.</span>

	<span class="token comment" spellcheck="true">/// \sa makeIdentityMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newIdentityMatrix</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makeScaleMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newScaleMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> sv<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newScaleMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> sx<span class="token punctuation">,</span> <span class="token keyword">float</span> sy<span class="token punctuation">,</span> <span class="token keyword">float</span> sz<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makeTranslationMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newTranslationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> dv<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newTranslationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makeRotationMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> from<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">float</span> angle1<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis1<span class="token punctuation">,</span>
	                                   <span class="token keyword">float</span> angle2<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis2<span class="token punctuation">,</span>
	                                   <span class="token keyword">float</span> angle3<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis3<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> quat<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// These functions create new matrices related to glFunctions. See </span>
	<span class="token comment" spellcheck="true">/// the description of the corresponding make* methods for more info.</span>

	<span class="token comment" spellcheck="true">/// \sa makeOrthoMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newOrthoMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	                                 <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">,</span>
	                                 <span class="token keyword">double</span> zNear<span class="token punctuation">,</span>  <span class="token keyword">double</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makeOrtho2DMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newOrtho2DMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	                                   <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makeFrustumMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newFrustumMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	                                   <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">,</span>
	                                   <span class="token keyword">double</span> zNear<span class="token punctuation">,</span>  <span class="token keyword">double</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makePerspectiveMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newPerspectiveMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> fovy<span class="token punctuation">,</span>  <span class="token keyword">double</span> aspectRatio<span class="token punctuation">,</span>
	                                       <span class="token keyword">double</span> zNear<span class="token punctuation">,</span> <span class="token keyword">double</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \sa makeLookAtMatrix</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">newLookAtMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> eye<span class="token punctuation">,</span>
	                                  <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> center<span class="token punctuation">,</span>
	                                  <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \} end Static new* matrix group</span>

	<span class="token comment" spellcheck="true">//---------------------</span>
	<span class="token comment" spellcheck="true">/// \name Accessors</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// \brief Write data with `matrix(row,col)=number`</span>
	<span class="token keyword">float</span><span class="token operator">&</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>std<span class="token operator">::</span>size_t row<span class="token punctuation">,</span> std<span class="token operator">::</span>size_t col<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> _mat<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief Read data with `matrix(row, col)`</span>
	<span class="token keyword">float</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>std<span class="token operator">::</span>size_t row<span class="token punctuation">,</span> std<span class="token operator">::</span>size_t col<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> _mat<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief returns a copy of row i</span>
	ofVec3f <span class="token function">getRowAsVec3f</span><span class="token punctuation">(</span>std<span class="token operator">::</span>size_t i<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">/// \brief returns a copy of row i</span>
	ofVec4f <span class="token function">getRowAsVec4f</span><span class="token punctuation">(</span>std<span class="token operator">::</span>size_t i<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">/// \cond INTERNAL</span>
	<span class="token keyword">friend</span> std<span class="token operator">::</span>ostream<span class="token operator">&</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token operator">::</span>ostream<span class="token operator">&</span> os<span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> M<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">friend</span> std<span class="token operator">::</span>istream<span class="token operator">&</span> <span class="token keyword">operator</span><span class="token operator">>></span><span class="token punctuation">(</span>std<span class="token operator">::</span>istream<span class="token operator">&</span> is<span class="token punctuation">,</span> ofMatrix4x4<span class="token operator">&</span> M<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \endcond</span>
	
	<span class="token comment" spellcheck="true">/// \brief Access the internal data in `float*` format</span>
	<span class="token comment" spellcheck="true">/// useful for opengl matrix transformations</span>
	<span class="token keyword">float</span> <span class="token operator">*</span> <span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span><span class="token punctuation">)</span>_mat<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">const</span> <span class="token keyword">float</span> <span class="token operator">*</span> <span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">float</span> <span class="token operator">*</span><span class="token punctuation">)</span>_mat<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">/// \} end accessors group</span>

	<span class="token comment" spellcheck="true">//---------------------</span>
	<span class="token comment" spellcheck="true">/// \name Checking</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	
	<span class="token comment" spellcheck="true">/// \brief Checks if the matrix is valid by ensuring its items are numbers.</span>
	<span class="token keyword">bool</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief Checks if the matrix contains items that are not numbers.</span>
	<span class="token keyword">bool</span> <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Checks if the matrix is the identity matrix.</span>
	<span class="token keyword">bool</span> <span class="token function">isIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">//---------------------</span>
	<span class="token comment" spellcheck="true">/// \name Setters</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// \brief Copy a matrix using `=` operator.</span>
	ofMatrix4x4<span class="token operator">&</span> <span class="token keyword">operator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>

	
	<span class="token comment" spellcheck="true">/// \brief Set the data of the matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// These functions are analogous to the corresponding constructors.</span>
	<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token keyword">const</span> <span class="token operator">*</span> <span class="token keyword">const</span> ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token keyword">const</span> <span class="token operator">*</span> <span class="token keyword">const</span> ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">float</span> a00<span class="token punctuation">,</span> <span class="token keyword">float</span> a01<span class="token punctuation">,</span> <span class="token keyword">float</span> a02<span class="token punctuation">,</span> <span class="token keyword">float</span> a03<span class="token punctuation">,</span>
	         <span class="token keyword">float</span> a10<span class="token punctuation">,</span> <span class="token keyword">float</span> a11<span class="token punctuation">,</span> <span class="token keyword">float</span> a12<span class="token punctuation">,</span> <span class="token keyword">float</span> a13<span class="token punctuation">,</span>
	         <span class="token keyword">float</span> a20<span class="token punctuation">,</span> <span class="token keyword">float</span> a21<span class="token punctuation">,</span> <span class="token keyword">float</span> a22<span class="token punctuation">,</span> <span class="token keyword">float</span> a23<span class="token punctuation">,</span>
	         <span class="token keyword">float</span> a30<span class="token punctuation">,</span> <span class="token keyword">float</span> a31<span class="token punctuation">,</span> <span class="token keyword">float</span> a32<span class="token punctuation">,</span> <span class="token keyword">float</span> a33<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">//---------------------</span>
	<span class="token comment" spellcheck="true">/// \name Getters</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// \brief Gets the inverse matrix.</span>
	ofMatrix4x4 <span class="token function">getInverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Get the perspective components from a matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This only works with pure perspective projection matrices.</span>
	<span class="token keyword">bool</span> <span class="token function">getOrtho</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token operator">&</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span><span class="token operator">&</span> right<span class="token punctuation">,</span>
	              <span class="token keyword">double</span><span class="token operator">&</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">&</span> top<span class="token punctuation">,</span>
	              <span class="token keyword">double</span><span class="token operator">&</span> zNear<span class="token punctuation">,</span>  <span class="token keyword">double</span><span class="token operator">&</span> zFar<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Gets the perspective components for a frustum projection matrix.</span>
	<span class="token keyword">bool</span> <span class="token function">getFrustum</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token operator">&</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span><span class="token operator">&</span> right<span class="token punctuation">,</span>
	                <span class="token keyword">double</span><span class="token operator">&</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">&</span> top<span class="token punctuation">,</span>
	                <span class="token keyword">double</span><span class="token operator">&</span> zNear<span class="token punctuation">,</span>  <span class="token keyword">double</span><span class="token operator">&</span> zFar<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Get the frustum settings of a symmetric perspective projection</span>
	<span class="token comment" spellcheck="true">/// matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Note, if matrix is not a symmetric perspective matrix then the</span>
	<span class="token comment" spellcheck="true">/// shear will be lost.</span>
	<span class="token comment" spellcheck="true">/// Asymmetric matrices occur when stereo, power walls, caves and</span>
	<span class="token comment" spellcheck="true">/// reality center display are used.</span>
	<span class="token comment" spellcheck="true">/// In these configuration one should use the getFrustum method instead.</span>
	<span class="token comment" spellcheck="true">///</span>
	<span class="token comment" spellcheck="true">/// \returns false if matrix is not a perspective matrix,</span>
	<span class="token comment" spellcheck="true">/// where parameter values are undefined.</span>
	<span class="token keyword">bool</span> <span class="token function">getPerspective</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token operator">&</span> fovy<span class="token punctuation">,</span>  <span class="token keyword">double</span><span class="token operator">&</span> aspectRatio<span class="token punctuation">,</span>
	                    <span class="token keyword">double</span><span class="token operator">&</span> zNear<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">&</span> zFar<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Gets the lookAt determiners of the matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This function will only work for modelview matrices.</span>
	<span class="token keyword">void</span> <span class="token function">getLookAt</span><span class="token punctuation">(</span>ofVec3f<span class="token operator">&</span> eye<span class="token punctuation">,</span> ofVec3f<span class="token operator">&</span> center<span class="token punctuation">,</span> ofVec3f<span class="token operator">&</span> up<span class="token punctuation">,</span>
	               <span class="token keyword">float</span> lookDistance <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Decompose the matrix into translation, rotation,</span>
	<span class="token comment" spellcheck="true">/// scale and scale orientation.</span>
	<span class="token keyword">void</span> <span class="token function">decompose</span><span class="token punctuation">(</span> ofVec3f<span class="token operator">&</span> translation<span class="token punctuation">,</span>
					ofQuaternion<span class="token operator">&</span> rotation<span class="token punctuation">,</span>
					ofVec3f<span class="token operator">&</span> scale<span class="token punctuation">,</span>
					ofQuaternion<span class="token operator">&</span> so <span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// Create new matrices as transformation of another.</span>

	<span class="token comment" spellcheck="true">/// \brief Makes a new matrix which is the inverse of the given matrix.</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">getInverseOf</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Makes a new matrix which is the transpose of the given matrix.</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">getTransposedOf</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Makes a new matrix which is the given matrix, normalized.</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofMatrix4x4 <span class="token function">getOrthoNormalOf</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">//---------------------</span>
	<span class="token comment" spellcheck="true">/// \name Matrix multiplication</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// Although OpenGL uses post-multiplication (vector-on-the-right) with</span>
	<span class="token comment" spellcheck="true">/// column-major matrix memory layout, oF uses pre-multiplication</span>
	<span class="token comment" spellcheck="true">/// (vector-on-the-left) with row-major matrix memory layout by default.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// openGL:</span>
	<span class="token comment" spellcheck="true">///</span>
	<span class="token comment" spellcheck="true">/// |   |   |   |   |</span>
	<span class="token comment" spellcheck="true">/// |:-:|:-:|:-:|:-:|</span>
	<span class="token comment" spellcheck="true">/// | 0 | 4 | 8 | 12|</span>
	<span class="token comment" spellcheck="true">/// | 1 | 5 | 9 | 13|</span>
	<span class="token comment" spellcheck="true">/// | 2 | 6 | 10| 14|</span>
	<span class="token comment" spellcheck="true">/// | 3 | 7 | 11| 15|</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// ofMatrix4x4:</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// |   |   |   |   |</span>
	<span class="token comment" spellcheck="true">/// |:-:|:-:|:-:|:-:|</span>
	<span class="token comment" spellcheck="true">/// | 0 | 1 | 2 | 3 |</span>
	<span class="token comment" spellcheck="true">/// | 4 | 5 | 6 | 7 |</span>
	<span class="token comment" spellcheck="true">/// | 8 | 9 | 10| 11|</span>
	<span class="token comment" spellcheck="true">/// | 12| 13| 14| 15|</span>
	<span class="token comment" spellcheck="true">///</span>
	<span class="token comment" spellcheck="true">/// However, the two memory layouts are compatible because of a funny trick.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// When the ofMatrix4x4 is uploaded into OpenGL's memory, OpenGL treats it</span>
	<span class="token comment" spellcheck="true">/// like a column-major matrix. The rows of the ofMatrix4x4 are loaded as</span>
	<span class="token comment" spellcheck="true">/// columns for the GLSL mat4. The result is that the matrix is transposed.</span>
	<span class="token comment" spellcheck="true">/// This seems like a bug, but it's in fact exactly what we want, because to</span>
	<span class="token comment" spellcheck="true">/// do the transition from pre-multiplication to post-multiplication style,</span>
	<span class="token comment" spellcheck="true">/// we need to perform the very same transpose.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// By using pre-multiplication, oF treats vectors as 1x4 matrices, since </span>
	<span class="token comment" spellcheck="true">/// that provides a valid 1x4 * 4x4 operation. When moving to</span>
	<span class="token comment" spellcheck="true">/// post-multiplication, OpenGL is treating vectors like columns, </span>
	<span class="token comment" spellcheck="true">/// providing a similarly valid 4x4 * 4x1 operation. This means that the</span>
	<span class="token comment" spellcheck="true">///  resulting vector in OGL-land is the transpose of the result when</span>
	<span class="token comment" spellcheck="true">/// done in oF-land.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Recall that in matrix multiplication,</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// (V * M * S)^T = (S^T) * (M^T) * (V^T)</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// What this means is that to convert from pre-multiplication to </span>
	<span class="token comment" spellcheck="true">/// post-multiplication, we need to transpose our matrices (and vectors) </span>
	<span class="token comment" spellcheck="true">/// and reverse the order of multiplication. You're already reversing</span>
	<span class="token comment" spellcheck="true">/// the order of multiplication by writing your shaders with the vector</span>
	<span class="token comment" spellcheck="true">/// on the right, and the implicit transpose that happens when your matrix</span>
	<span class="token comment" spellcheck="true">/// is uploaded to GL memory accomplishes the transposition for free!</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// For more information on this subject, check out</span>
	<span class="token comment" spellcheck="true">/// [this post](http://seanmiddleditch.com/matrices-handedness-pre-and-post-multiplication-row-vs-column-major-and-notations/).</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix * vector multiplication.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This operation implicitly treat vectors as column-matrices.</span>
	<span class="token keyword">inline</span> ofVec3f <span class="token function">postMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> ofVec4f <span class="token function">postMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec4f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Post-multiply by another matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This matrix becomes `this * other`.</span>
	<span class="token keyword">void</span> <span class="token function">postMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Vector * matrix multiplication.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This operation implicitly treats vectors as row-matrices.</span>
	<span class="token keyword">inline</span> ofVec3f <span class="token function">preMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> ofVec4f <span class="token function">preMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec4f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Pre-multiply by another matrix.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This matrix becomes `other * this`.</span>
	<span class="token keyword">void</span> <span class="token function">preMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief The *= operation for matrices.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// This is equivalent to calling postMult(other), but it allows you to do</span>
	<span class="token comment" spellcheck="true">/// someMatrix *= someMatrix without breaking const-correctness. Calling</span>
	<span class="token comment" spellcheck="true">/// someMatrix.postMult(someMatrix) won't work.</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token keyword">operator</span> <span class="token operator">*</span><span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> other <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token operator">&</span>other <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			ofMatrix4x4 <span class="token function">temp</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">postMult</span><span class="token punctuation">(</span> temp <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">postMult</span><span class="token punctuation">(</span> other <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief creates a new matrix from the product of two matrices.</span>
	<span class="token keyword">inline</span> ofMatrix4x4 <span class="token keyword">operator</span> <span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4 <span class="token operator">&</span>m <span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		ofMatrix4x4 r<span class="token punctuation">;</span>
		r<span class="token punctuation">.</span><span class="token function">makeFromMultiplicationOf</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span>  r<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// \brief Matrix * Vector operator.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// Calls postMult() internally.</span>
	<span class="token keyword">inline</span> ofVec3f <span class="token keyword">operator</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">postMult</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">inline</span> ofVec4f <span class="token keyword">operator</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ofVec4f<span class="token operator">&</span> v<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">postMult</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">/// These are specialized postMult methods, usually you want to use these</span>
	<span class="token comment" spellcheck="true">/// for transforming with ofVec.</span>

	<span class="token comment" spellcheck="true">/// \brief Equivalent to postMult(newTranslationMatrix(v)).</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">postMultTranslate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Equivalent to postMult(scale(v)).</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">postMultScale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Equivalent to postMult(newRotationMatrix(q)).</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">postMultRotate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">postMultTranslate</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">postMultRotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">postMultScale</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Equivalent to preMult(newScaleMatrix(v)).</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">preMultScale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Equivalent to preMult(newTranslationMatrix(v)).</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">preMultTranslate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Equivalent to preMult(newRotationMatrix(q)).</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">preMultRotate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">//---------------------</span>
	<span class="token comment" spellcheck="true">/// \name Matrix transformation</span>
	<span class="token comment" spellcheck="true">/// \{</span>

	<span class="token comment" spellcheck="true">/// \name Set methods</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// All of these methods alter the components,</span>
	<span class="token comment" spellcheck="true">/// deleting the previous data only in that component.</span>
	<span class="token keyword">void</span> <span class="token function">setRotate</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">setTranslation</span><span class="token punctuation">(</span> <span class="token keyword">float</span> tx<span class="token punctuation">,</span> <span class="token keyword">float</span> ty<span class="token punctuation">,</span> <span class="token keyword">float</span> tz <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">setTranslation</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \name PostMult Transformations</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// All of these methods apply the transformations over the current one,</span>
	<span class="token comment" spellcheck="true">/// calling postMult under the hood. These work as the opposite of the </span>
	<span class="token comment" spellcheck="true">/// equivalent OpenGL functions.</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// For example, glTranslate + glRotate == rotate + translate.</span>

	<span class="token comment" spellcheck="true">/// \brief Rotates by angle (degrees) around the given x, y, z axis.</span>
	<span class="token keyword">void</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Rotates by angle (radians) around the given x, y, z axis.</span>
	<span class="token keyword">void</span> <span class="token function">rotateRad</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Rotates based on the quarternion.</span>
	<span class="token keyword">void</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Translates by tx, ty, tz.</span>
	<span class="token keyword">void</span> <span class="token function">translate</span><span class="token punctuation">(</span> <span class="token keyword">float</span> tx<span class="token punctuation">,</span> <span class="token keyword">float</span> ty<span class="token punctuation">,</span> <span class="token keyword">float</span> tz <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Translates along the vector.</span>
	<span class="token keyword">void</span> <span class="token function">translate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Scales each axis by the corresponding x, y, z.</span>
	<span class="token keyword">void</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \brief Scales each axis by the corresponding x, y, z of the vector.</span>
	<span class="token keyword">void</span> <span class="token function">scale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \name PreMult Transformations</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// All of these methods apply the transformations over the current one,</span>
	<span class="token comment" spellcheck="true">/// calling preMult under the hood. These work the the same the equivalent </span>
	<span class="token comment" spellcheck="true">/// OpenGL functions.</span>

	<span class="token comment" spellcheck="true">/// \sa rotate</span>
	<span class="token keyword">void</span> <span class="token function">glRotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \sa rotate</span>
	<span class="token keyword">void</span> <span class="token function">glRotateRad</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \sa rotate</span>
	<span class="token keyword">void</span> <span class="token function">glRotate</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \sa translate</span>
	<span class="token keyword">void</span> <span class="token function">glTranslate</span><span class="token punctuation">(</span> <span class="token keyword">float</span> tx<span class="token punctuation">,</span> <span class="token keyword">float</span> ty<span class="token punctuation">,</span> <span class="token keyword">float</span> tz <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \sa translate</span>
	<span class="token keyword">void</span> <span class="token function">glTranslate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \sa scale</span>
	<span class="token keyword">void</span> <span class="token function">glScale</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \sa scale</span>
	<span class="token keyword">void</span> <span class="token function">glScale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \name Get Methods</span>
	<span class="token comment" spellcheck="true">/// \{</span>
	<span class="token comment" spellcheck="true">/// </span>
	<span class="token comment" spellcheck="true">/// These return matrix components. getRotate and getScale can only be </span>
	<span class="token comment" spellcheck="true">/// used if the matrix only has rotation or only has scale, since these</span>
	<span class="token comment" spellcheck="true">/// transform values are stored in the same area of the matrix.</span>
	<span class="token comment" spellcheck="true">/// For matrices with both use decompose instead.</span>
	ofQuaternion <span class="token function">getRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
	ofVec3f <span class="token function">getTranslation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
	ofVec3f <span class="token function">getScale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/// \}</span>

	<span class="token comment" spellcheck="true">/// \brief Apply a 3x3 transform (no translation) of v * M.</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofVec3f <span class="token function">transform3x3</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v<span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \brief Apply a 3x3 transform (no translation) of M * v.</span>
	<span class="token keyword">inline</span> <span class="token keyword">static</span> ofVec3f <span class="token function">transform3x3</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> m<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">/// \}</span>
	
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/// \cond INTERNAL</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------</span>
<span class="token comment" spellcheck="true">// implementation of inline methods</span>

<span class="token keyword">inline</span> <span class="token keyword">bool</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
	       std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
	       std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
		   std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> std<span class="token operator">::</span><span class="token function">isnan</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



std<span class="token operator">::</span>ostream<span class="token operator">&</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token operator">::</span>ostream<span class="token operator">&</span> os<span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> M<span class="token punctuation">)</span><span class="token punctuation">;</span>

std<span class="token operator">::</span>istream<span class="token operator">&</span> <span class="token keyword">operator</span><span class="token operator">>></span><span class="token punctuation">(</span>std<span class="token operator">::</span>istream<span class="token operator">&</span> is<span class="token punctuation">,</span> ofMatrix4x4<span class="token operator">&</span> M<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">inline</span> ofMatrix4x4<span class="token operator">&</span> ofMatrix4x4<span class="token operator">::</span><span class="token keyword">operator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">&</span>rhs <span class="token operator">==</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token function">set</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">set</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token keyword">const</span> <span class="token operator">*</span> <span class="token keyword">const</span> ptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span><span class="token operator">*</span> local_ptr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span><span class="token punctuation">)</span>_mat<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token operator">::</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> local_ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token keyword">const</span> <span class="token operator">*</span> <span class="token keyword">const</span> ptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span><span class="token operator">*</span> local_ptr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span><span class="token punctuation">)</span>_mat<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token operator">::</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> local_ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">bool</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">isIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span>  _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span>
		   _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span>  _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span>
		   _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1.0f</span> <span class="token operator">&&</span>  _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span>
		   _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0.0f</span> <span class="token operator">&&</span>  _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">makeOrtho2DMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span>   <span class="token keyword">double</span> right<span class="token punctuation">,</span>
	                        <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">makeOrthoMatrix</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> top<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofVec3f ofMatrix4x4<span class="token operator">::</span><span class="token function">getTranslation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofVec3f ofMatrix4x4<span class="token operator">::</span><span class="token function">getScale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	ofVec3f <span class="token function">x_vec</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofVec3f <span class="token function">y_vec</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofVec3f <span class="token function">z_vec</span><span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span>x_vec<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y_vec<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> z_vec<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//static utility methods</span>
<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newIdentityMatrix</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeIdentityMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newScaleMatrix</span><span class="token punctuation">(</span><span class="token keyword">float</span> sx<span class="token punctuation">,</span> <span class="token keyword">float</span> sy<span class="token punctuation">,</span> <span class="token keyword">float</span> sz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeScaleMatrix</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> sz<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newScaleMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">newScaleMatrix</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>x<span class="token punctuation">,</span> v<span class="token punctuation">.</span>y<span class="token punctuation">,</span> v<span class="token punctuation">.</span>z <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newTranslationMatrix</span><span class="token punctuation">(</span><span class="token keyword">float</span> tx<span class="token punctuation">,</span> <span class="token keyword">float</span> ty<span class="token punctuation">,</span> <span class="token keyword">float</span> tz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeTranslationMatrix</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> tz<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newTranslationMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">newTranslationMatrix</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>x<span class="token punctuation">,</span> v<span class="token punctuation">.</span>y<span class="token punctuation">,</span> v<span class="token punctuation">.</span>z <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newRotationMatrix</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">ofMatrix4x4</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newRotationMatrix</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span>angle<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newRotationMatrix</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span>angle<span class="token punctuation">,</span> axis<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newRotationMatrix</span><span class="token punctuation">(</span>	<span class="token keyword">float</span> angle1<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis1<span class="token punctuation">,</span>
    <span class="token keyword">float</span> angle2<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis2<span class="token punctuation">,</span>
    <span class="token keyword">float</span> angle3<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> axis3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span>angle1<span class="token punctuation">,</span> axis1<span class="token punctuation">,</span> angle2<span class="token punctuation">,</span> axis2<span class="token punctuation">,</span> angle3<span class="token punctuation">,</span> axis3<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newRotationMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> from<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> to <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span>from<span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">getInverseOf</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeInvertOf</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">getTransposedOf</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 <span class="token function">m</span><span class="token punctuation">(</span>matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	               matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	               matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	               matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	               matrix<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">getOrthoNormalOf</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeOrthoNormalOf</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newOrthoMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span> <span class="token keyword">double</span> right<span class="token punctuation">,</span>
                                        <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">,</span>
                                        <span class="token keyword">double</span> zNear<span class="token punctuation">,</span> <span class="token keyword">double</span> zFar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeOrthoMatrix</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> top<span class="token punctuation">,</span> zNear<span class="token punctuation">,</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newOrtho2DMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span> <span class="token keyword">double</span> right<span class="token punctuation">,</span>
    <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeOrtho2DMatrix</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> top<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newFrustumMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> left<span class="token punctuation">,</span> <span class="token keyword">double</span> right<span class="token punctuation">,</span>
    <span class="token keyword">double</span> bottom<span class="token punctuation">,</span> <span class="token keyword">double</span> top<span class="token punctuation">,</span>
    <span class="token keyword">double</span> zNear<span class="token punctuation">,</span> <span class="token keyword">double</span> zFar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeFrustumMatrix</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> top<span class="token punctuation">,</span> zNear<span class="token punctuation">,</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newPerspectiveMatrix</span><span class="token punctuation">(</span><span class="token keyword">double</span> fovy<span class="token punctuation">,</span> <span class="token keyword">double</span> aspectRatio<span class="token punctuation">,</span>
    <span class="token keyword">double</span> zNear<span class="token punctuation">,</span> <span class="token keyword">double</span> zFar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makePerspectiveMatrix</span><span class="token punctuation">(</span>fovy<span class="token punctuation">,</span> aspectRatio<span class="token punctuation">,</span> zNear<span class="token punctuation">,</span> zFar<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofMatrix4x4 ofMatrix4x4<span class="token operator">::</span><span class="token function">newLookAtMatrix</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> eye<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> center<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> up<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 m<span class="token punctuation">;</span>
	m<span class="token punctuation">.</span><span class="token function">makeLookAtMatrix</span><span class="token punctuation">(</span>eye<span class="token punctuation">,</span> center<span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofVec3f ofMatrix4x4<span class="token operator">::</span><span class="token function">postMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span> d <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">/</span> <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> ofVec3f ofMatrix4x4<span class="token operator">::</span><span class="token function">preMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span> d <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">/</span> <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief post-multiplies the vector by the matrix (i.e. returns M mult v).</span>
<span class="token comment" spellcheck="true">/// The vector is implicitly treated as a column-matrix</span>
<span class="token keyword">inline</span> ofVec4f ofMatrix4x4<span class="token operator">::</span><span class="token function">postMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec4f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">ofVec4f</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief pre-multiplies the vector by the matrix (i.e. returns v mult M)</span>
<span class="token comment" spellcheck="true">/// The vector is implicitly treated as a row-matrix</span>
<span class="token keyword">inline</span> ofVec4f ofMatrix4x4<span class="token operator">::</span><span class="token function">preMult</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec4f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">ofVec4f</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z <span class="token operator">+</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief performs a pre-multiplication transformation on the vector using only the</span>
<span class="token comment" spellcheck="true">/// upper left 3x3 portion of the matrix (i.e. only the rotation part).</span>
<span class="token keyword">inline</span> ofVec3f ofMatrix4x4<span class="token operator">::</span><span class="token function">transform3x3</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v<span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief performs a post-multiplication transformation on the vector using only the</span>
<span class="token comment" spellcheck="true">/// upper left 3x3 portion of the matrix (i.e. only the rotation part).</span>
<span class="token keyword">inline</span> ofVec3f ofMatrix4x4<span class="token operator">::</span><span class="token function">transform3x3</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> m<span class="token punctuation">,</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">ofVec3f</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span>
	                 <span class="token punctuation">(</span>m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>x <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>y <span class="token operator">+</span> m<span class="token punctuation">.</span>_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief translates this matrix by treating the ofVec3f like a translation matrix,</span>
<span class="token comment" spellcheck="true">/// and multiplying this Matrix by it in a pre-multiplication manner (T mult M)</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">preMultTranslate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">float</span> tmp <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief translates this matrix by treating the ofVec3f like a translation matrix,</span>
<span class="token comment" spellcheck="true">/// and multiplying this Matrix by it in a post-multiplication manner (M mult T)</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">postMultTranslate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token operator">::</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">float</span> tmp <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> tmp <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// AARON METHOD</span>
<span class="token comment" spellcheck="true">/// \brief the positional argument version of the above</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">postMultTranslate</span><span class="token punctuation">(</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> x <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> x <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> x <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> x <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> y <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> y <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> y <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> y <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>z <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> z <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> z <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> z <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> z <span class="token operator">*</span> _mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief treats the ofVec3f like a scaling matrix and edits this Matrix</span>
<span class="token comment" spellcheck="true">/// by multiplying the vector with it in a pre-multiplication style (V mult M)</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">preMultScale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief treats the ofVec3f like a scaling matrix and edits this Matrix</span>
<span class="token comment" spellcheck="true">/// by multiplying the vector with it in a post-multiplication style (M mult V)</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">postMultScale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">getPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief rotates this Matrix by the provided quaternion</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultRotate</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief rotates this Matrix by the provided angle (in degrees) around an axis defined by the three values</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultRotate</span><span class="token punctuation">(</span>angle<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief Rotates this Matrix by the provided angle (in Radians) around an axis defined by the three values</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">rotateRad</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultRotate</span><span class="token punctuation">(</span>angle<span class="token operator">*</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">></span><span class="token punctuation">(</span>RAD_TO_DEG<span class="token punctuation">)</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief Translates this matrix by the provided amount</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">translate</span><span class="token punctuation">(</span> <span class="token keyword">float</span> tx<span class="token punctuation">,</span> <span class="token keyword">float</span> ty<span class="token punctuation">,</span> <span class="token keyword">float</span> tz <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultTranslate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span>ty<span class="token punctuation">,</span>tz<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief Translates this matrix by the provided vector</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">translate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultTranslate</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief scales this matrix by the provided scales</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultScale</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief scales this matrix, treating the ofVec3f as the diagonal of a scaling matrix.</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">scale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">postMultScale</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// implementation of the gl-style pre-multiplication versions of the above functions</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glRotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultRotate</span><span class="token punctuation">(</span><span class="token function">ofQuaternion</span><span class="token punctuation">(</span>angle<span class="token punctuation">,</span><span class="token function">ofVec3f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glRotateRad</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultRotate</span><span class="token punctuation">(</span><span class="token function">ofQuaternion</span><span class="token punctuation">(</span>angle<span class="token operator">*</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">></span><span class="token punctuation">(</span>RAD_TO_DEG<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ofVec3f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glRotate</span><span class="token punctuation">(</span><span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultRotate</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glTranslate</span><span class="token punctuation">(</span> <span class="token keyword">float</span> tx<span class="token punctuation">,</span> <span class="token keyword">float</span> ty<span class="token punctuation">,</span> <span class="token keyword">float</span> tz <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultTranslate</span><span class="token punctuation">(</span><span class="token function">ofVec3f</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span>ty<span class="token punctuation">,</span>tz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glTranslate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultTranslate</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glScale</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultScale</span><span class="token punctuation">(</span><span class="token function">ofVec3f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">glScale</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">preMultScale</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// AARON METHOD</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">postMultScale</span><span class="token punctuation">(</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> x<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> x<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> x<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> x<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> y<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> y<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> y<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> y<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> z<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> z<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> z<span class="token punctuation">;</span>
	_mat<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span><span class="token operator">=</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">preMultRotate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">zeroRotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	ofMatrix4x4 r<span class="token punctuation">;</span>
	r<span class="token punctuation">.</span><span class="token function">setRotate</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">preMult</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">postMultRotate</span><span class="token punctuation">(</span> <span class="token keyword">const</span> ofQuaternion<span class="token operator">&</span> q <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">zeroRotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	ofMatrix4x4 r<span class="token punctuation">;</span>
	r<span class="token punctuation">.</span><span class="token function">setRotate</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">postMult</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// AARON METHOD</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> ofMatrix4x4<span class="token operator">::</span><span class="token function">postMultRotate</span><span class="token punctuation">(</span><span class="token keyword">float</span> angle<span class="token punctuation">,</span> <span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofMatrix4x4 r<span class="token punctuation">;</span>
	r<span class="token punctuation">.</span><span class="token function">makeRotationMatrix</span><span class="token punctuation">(</span>angle<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">postMult</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/// \brief provides Vector3 * Matrix multiplication. Vectors are implicitly treated as row-matrices.</span>
<span class="token keyword">inline</span> ofVec3f <span class="token keyword">operator</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ofVec3f<span class="token operator">&</span> v<span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> m <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> m<span class="token punctuation">.</span><span class="token function">preMult</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/// \brief provides Vector4 * Matrix multiplication. Vectors are implicitly treated as row-matrices.</span>
<span class="token keyword">inline</span> ofVec4f <span class="token keyword">operator</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ofVec4f<span class="token operator">&</span> v<span class="token punctuation">,</span> <span class="token keyword">const</span> ofMatrix4x4<span class="token operator">&</span> m <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> m<span class="token punctuation">.</span><span class="token function">preMult</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment" spellcheck="true">/// \endcond</span>
</code></pre></div></div></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1583940179515/openframeworks/math/ofMatrix4x4_h/payload.js"></script><script src="/_nuxt/1222c887b819d0202cfa.js" defer></script><script src="/_nuxt/adc32956be059d7527f6.js" defer></script><script src="/_nuxt/e2974c46edd15e353a99.js" defer></script><script src="/_nuxt/f8d94d1c92ade1d8a6da.js" defer></script><script src="/_nuxt/c01572c3f985d7f6c287.js" defer></script>
  </body>
</html>
