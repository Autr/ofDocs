<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>Raspberry-Pi-Cross-compiling-guide-Wheezy | guides | ofDocs</title><meta data-n-head="ssr" data-hid="description" name="description" content="openFrameworks documentation and examples browser"><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="openFrameworks documentation and examples browser" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="Raspberry-Pi-Cross-compiling-guide-Wheezy | guides | ofDocs" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="/files/images/ofw-logo.png" vmid="og:image"><link rel="preload" href="/_nuxt/5f71eaca0bd2f1a0f939.js" as="script"><link rel="preload" href="/_nuxt/906a3ca0fb13ed3c6651.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/b673915e8a08acf593e8.js" as="script"><link rel="preload" href="/_nuxt/46e8fcacdadb233d9fb6.css" as="style"><link rel="preload" href="/_nuxt/bf355f21967a23c26c07.js" as="script"><link rel="preload" href="/_nuxt/35a90d914f539af1362f.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/46e8fcacdadb233d9fb6.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app"><div id="menu"><div class="menu-inner"><div id="settings"></div><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><svg version="1.1" viewbox="0 0 110 58" width="110px" height="58px" enable-background="0 0 110 58" xml:space="preserve" class="logo"><g><path d="M58,29 C58,13 45,0 29,0 C13,0 0,13 0,29 C0,45 13,58 29,58 C45,58 58,45 58,29 Z"></path><rect x="59" y="0" width="25" height="58"></rect><rect x="85" y="26" width="15" height="15"></rect><path d="M85,0 L110,0 L85,25 L85,0 Z"></path></g></svg><div class="txt"><span class="docs f7 questrial">Docs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343							c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88							c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593							c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789							C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><!----></div><div id="lists" class="menu-inner mt1 mb2"><div class="inner"></div></div></div><div class="menu-bottom"><div class="inner"><button class="button"><!----><span><span class="ico">nights_stay</span></span></button></div></div></div><div id="document"><div id="renderer" class="main page"><div absolute="/Users/Gilbert/Code/openFrameworks/ofSite/content/setup/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy.md" route="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy.md" dir="../ofSite/content/setup/RaspberryPi" ext="md" type="page" id="1927" parent="1919" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/guides/" class="pink nuxt-link-active">guides </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/guides/RaspberryPi/" class="pink nuxt-link-active">RaspberryPi </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link selector"><span class="name">Raspberry-Pi-Cross-compiling-guide-Wheezy</span><span class="chevron bottom"></span><select><option value="/guides/RaspberryPi/Raspberry-Pi-8-9-Transition-Notes">Raspberry-Pi-8-9-Transition-Notes</option><option value="/guides/RaspberryPi/Raspberry-pi-contributing-code">Raspberry-pi-contributing-code</option><option value="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy">Raspberry-Pi-Cross-compiling-guide-Wheezy</option><option value="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide">Raspberry-Pi-Cross-compiling-guide</option><option value="/guides/RaspberryPi/Raspberry-Pi-DISTCC-guide">Raspberry-Pi-DISTCC-guide</option><option value="/guides/RaspberryPi/Raspberry-Pi-Getting-Started-ArchLinux">Raspberry-Pi-Getting-Started-ArchLinux</option><option value="/guides/RaspberryPi/Raspberry-Pi-Getting-Started-Wheezy">Raspberry-Pi-Getting-Started-Wheezy</option><option value="/guides/RaspberryPi/Raspberry-Pi-Getting-Started">Raspberry-Pi-Getting-Started</option><option value="/guides/RaspberryPi/Raspberry-Pi-SMB">Raspberry-Pi-SMB</option><option value="/guides/RaspberryPi/Raspberry-Pi-Troubleshooting">Raspberry-Pi-Troubleshooting</option><option value="/guides/RaspberryPi/Raspberry-Pi-Workflow-Overview">Raspberry-Pi-Workflow-Overview</option></select></span><!----></span></span></div></div></div><div class="editable-wrapper"><div class="header inner"><h1 class="page-title questrial"><span class="f7"><!----><span>Raspberry-Pi-Cross-compiling-guide-Wheezy</span></span><span class="f3"><span class="ml1"><a href="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy-ko" class="pink">ko</a></span></span></h1><div class="actions"><a href="/ofdocs/contribute/" class="button"><i class="ico">edit</i><span>Edit</span></a></div></div><div class="rendered"><div id="documentation-page" static="true"><div id="offset-page"><div id="doc-body" class="markdown"><div class="inner"><h2>-<em>- coding: utf-8 -</em>-</h2>
<p>.. title: raspberry pi</p>
<h1>Raspberry Pi</h1>
<h2>Cross compiling</h2>
<p><em>This guide guide you thorugh installing a cross compiler in a linux machine so you can compile armv6 binaries from your computer. It makes the compiling process faster and also allows to use IDEs instead of having to use plain text editors</em></p>
<p><em>Note: On OS X.  You can install a Ubuntu "helper" machine running inside Parallels 8.  Networking for the Ubuntu instance is set to <em>BRIDGED</em> allowing it to be accessible to the Raspberry Pi on the same network. In Windows you can use a similar setup with any vm tool like vmware or virtualbox. In Linux you can just follow the next steps without installing a vm, the compiler will run on your machine directly</em></p>
<h3><strong>On the Linux Machine</strong></h3>
<ul>
<li>
<p>Install dependencies</p>
<ul>
<li>Download the linux distribution of OF for linux or linux 64 and run the install_dependencies.sh script</li>
<li>if you are using a 64bit linux distribution you'll need to install also:</li>
<li><code>sudo aptitude install ia32-libs</code></li>
</ul>
</li>
<li>
<p>Download the Raspberry Pi compiler for linux</p>
<ul>
<li>you can download it as a zip or clone the repo at from <a href="https://github.com/raspberrypi/tools/">https://github.com/raspberrypi/tools/</a></li>
<li>rename the folder to something more identifiable like rpi-tools, we'll refer to this path as <code>$RPI_TOOLS</code> from now on</li>
</ul>
</li>
<li>
<p>With this you are already able to compile armv6 binaries for the PI but we'll also need the libaries.</p>
<ul>
<li>run the install_dependencies.sh script in the PI</li>
<li>copy the whole /usr folder from the PI's sdcard into a directory on your Linux host called <code>rpi-root</code>. We'll call this folder <code>$RPI_ROOT</code> from now on. <code>usr</code> should be a <em>subdirectory</em> of <code>rpi-root</code>.</li>
<li>copy or create /etc/debian_version text file in <code>rpi-root</code> as it appears on the PI</li>
<li>copy the folder from /opt/vc on the PI to <code>rpi-root</code></li>
</ul>
</li>
<li>
<p>Uncompress OF for armv6 somewhere in your computer</p>
</li>
<li>
<p>Open a terminal and move to one of the examples folders, you can build binaries for the PI using:</p>
<ul>
<li><code>make -j6 RPI_TOOLS=$RPI_TOOLS RPI_ROOT=$RPI_ROOT GST_VERSION=1.0 PLATFORM_OS=Linux PLATFORM_ARCH=armv6l</code></li>
<li><em>Note</em>: remember that <code>$RPI_TOOLS</code> and <code>$RPI_ROOT</code> are the folders where you have the raspberry pi's toolchain and the usr folder from the sdcard respectively</li>
<li>You may prefer to add the following to your <code>config.make</code>:<pre><code><span class="token keyword">export</span> RPI_TOOLS <span class="token operator">=</span> <span class="token operator">&lt;</span>path to RPI_TOOLS<span class="token operator">></span>
<span class="token keyword">export</span> RPI_ROOT <span class="token operator">=</span> <span class="token operator">&lt;</span>path to RPI_ROOT<span class="token operator">></span>
<span class="token keyword">export</span> GST_VERSION <span class="token operator">=</span> <span class="token number">1.0</span>
<span class="token keyword">export</span> PLATFORM_OS <span class="token operator">=</span> Linux
<span class="token keyword">export</span> PLATFORM_ARCH <span class="token operator">=</span> armv6l
</code></pre>
</li>
</ul>
</li>
<li>
<p>If you get PKG_CONFIG errors, you should <code>export PKG_CONFIG_PATH=$RPI_ROOT/usr/lib/arm-linux-gnueabihf/pkgconfig:$RPI_ROOT/usr/share/pkgconfig:$RPI_ROOT/usr/lib/pkgconfig</code></p>
</li>
<li>
<p>You may get errors related to libdl when linking (depending on how you're accessing <code>$RPI_ROOT</code>). There are some absolute symlinks in your <code>$RPI_ROOT</code> that are broken. Fix them with <a href="https://gitorious.org/cross-compile-tools/cross-compile-tools/source/98c51c5939d91884b096dd2fbee859803fd34fef:fixQualifiedLibraryPaths">this script</a>. Change the first line to #!/bin/bash. Then <code>sudo ./fixQualifiedLibraryPaths $RPI_ROOT $RPI_TOOLS/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf-g++</code></p>
</li>
<li>
<p>Now you can setup your favourite IDE to use makefiles and compile for the PI from your computer, once you compile an application copy the executable in your_app/bin to the PI and run it</p>
</li>
<li>
<p>A further optimization of this process is to install NFS shares on both the PI and the computer.</p>
<ul>
<li>from the PI share the root folder of the sdcard to the computer, this way you don't need to copy the whole /usr forlder to your computer's HD and if some library gets updated you don't need to refresh that copy.</li>
<li>from the computer share the OF folder to the PI, that way you don't need to copy executables from the computer to the PI everytime you want to test something</li>
</ul>
</li>
</ul>
</div></div></div><div id="side-menu"><!----><!----><div id="see-also" filename="Raspberry-Pi-Cross-compiling-guide-Wheezy.md" absolute="/Users/Gilbert/Code/openFrameworks/ofSite/content/setup/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy.md" route="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy.md" dir="../ofSite/content/setup/RaspberryPi" ext="md" type="page" parent="1919" breadcrumbs="1919,1795" siblings="" translations="[object Object]" class="see-also"><h4 class="f3">See also</h4><div class="also"><a href="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide"><span class="origin">guides</span><span class="name">Raspberry-Pi-Cross-compiling-guide</span></a></div><div class="also"><a href="/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy-ko"><span class="origin">guides</span><span class="name">Raspberry-Pi-Cross-compiling-guide-Wheezy-ko</span></a></div><div class="also"><a href="/examples/gui/"><span class="origin">examples</span><span class="name">gui</span></a></div></div></div></div></div><textarea rows="0" class="markdown-editor" style="display:none">## -*- coding: utf-8 -*-
.. title: raspberry pi


Raspberry Pi
============

## Cross compiling

_This guide guide you thorugh installing a cross compiler in a linux machine so you can compile armv6 binaries from your computer. It makes the compiling process faster and also allows to use IDEs instead of having to use plain text editors_

_Note: On OS X.  You can install a Ubuntu "helper" machine running inside Parallels 8.  Networking for the Ubuntu instance is set to _BRIDGED_ allowing it to be accessible to the Raspberry Pi on the same network. In Windows you can use a similar setup with any vm tool like vmware or virtualbox. In Linux you can just follow the next steps without installing a vm, the compiler will run on your machine directly_

### __On the Linux Machine__   

* Install dependencies
    * Download the linux distribution of OF for linux or linux 64 and run the install_dependencies.sh script
    * if you are using a 64bit linux distribution you'll need to install also:
    * `sudo aptitude install ia32-libs`
    
* Download the Raspberry Pi compiler for linux
    * you can download it as a zip or clone the repo at from [https://github.com/raspberrypi/tools/](https://github.com/raspberrypi/tools/)
    * rename the folder to something more identifiable like rpi-tools, we'll refer to this path as `$RPI_TOOLS` from now on
    
* With this you are already able to compile armv6 binaries for the PI but we'll also need the libaries. 
    * run the install_dependencies.sh script in the PI
    * copy the whole /usr folder from the PI's sdcard into a directory on your Linux host called `rpi-root`. We'll call this folder `$RPI_ROOT` from now on. `usr` should be a _subdirectory_ of `rpi-root`.
    * copy or create /etc/debian_version text file in `rpi-root` as it appears on the PI
    * copy the folder from /opt/vc on the PI to `rpi-root`

* Uncompress OF for armv6 somewhere in your computer

* Open a terminal and move to one of the examples folders, you can build binaries for the PI using:
    * `make -j6 RPI_TOOLS=$RPI_TOOLS RPI_ROOT=$RPI_ROOT GST_VERSION=1.0 PLATFORM_OS=Linux PLATFORM_ARCH=armv6l`
    * _Note_: remember that `$RPI_TOOLS` and `$RPI_ROOT` are the folders where you have the raspberry pi's toolchain and the usr folder from the sdcard respectively
    * You may prefer to add the following to your `config.make`:
      ```
      export RPI_TOOLS = &lt;path to RPI_TOOLS>
      export RPI_ROOT = &lt;path to RPI_ROOT>
      export GST_VERSION = 1.0
      export PLATFORM_OS = Linux
      export PLATFORM_ARCH = armv6l
      ```

* If you get PKG_CONFIG errors, you should `export PKG_CONFIG_PATH=$RPI_ROOT/usr/lib/arm-linux-gnueabihf/pkgconfig:$RPI_ROOT/usr/share/pkgconfig:$RPI_ROOT/usr/lib/pkgconfig`

* You may get errors related to libdl when linking (depending on how you're accessing `$RPI_ROOT`). There are some absolute symlinks in your `$RPI_ROOT` that are broken. Fix them with [this script](https://gitorious.org/cross-compile-tools/cross-compile-tools/source/98c51c5939d91884b096dd2fbee859803fd34fef:fixQualifiedLibraryPaths). Change the first line to #!/bin/bash. Then `sudo ./fixQualifiedLibraryPaths $RPI_ROOT $RPI_TOOLS/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf-g++`

* Now you can setup your favourite IDE to use makefiles and compile for the PI from your computer, once you compile an application copy the executable in your_app/bin to the PI and run it

* A further optimization of this process is to install NFS shares on both the PI and the computer.
    * from the PI share the root folder of the sdcard to the computer, this way you don't need to copy the whole /usr forlder to your computer's HD and if some library gets updated you don't need to refresh that copy. 
    * from the computer share the OF folder to the PI, that way you don't need to copy executables from the computer to the PI everytime you want to test something

</textarea></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1586012716389/guides/RaspberryPi/Raspberry-Pi-Cross-compiling-guide-Wheezy/payload.js"></script><script src="/_nuxt/5f71eaca0bd2f1a0f939.js" defer></script><script src="/_nuxt/35a90d914f539af1362f.js" defer></script><script src="/_nuxt/906a3ca0fb13ed3c6651.js" defer></script><script src="/_nuxt/b673915e8a08acf593e8.js" defer></script><script src="/_nuxt/bf355f21967a23c26c07.js" defer></script>
  </body>
</html>
