<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>ofApp.cpp | examples | ofDocs</title><meta data-n-head="ssr" data-hid="description" name="description" content="openFrameworks documentation and examples browser"><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="openFrameworks documentation and examples browser" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="ofApp.cpp | examples | ofDocs" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="/files/images/ofw-logo.png" vmid="og:image"><link rel="preload" href="/_nuxt/3213b67383225fc2f59b.js" as="script"><link rel="preload" href="/_nuxt/5fe5bba000836bc4a25f.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/f8d94d1c92ade1d8a6da.js" as="script"><link rel="preload" href="/_nuxt/a24b354526a25539cceb.css" as="style"><link rel="preload" href="/_nuxt/9a7e20c23e9625feab77.js" as="script"><link rel="preload" href="/_nuxt/21c4d0f9583096394838.css" as="style"><link rel="preload" href="/_nuxt/d1291586b31fa28ca9d5.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/a24b354526a25539cceb.css"><link rel="stylesheet" href="/_nuxt/21c4d0f9583096394838.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app" class="unknown"><div id="menu"><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><div class="txt"><span class="docs f7 questrial">ofDocs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" x="0px" y="0px" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343						c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88						c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593						c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789						C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><div id="results" class="mt1"></div></div><div id="lists" class="menu-inner mt1"><div class="inner"><div class="item documentation"><a href="/documentation/" title="/documentation/"><i class="ico" style="display:none"></i><span>documentation</span><span style="display:none">documentation</span></a><!----></div><div class="item examples"><a href="/examples/" title="/examples/" class="nuxt-link-active"><i class="ico" style="display:none"></i><span>examples</span><span style="display:none">examples</span></a><div class="list"><div class="item 3d"><a href="/examples/3d/" title="/examples/3d/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>3d</span></a><!----></div><div class="item android"><a href="/examples/android/" title="/examples/android/"><i class="ico" style="display:none">android</i><span style="display:none"></span><span>android</span></a><!----></div><div class="item communication"><a href="/examples/communication/" title="/examples/communication/"><i class="ico" style="display:none">language</i><span style="display:none"></span><span>communication</span></a><!----></div><div class="item computer_vision"><a href="/examples/computer_vision/" title="/examples/computer_vision/"><i class="ico" style="display:none">remove_red_eye</i><span style="display:none"></span><span>computer_vision</span></a><!----></div><div class="item events"><a href="/examples/events/" title="/examples/events/"><i class="ico" style="display:none">question_answer</i><span style="display:none"></span><span>events</span></a><!----></div><div class="item gl"><a href="/examples/gl/" title="/examples/gl/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>gl</span></a><!----></div><div class="item gles"><a href="/examples/gles/" title="/examples/gles/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>gles</span></a><!----></div><div class="item graphics"><a href="/examples/graphics/" title="/examples/graphics/"><i class="ico" style="display:none">category</i><span style="display:none"></span><span>graphics</span></a><!----></div><div class="item gui"><a href="/examples/gui/" title="/examples/gui/"><i class="ico" style="display:none">tune</i><span style="display:none"></span><span>gui</span></a><!----></div><div class="item input_output"><a href="/examples/input_output/" title="/examples/input_output/"><i class="ico" style="display:none">flash_on</i><span style="display:none"></span><span>input_output</span></a><!----></div><div class="item ios"><a href="/examples/ios/" title="/examples/ios/"><i class="ico" style="display:none">phone_iphone</i><span style="display:none"></span><span>ios</span></a><!----></div><div class="item math"><a href="/examples/math/" title="/examples/math/" class="nuxt-link-active"><i class="ico" style="display:none">border_clear</i><span style="display:none"></span><span>math</span></a><div class="list"><div class="item noise1dExample"><a href="/examples/math/noise1dExample/" title="/examples/math/noise1dExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>noise1dExample</span></a><!----></div><div class="item noise1dOctaveExample"><a href="/examples/math/noise1dOctaveExample/" title="/examples/math/noise1dOctaveExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>noise1dOctaveExample</span></a><!----></div><div class="item noiseField2dExample"><a href="/examples/math/noiseField2dExample/" title="/examples/math/noiseField2dExample/" class="nuxt-link-active"><i class="ico" style="display:none"></i><span style="display:none"></span><span>noiseField2dExample</span></a><div class="list"></div></div><div class="item particlesExample"><a href="/examples/math/particlesExample/" title="/examples/math/particlesExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>particlesExample</span></a><!----></div><div class="item periodicSignalsExample"><a href="/examples/math/periodicSignalsExample/" title="/examples/math/periodicSignalsExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>periodicSignalsExample</span></a><!----></div><div class="item trigonometricMotionExample"><a href="/examples/math/trigonometricMotionExample/" title="/examples/math/trigonometricMotionExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>trigonometricMotionExample</span></a><!----></div><div class="item trigonometryExample"><a href="/examples/math/trigonometryExample/" title="/examples/math/trigonometryExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>trigonometryExample</span></a><!----></div><div class="item vectorMathExample"><a href="/examples/math/vectorMathExample/" title="/examples/math/vectorMathExample/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>vectorMathExample</span></a><!----></div></div></div><div class="item shader"><a href="/examples/shader/" title="/examples/shader/"><i class="ico" style="display:none">waves</i><span style="display:none"></span><span>shader</span></a><!----></div><div class="item sound"><a href="/examples/sound/" title="/examples/sound/"><i class="ico" style="display:none">volume_up</i><span style="display:none"></span><span>sound</span></a><!----></div><div class="item strings"><a href="/examples/strings/" title="/examples/strings/"><i class="ico" style="display:none">text_format</i><span style="display:none"></span><span>strings</span></a><!----></div><div class="item templates"><a href="/examples/templates/" title="/examples/templates/"><i class="ico" style="display:none">amp_stories</i><span style="display:none"></span><span>templates</span></a><!----></div><div class="item threads"><a href="/examples/threads/" title="/examples/threads/"><i class="ico" style="display:none">texture</i><span style="display:none"></span><span>threads</span></a><!----></div><div class="item tvOS"><a href="/examples/tvOS/" title="/examples/tvOS/"><i class="ico" style="display:none">live_tv</i><span style="display:none"></span><span>tvOS</span></a><!----></div><div class="item video"><a href="/examples/video/" title="/examples/video/"><i class="ico" style="display:none">videocam</i><span style="display:none"></span><span>video</span></a><!----></div><div class="item windowing"><a href="/examples/windowing/" title="/examples/windowing/"><i class="ico" style="display:none">border_all</i><span style="display:none"></span><span>windowing</span></a><!----></div></div></div><div class="item openframeworks"><a href="/openframeworks/" title="/openframeworks/"><i class="ico" style="display:none"></i><span>openFrameworks</span><span style="display:none">openframeworks</span></a><!----></div><div class="item addons"><a href="/addons/" title="/addons/"><i class="ico" style="display:none">extension</i><span>addons</span><span style="display:none">addons</span></a><!----></div><div class="item guides"><a href="/guides/" title="/guides/"><i class="ico" style="display:none"></i><span>guides</span><span style="display:none">guides</span></a><!----></div></div></div></div><div id="document"><div id="renderer" class="main"><div absolute="/Users/gilbertsinnott/Code/openFrameworks/examples/math/noiseField2dExample/src/ofApp.cpp" route="/examples/math/noiseField2dExample/src/ofApp.cpp" dir="../examples/math/noiseField2dExample/src" ext="cpp" type="source" id="1463" parent="1460" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><div class="mt2 mb2"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/examples/" class="pink nuxt-link-active">examples </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/examples/math/" class="pink nuxt-link-active">math </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/examples/math/noiseField2dExample/" class="pink nuxt-link-active">noiseField2dExample </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/examples/math/noiseField2dExample/src/" class="pink nuxt-link-active">src </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link selector"><span>ofApp.cpp </span><span class="chevron bottom"></span><select><option value="/examples/math/noiseField2dExample/src/main_cpp">main.cpp</option><option value="/examples/math/noiseField2dExample/src/ofApp_cpp">ofApp.cpp</option><option value="/examples/math/noiseField2dExample/src/ofApp_h">ofApp.h</option></select></span><!----></span></span></div></div></div></div><div id="code-page" static="true" class="markdown"><div id="side-menu"><div id="code-sources"><h4>Sources</h4><div class="srcsiblings"><div class="other"><span class="src">src </span><a href="/examples/math/noiseField2dExample/src/main_cpp">main.cpp </a></div><div class="other"><span class="src">src </span><a href="/examples/math/noiseField2dExample/src/ofApp_cpp" class="nuxt-link-exact-active nuxt-link-active">ofApp.cpp </a></div><div class="other"><span class="src">src </span><a href="/examples/math/noiseField2dExample/src/ofApp_h">ofApp.h </a></div></div></div><div id="see-also" filename="math" absolute="/Users/gilbertsinnott/Code/openFrameworks/examples/math" dir="../examples" route="/examples/math/" ext="" type="folder" children="1441,1451,1461,1465,1474,1483,1490,1497" icon="border_clear" parent="436" breadcrumbs="436" class="see-also"><h4>See also</h4><div class="also"><a href="/documentation/math/"><span class="origin">documentation</span><span class="name">math</span></a></div><div class="also"><a href="/openframeworks/math/"><span class="origin">openframeworks</span><span class="name">math</span></a></div></div></div><div id="code-render"><div class="inner"><pre><code><span class="token comment" spellcheck="true">/*
 This example demonstrates how to use a two dimensional slice of a three
 dimensional noise field to guide particles that are flying around. It was
 originally based on the idea of simulating "pollen" being blown around by
 the wind, and implemented in the Processing:
 http://www.openprocessing.org/visuals/?visualID=2785
 */</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ofApp.h"</span></span>

<span class="token comment" spellcheck="true">/*
 All these settings control the behavior of the app. In general it's a better
 idea to keep variables in the .h file, but this makes it easy to set them at
 the same time you declare them.
 */</span>
<span class="token keyword">int</span> nPoints <span class="token operator">=</span> <span class="token number">4096</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// points to draw</span>
<span class="token keyword">float</span> complexity <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// wind complexity</span>
<span class="token keyword">float</span> pollenMass <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// pollen mass</span>
<span class="token keyword">float</span> timeSpeed <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">02</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// wind variation speed</span>
<span class="token keyword">float</span> phase <span class="token operator">=</span> TWO_PI<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// separate u-noise from v-noise</span>
<span class="token keyword">float</span> windSpeed <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// wind vector magnitude for debug</span>
<span class="token keyword">int</span> step <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// spatial sampling rate for debug</span>
<span class="token keyword">bool</span> debugMode <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
 This is the magic method that samples a 2d slice of the 3d noise field. When
 you call this method with a position, it returns a direction (a 2d vector). The
 trick behind this method is that the u,v values for the field are taken from
 out-of-phase slices in the first dimension: t + phase for the u, and t - phase
 for the v.
 */</span>
<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
glm<span class="token operator">::</span>vec2 ofApp<span class="token operator">::</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">float</span> normx <span class="token operator">=</span> <span class="token function">ofNormalize</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">ofGetWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> normy <span class="token operator">=</span> <span class="token function">ofNormalize</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">ofGetHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> u <span class="token operator">=</span> <span class="token function">ofNoise</span><span class="token punctuation">(</span>t <span class="token operator">+</span> phase<span class="token punctuation">,</span> normx <span class="token operator">*</span> complexity <span class="token operator">+</span> phase<span class="token punctuation">,</span> normy <span class="token operator">*</span> complexity <span class="token operator">+</span> phase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">float</span> v <span class="token operator">=</span> <span class="token function">ofNoise</span><span class="token punctuation">(</span>t <span class="token operator">-</span> phase<span class="token punctuation">,</span> normx <span class="token operator">*</span> complexity <span class="token operator">-</span> phase<span class="token punctuation">,</span> normy <span class="token operator">*</span> complexity <span class="token operator">+</span> phase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> glm<span class="token operator">::</span><span class="token function">vec2</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">ofSetVerticalSync</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// don't go too fast</span>
	<span class="token function">ofEnableAlphaBlending</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// randomly allocate the points across the screen</span>
  points<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>nPoints<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nPoints<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    points<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> glm<span class="token operator">::</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token function">ofRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">ofGetWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ofRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">ofGetHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">// we'll be drawing the points into an ofMesh that is drawn as bunch of points</span>
	cloud<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cloud<span class="token punctuation">.</span><span class="token function">setMode</span><span class="token punctuation">(</span>OF_PRIMITIVE_POINTS<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	width <span class="token operator">=</span> <span class="token function">ofGetWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token function">ofGetHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  t <span class="token operator">=</span> <span class="token function">ofGetFrameNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> timeSpeed<span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nPoints<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">float</span> x <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
		glm<span class="token operator">::</span>vec2 field <span class="token operator">=</span> <span class="token function">getField</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// get the field at this position</span>
		<span class="token comment" spellcheck="true">// use the strength of the field to determine a speed to move</span>
		<span class="token comment" spellcheck="true">// the speed is changing over time and velocity-space as well</span>
    <span class="token keyword">float</span> speed <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token function">ofNoise</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> field<span class="token punctuation">.</span>x<span class="token punctuation">,</span> field<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> pollenMass<span class="token punctuation">;</span>
		<span class="token comment" spellcheck="true">// add the velocity of the particle to its position </span>
    x <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">ofLerp</span><span class="token punctuation">(</span><span class="token operator">-</span>speed<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> field<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    y <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">ofLerp</span><span class="token punctuation">(</span><span class="token operator">-</span>speed<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> field<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment" spellcheck="true">// if we've moved outside of the screen, reinitialize randomly</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> x <span class="token operator">></span> width <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">></span> height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      x <span class="token operator">=</span> <span class="token function">ofRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>
      y <span class="token operator">=</span> <span class="token function">ofRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
		<span class="token comment" spellcheck="true">// save the changes we made to the position</span>
    points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
		<span class="token comment" spellcheck="true">// add the current point to our collection of drawn points</span>
      cloud<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> 

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">ofBackground</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>debugMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">ofSetColor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment" spellcheck="true">// draw a vector field for the debug screen</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> width<span class="token punctuation">;</span> i <span class="token operator">+</span><span class="token operator">=</span> step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> height<span class="token punctuation">;</span> j <span class="token operator">+</span><span class="token operator">=</span> step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				glm<span class="token operator">::</span>vec2 field <span class="token operator">=</span> <span class="token function">getField</span><span class="token punctuation">(</span>glm<span class="token operator">::</span><span class="token function">vec2</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ofPushMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ofTranslate</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">ofSetColor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ofDrawLine</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">ofLerp</span><span class="token punctuation">(</span><span class="token operator">-</span>windSpeed<span class="token punctuation">,</span> windSpeed<span class="token punctuation">,</span> field<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ofLerp</span><span class="token punctuation">(</span><span class="token operator">-</span>windSpeed<span class="token punctuation">,</span> windSpeed<span class="token punctuation">,</span> field<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ofPopMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
		<span class="token comment" spellcheck="true">// draw the points as circles</span>
		<span class="token function">ofSetColor</span><span class="token punctuation">(</span>ofColor<span class="token operator">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nPoints<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">ofDrawCircle</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment" spellcheck="true">// when not in debug mode, draw all the points to the screen</span>
    <span class="token function">ofSetColor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cloud<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">ofDrawBitmapStringHighlight</span><span class="token punctuation">(</span><span class="token string">"click to reset\nhit any key for debug"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> ofColor<span class="token operator">::</span>white<span class="token punctuation">,</span> ofColor<span class="token operator">::</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">keyPressed</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment" spellcheck="true">// when you hit a key, draw the debug screen</span>
  debugMode <span class="token operator">=</span> <span class="token operator">!</span>debugMode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">keyReleased</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseMoved</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseDragged</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> button<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mousePressed</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> button<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment" spellcheck="true">// when you click the mouse, reset all the points</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseReleased</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> button<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseEntered</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseExited</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">windowResized</span><span class="token punctuation">(</span><span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">gotMessage</span><span class="token punctuation">(</span>ofMessage msg<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">dragEvent</span><span class="token punctuation">(</span>ofDragInfo dragInfo<span class="token punctuation">)</span><span class="token punctuation">{</span> 

<span class="token punctuation">}</span>
</code></pre></div></div></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1584626286009/examples/math/noiseField2dExample/src/ofApp_cpp/payload.js"></script><script src="/_nuxt/3213b67383225fc2f59b.js" defer></script><script src="/_nuxt/d1291586b31fa28ca9d5.js" defer></script><script src="/_nuxt/5fe5bba000836bc4a25f.js" defer></script><script src="/_nuxt/f8d94d1c92ade1d8a6da.js" defer></script><script src="/_nuxt/9a7e20c23e9625feab77.js" defer></script>
  </body>
</html>
