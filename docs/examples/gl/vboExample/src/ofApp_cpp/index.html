<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>ofApp.cpp | examples | ofDocs</title><meta data-n-head="ssr" data-hid="description" name="description" content="openFrameworks documentation and examples browser"><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="openFrameworks documentation and examples browser" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="ofApp.cpp | examples | ofDocs" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="/files/images/ofw-logo.png" vmid="og:image"><link rel="preload" href="/_nuxt/5f71eaca0bd2f1a0f939.js" as="script"><link rel="preload" href="/_nuxt/906a3ca0fb13ed3c6651.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/b673915e8a08acf593e8.js" as="script"><link rel="preload" href="/_nuxt/46e8fcacdadb233d9fb6.css" as="style"><link rel="preload" href="/_nuxt/bf355f21967a23c26c07.js" as="script"><link rel="preload" href="/_nuxt/35a90d914f539af1362f.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/46e8fcacdadb233d9fb6.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app"><div id="menu"><div class="menu-inner"><div id="settings"></div><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><svg version="1.1" viewbox="0 0 110 58" width="110px" height="58px" enable-background="0 0 110 58" xml:space="preserve" class="logo"><g><path d="M58,29 C58,13 45,0 29,0 C13,0 0,13 0,29 C0,45 13,58 29,58 C45,58 58,45 58,29 Z"></path><rect x="59" y="0" width="25" height="58"></rect><rect x="85" y="26" width="15" height="15"></rect><path d="M85,0 L110,0 L85,25 L85,0 Z"></path></g></svg><div class="txt"><span class="docs f7 questrial">Docs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343							c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88							c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593							c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789							C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><!----></div><div id="lists" class="menu-inner mt1 mb2"><div class="inner"></div></div></div><div class="menu-bottom"><div class="inner"><button class="button"><!----><span><span class="ico">nights_stay</span></span></button></div></div></div><div id="document"><div id="renderer" class="main source"><div absolute="/Users/Gilbert/Code/openFrameworks/examples/gl/vboExample/src/ofApp.cpp" route="/examples/gl/vboExample/src/ofApp.cpp" dir="../examples/gl/vboExample/src" ext="cpp" type="source" id="1002" parent="999" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/examples/" class="pink nuxt-link-active">examples </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/examples/gl/" class="pink nuxt-link-active">gl </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/examples/gl/vboExample/" class="pink nuxt-link-active">vboExample </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/examples/gl/vboExample/src/" class="pink nuxt-link-active">src </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link selector"><span class="name">ofApp.cpp</span><span class="chevron bottom"></span><select><option value="/examples/gl/vboExample/src/main_cpp">main.cpp</option><option value="/examples/gl/vboExample/src/ofApp_cpp">ofApp.cpp</option><option value="/examples/gl/vboExample/src/ofApp_h">ofApp.h</option></select></span><!----></span></span></div></div></div><div id="code-page" static="true"><div id="side-menu"><div id="code-sources"><h4 class="f3 dropdown-toggle">Sources</h4><div class="srcsiblings dropdown-area"><a href="/examples/gl/vboExample/src/main_cpp" class="block"><span class="src">src </span><span class="name">main.cpp </span></a><a href="/examples/gl/vboExample/src/ofApp_cpp" class="block nuxt-link-exact-active nuxt-link-active current"><span class="src">src </span><span class="name">ofApp.cpp </span></a><a href="/examples/gl/vboExample/src/ofApp_h" class="block"><span class="src">src </span><span class="name">ofApp.h </span></a></div></div><div id="comments" class="dropdown-area"><h4 class="f3 dropdown-toggle">Comments</h4><div class="dropdown-area"></div></div><div filename="gl" absolute="/Users/Gilbert/Code/openFrameworks/examples/gl" dir="../examples" route="/examples/gl/" ext="" type="folder" id="861" children="860,868,875,882,889,896,903,910,917,926,933,940,948,953,958,963,968,973,978,983,988,995,1000,1005,1010" parent="514" breadcrumbs="514" class="see-also"><h4 class="f3">See also</h4><div class="also"><a href="/documentation/types/ofRectangle"><span class="origin">documentation</span><span class="name">ofRectangle</span></a></div><div class="also"><a href="/documentation/graphics/ofTrueTypeFont::glyph"><span class="origin">documentation</span><span class="name">ofTrueTypeFont::glyph</span></a></div><div class="also"><a href="/documentation/glm/gtx_vector_angle_functions"><span class="origin">documentation</span><span class="name">gtxvector_angle (functions)</span></a></div><div class="also"><a href="/documentation/glm/gtx_euler_angles_functions"><span class="origin">documentation</span><span class="name">gtxeuler_angles (functions)</span></a></div><div class="also"><a href="/documentation/glm/glm::vec4"><span class="origin">documentation</span><span class="name">glm::vec4</span></a></div><div class="also"><a href="/documentation/glm/glm::vec3"><span class="origin">documentation</span><span class="name">glm::vec3</span></a></div><div class="also"><a href="/documentation/glm/glm::vec2"><span class="origin">documentation</span><span class="name">glm::vec2</span></a></div><div class="also"><a href="/documentation/glm/glm::vec1"><span class="origin">documentation</span><span class="name">glm::vec1</span></a></div><div class="also"><a href="/documentation/glm/glm::quat"><span class="origin">documentation</span><span class="name">glm::quat</span></a></div><div class="also"><a href="/documentation/glm/glm::mat4x3"><span class="origin">documentation</span><span class="name">glm::mat4x3</span></a></div><div class="also"><a href="/documentation/glm/glm::mat4x2"><span class="origin">documentation</span><span class="name">glm::mat4x2</span></a></div><div class="also"><a href="/documentation/glm/glm::mat4"><span class="origin">documentation</span><span class="name">glm::mat4</span></a></div><div class="also"><a href="/documentation/glm/glm::mat3x4"><span class="origin">documentation</span><span class="name">glm::mat3x4</span></a></div><div class="also"><a href="/documentation/glm/glm::mat3x2"><span class="origin">documentation</span><span class="name">glm::mat3x2</span></a></div><div class="also"><a href="/documentation/glm/glm::mat3"><span class="origin">documentation</span><span class="name">glm::mat3</span></a></div><div class="also"><a href="/documentation/glm/glm::mat2x4"><span class="origin">documentation</span><span class="name">glm::mat2x4</span></a></div><div class="also"><a href="/documentation/glm/glm::mat2x3"><span class="origin">documentation</span><span class="name">glm::mat2x3</span></a></div><div class="also"><a href="/documentation/glm/glm::mat2"><span class="origin">documentation</span><span class="name">glm::mat2</span></a></div><div class="also"><a href="/documentation/glm/"><span class="origin">documentation</span><span class="name">glm</span></a></div><div class="also"><a href="/documentation/gl/"><span class="origin">documentation</span><span class="name">gl</span></a></div><div class="also"><a href="/documentation/addons/ofxGui/ofxToggle"><span class="origin">documentation</span><span class="name">ofxToggle</span></a></div><div class="also"><a href="/guides/Singleboard-Pandaboard"><span class="origin">guides</span><span class="name">Singleboard-Pandaboard</span></a></div><div class="also"><a href="/guides/Singleboard-Armv7"><span class="origin">guides</span><span class="name">Singleboard-Armv7</span></a></div><div class="also"><a href="/guides/Singleboard-Armv7-ko"><span class="origin">guides</span><span class="name">Singleboard-Armv7-ko</span></a></div><div class="also"><a href="/examples/graphics/rectangleAlignmentAndScalingExample/"><span class="origin">examples</span><span class="name">rectangleAlignmentAndScalingExample</span></a></div><div class="also"><a href="/examples/gles/"><span class="origin">examples</span><span class="name">gles</span></a></div><div class="also"><a href="/examples/gl/singleLightExample/"><span class="origin">examples</span><span class="name">singleLightExample</span></a></div><div class="also"><a href="/examples/gl/glInfoExample/src/glewOutput_h"><span class="origin">examples</span><span class="name">glewOutput.h</span></a></div><div class="also"><a href="/examples/gl/glInfoExample/src/glewOutput_cpp"><span class="origin">examples</span><span class="name">glewOutput.cpp</span></a></div><div class="also"><a href="/examples/gl/glInfoExample/"><span class="origin">examples</span><span class="name">glInfoExample</span></a></div><div class="also"><a href="/openframeworks/types/ofRectangle_h"><span class="origin">openframeworks</span><span class="name">ofRectangle.h</span></a></div><div class="also"><a href="/openframeworks/types/ofRectangle_cpp"><span class="origin">openframeworks</span><span class="name">ofRectangle.cpp</span></a></div><div class="also"><a href="/openframeworks/gl/"><span class="origin">openframeworks</span><span class="name">gl</span></a></div><div class="also"><a href="/addons/ofxGui/src/ofxToggle_h"><span class="origin">addons</span><span class="name">ofxToggle.h</span></a></div><div class="also"><a href="/addons/ofxGui/src/ofxToggle_cpp"><span class="origin">addons</span><span class="name">ofxToggle.cpp</span></a></div></div></div><div id="code-render"><div class="inner"><pre><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ofApp.h"</span></span>

<span class="token comment" spellcheck="true">/*
 This code demonstrates the difference between using an ofMesh and an ofVboMesh.
 The ofMesh is uploaded to the GPU once per frame, while the ofVboMesh is
 uploaded once. This makes it much faster to draw multiple copies of an
 ofVboMesh than multiple copies of an ofMesh.
 */</span>

<span class="token comment" spellcheck="true">/*
 These functions are for adding quads and triangles to an ofMesh -- either
 vertices, or texture coordinates.
 */</span>
<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">addFace</span><span class="token punctuation">(</span>ofMesh<span class="token operator">&</span> mesh<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> b<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	mesh<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mesh<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mesh<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">addFace</span><span class="token punctuation">(</span>ofMesh<span class="token operator">&</span> mesh<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> b<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> c<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec3<span class="token operator">&</span> d<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">addFace</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">addFace</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">addTexCoords</span><span class="token punctuation">(</span>ofMesh<span class="token operator">&</span> mesh<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> b<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	mesh<span class="token punctuation">.</span><span class="token function">addTexCoord</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mesh<span class="token punctuation">.</span><span class="token function">addTexCoord</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mesh<span class="token punctuation">.</span><span class="token function">addTexCoord</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">addTexCoords</span><span class="token punctuation">(</span>ofMesh<span class="token operator">&</span> mesh<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> b<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> c<span class="token punctuation">,</span> <span class="token keyword">const</span> glm<span class="token operator">::</span>vec2<span class="token operator">&</span> d<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">addTexCoords</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">addTexCoords</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*
 The 3d data is stored in an image where alpha represents depth. Here we create
 a 3d point from the current x,y image position.
 */</span>
<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
glm<span class="token operator">::</span>vec3 ofApp<span class="token operator">::</span><span class="token function">getVertexFromImg</span><span class="token punctuation">(</span>ofImage<span class="token operator">&</span> img<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofColor color <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span>a <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">float</span> z <span class="token operator">=</span> <span class="token function">ofMap</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> glm<span class="token operator">::</span><span class="token function">vec3</span><span class="token punctuation">(</span>x <span class="token operator">-</span> img<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">-</span> img<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> glm<span class="token operator">::</span><span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token macro property">#<span class="token directive keyword">ifdef</span> TARGET_OPENGLES</span>
    <span class="token comment" spellcheck="true">// While this will will work on normal OpenGL as well, it is</span>
    <span class="token comment" spellcheck="true">// required for OpenGL ES because ARB textures are not supported.</span>
    <span class="token comment" spellcheck="true">// If this IS set, then we conditionally normalize our</span>
    <span class="token comment" spellcheck="true">// texture coordinates below.</span>
    <span class="token function">ofEnableNormalizedTexCoords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">#<span class="token directive keyword">endif</span></span>

	img<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"linzer.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">// OF_PRIMITIVE_TRIANGLES means every three vertices create a triangle</span>
	mesh<span class="token punctuation">.</span><span class="token function">setMode</span><span class="token punctuation">(</span>OF_PRIMITIVE_TRIANGLES<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> skip <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// this controls the resolution of the mesh</span>

	<span class="token keyword">int</span> width <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	glm<span class="token operator">::</span>vec2 <span class="token function">imageSize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>

	glm<span class="token operator">::</span>vec3 <span class="token function">zero</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> height <span class="token operator">-</span> skip<span class="token punctuation">;</span> y <span class="token operator">+</span><span class="token operator">=</span> skip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> width <span class="token operator">-</span> skip<span class="token punctuation">;</span> x <span class="token operator">+</span><span class="token operator">=</span> skip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment" spellcheck="true">/*
			 To construct a mesh, we have to build a collection of quads made up of
			 the current pixel, the one to the right, to the bottom right, and
			 beneath. These are called nw, ne, se and sw. To get the texture coords
			 we need to use the actual image indices.
			 */</span>
			glm<span class="token operator">::</span>vec3 nw <span class="token operator">=</span> <span class="token function">getVertexFromImg</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec3 ne <span class="token operator">=</span> <span class="token function">getVertexFromImg</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> x <span class="token operator">+</span> skip<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec3 sw <span class="token operator">=</span> <span class="token function">getVertexFromImg</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">+</span> skip<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec3 se <span class="token operator">=</span> <span class="token function">getVertexFromImg</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> x <span class="token operator">+</span> skip<span class="token punctuation">,</span> y <span class="token operator">+</span> skip<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec2 <span class="token function">nwi</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec2 <span class="token function">nei</span><span class="token punctuation">(</span>x <span class="token operator">+</span> skip<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec2 <span class="token function">swi</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> skip<span class="token punctuation">)</span><span class="token punctuation">;</span>
			glm<span class="token operator">::</span>vec2 <span class="token function">sei</span><span class="token punctuation">(</span>x <span class="token operator">+</span> skip<span class="token punctuation">,</span> y <span class="token operator">+</span> skip<span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment" spellcheck="true">// ignore any zero-data (where there is no depth info)</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>nw <span class="token operator">!=</span> zero <span class="token operator">&&</span> ne <span class="token operator">!=</span> zero <span class="token operator">&&</span> sw <span class="token operator">!=</span> zero <span class="token operator">&&</span> se <span class="token operator">!=</span> zero<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">addFace</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> nw<span class="token punctuation">,</span> ne<span class="token punctuation">,</span> se<span class="token punctuation">,</span> sw<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment" spellcheck="true">// Normalize our texture coordinates if normalized</span>
				<span class="token comment" spellcheck="true">// texture coordinates are currently enabled.</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">ofGetUsingNormalizedTexCoords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					nwi <span class="token operator">/</span><span class="token operator">=</span> imageSize<span class="token punctuation">;</span>
					nei <span class="token operator">/</span><span class="token operator">=</span> imageSize<span class="token punctuation">;</span>
					sei <span class="token operator">/</span><span class="token operator">=</span> imageSize<span class="token punctuation">;</span>
					swi <span class="token operator">/</span><span class="token operator">=</span> imageSize<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token function">addTexCoords</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> nwi<span class="token punctuation">,</span> nei<span class="token punctuation">,</span> sei<span class="token punctuation">,</span> swi<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	vboMesh <span class="token operator">=</span> mesh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">ofBackgroundGradient</span><span class="token punctuation">(</span><span class="token function">ofColor</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ofColor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cam<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">ofEnableDepthTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">ofRotateYDeg</span><span class="token punctuation">(</span><span class="token function">ofGetElapsedTimef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// slowly rotate the model</span>

	<span class="token function">ofScale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// make y point down</span>
	<span class="token function">ofScale</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// make everything a bit smaller</span>

	img<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bind the image to begin texture mapping</span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// make a 5x5 grid</span>
	glm<span class="token operator">::</span>vec2 <span class="token function">spacing</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// spacing between meshes</span>
	<span class="token function">ofTranslate</span><span class="token punctuation">(</span><span class="token operator">-</span>spacing<span class="token punctuation">.</span>x <span class="token operator">*</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span>spacing<span class="token punctuation">.</span>y <span class="token operator">*</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// center the grid</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// loop through the rows</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// loop through the columns</span>
			<span class="token function">ofPushMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">ofTranslate</span><span class="token punctuation">(</span>i <span class="token operator">*</span> spacing<span class="token punctuation">.</span>x<span class="token punctuation">,</span> j <span class="token operator">*</span> spacing<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// position the current mesh</span>
			<span class="token function">ofTranslate</span><span class="token punctuation">(</span>spacing<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> spacing<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// center the mesh</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">ofGetKeyPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				vboMesh<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// draw a vboMesh (faster) when a key is pressed</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				mesh<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// draw an ofMesh (slower) when no key is pressed</span>
			<span class="token punctuation">}</span>
			<span class="token function">ofPopMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	img<span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">ofDisableDepthTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cam<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment" spellcheck="true">// draw the framerate in the top left corner</span>
	<span class="token function">ofDrawBitmapString</span><span class="token punctuation">(</span><span class="token function">ofToString</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token function">ofGetFrameRate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" fps"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">ofDrawBitmapString</span><span class="token punctuation">(</span><span class="token string">"Hold any key for ofVboMesh mode."</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string mode <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">ofGetKeyPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"ofVboMesh"</span> <span class="token operator">:</span> <span class="token string">"ofMesh"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">ofDrawBitmapString</span><span class="token punctuation">(</span><span class="token string">"Current mode: "</span> <span class="token operator">+</span> mode<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">keyPressed</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">keyReleased</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">ofToggleFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseMoved</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseDragged</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> button<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mousePressed</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> button<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseReleased</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> button<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseEntered</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">mouseExited</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">windowResized</span><span class="token punctuation">(</span><span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">gotMessage</span><span class="token punctuation">(</span>ofMessage msg<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//--------------------------------------------------------------</span>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">dragEvent</span><span class="token punctuation">(</span>ofDragInfo dragInfo<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div></div></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1586012716389/examples/gl/vboExample/src/ofApp_cpp/payload.js"></script><script src="/_nuxt/5f71eaca0bd2f1a0f939.js" defer></script><script src="/_nuxt/35a90d914f539af1362f.js" defer></script><script src="/_nuxt/906a3ca0fb13ed3c6651.js" defer></script><script src="/_nuxt/b673915e8a08acf593e8.js" defer></script><script src="/_nuxt/bf355f21967a23c26c07.js" defer></script>
  </body>
</html>
