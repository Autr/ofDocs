<!doctype html>
<html data-n-head-ssr>
  <head>
    <meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><link rel="preload" href="/_nuxt/76844c096ee4b2a8e8b3.js" as="script"><link rel="preload" href="/_nuxt/561e36663ec83bdcd2ac.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/26c5a70906ce7aaac460.js" as="script"><link rel="preload" href="/_nuxt/75259d9b56378e7dbe47.css" as="style"><link rel="preload" href="/_nuxt/426713a49089294b64e8.js" as="script"><link rel="preload" href="/_nuxt/74971516fa343f955f83.css" as="style"><link rel="preload" href="/_nuxt/0128aba013e56fe5f14b.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/75259d9b56378e7dbe47.css"><link rel="stylesheet" href="/_nuxt/74971516fa343f955f83.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app" class="unknown"><div id="menu"><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><div class="txt"><span class="docs f7 questrial">ofDocs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" x="0px" y="0px" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343						c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88						c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593						c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789						C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><div id="results" class="mt1"></div></div><div id="lists" class="menu-inner mt1"><div class="inner"><div class="item"><a href="/documentation/" title="/documentation/" class="nuxt-link-active"><!----><span>documentation</span></a><div class="list"><div class="item"><a href="/documentation/3d/" title="/documentation/3d/"><!----><span>3d</span></a><!----></div><div class="item"><a href="/documentation/addons/" title="/documentation/addons/"><!----><span>addons</span></a><!----></div><div class="item"><a href="/documentation/application/" title="/documentation/application/"><!----><span>application</span></a><!----></div><div class="item"><a href="/documentation/communication/" title="/documentation/communication/" class="nuxt-link-active"><!----><span>communication</span></a><div class="list"><div class="item"><a href="/documentation/communication/ofArduino" title="/documentation/communication/ofArduino.markdown"><!----><span>ofArduino</span></a><!----></div><div class="item"><a href="/documentation/communication/ofSerial" title="/documentation/communication/ofSerial.markdown" class="nuxt-link-exact-active nuxt-link-active"><!----><span>ofSerial</span></a><div class="list"></div></div><div class="item"><a href="/documentation/communication/ofSerialDeviceInfo" title="/documentation/communication/ofSerialDeviceInfo.markdown"><!----><span>ofSerialDeviceInfo</span></a><div class="list"></div></div></div></div><div class="item"><a href="/documentation/events/" title="/documentation/events/"><!----><span>events</span></a><!----></div><div class="item"><a href="/documentation/gl/" title="/documentation/gl/"><!----><span>gl</span></a><!----></div><div class="item"><a href="/documentation/glm/" title="/documentation/glm/"><!----><span>glm</span></a><!----></div><div class="item"><a href="/documentation/graphics/" title="/documentation/graphics/"><!----><span>graphics</span></a><!----></div><div class="item"><a href="/documentation/math/" title="/documentation/math/"><!----><span>math</span></a><!----></div><div class="item"><a href="/documentation/sound/" title="/documentation/sound/"><!----><span>sound</span></a><!----></div><div class="item"><a href="/documentation/types/" title="/documentation/types/"><!----><span>types</span></a><!----></div><div class="item"><a href="/documentation/utils/" title="/documentation/utils/"><!----><span>utils</span></a><!----></div><div class="item"><a href="/documentation/video/" title="/documentation/video/"><!----><span>video</span></a><!----></div></div></div><div class="item"><a href="/guides/" title="/guides/"><!----><span>guides</span></a><!----></div><div class="item"><a href="/examples/" title="/examples/"><!----><span>examples</span></a><!----></div><div class="item"><a href="/openframeworks/" title="/openframeworks/"><!----><span>openFrameworks</span></a><!----></div><div class="item"><a href="/addons/" title="/addons/"><!----><span>addons</span></a><!----></div><div class="item"><a href="/guides/" title="/guides/"><!----><span>guides</span></a><!----></div></div></div></div><div id="document"><div id="renderer" class="main"><div absolute="/Users/Gilbert/Code/openFrameworks/ofSite/documentation/communication/ofSerial.markdown" route="/documentation/communication/ofSerial.markdown" dir="../ofSite/documentation/communication" ext="markdown" type="page" id="1920" parent="1917" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><div class="mt2 mb2"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/" class="pink nuxt-link-active">documentation </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/communication/" class="pink nuxt-link-active">communication </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link">ofSerial </span><!----></span></span></div></div></div></div><div id="documentation-page" document='<p>#class ofSerial</p>
<p>&amp;lt;!--
<em>visible: True</em>
<em>advanced: False</em>
<em>istemplated: False</em>
_extends: _
--&amp;gt;</p>
<p>##InlineDescription</p>
<p>ofSerial provides a cross platform system for interfacing with the
serial port. You can choose the port and baud rate, and then read and send
data. Please note that the port must be set manually in the code, so you
should be clear what port your device is on. For example, Arduino users should
check the arduino app to see what port their device is on. Alternatively the
ofSerial class can attempt to communicate with the first available device it
finds.</p>
<p>To start up a serial connection to another device you do the following:</p>
<pre><code>serial<span class="token punctuation">.</span><span class="token function">listDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vector <span class="token operator">&amp;amp;</span>lt<span class="token punctuation">;</span>ofSerialDeviceInfo<span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> deviceList <span class="token operator">=</span> serial<span class="token punctuation">.</span><span class="token function">getDeviceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Open the first device and talk to it at 57600 baud</span>
serial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>##Description</p>
<p>ofSerial provides a cross platform system for interfacing with the serial port. You can choose the port and baud rate, and then read and send data. Please note that the port must be set manually in the code, so you should be clear what port your device is on. For example, Arduino users should check the arduino app to see what port their device is on. Alternatively the ofSerial class can attempt to communicate with the first available device it finds.</p>
<p>To start up a serial connection to another device you do the following:</p>
<pre><code>
serial<span class="token punctuation">.</span><span class="token function">listDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vector <span class="token operator">&amp;amp;</span>lt<span class="token punctuation">;</span>ofSerialDeviceInfo<span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> deviceList <span class="token operator">=</span> serial<span class="token punctuation">.</span><span class="token function">getDeviceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token keyword">int</span> baud <span class="token operator">=</span> <span class="token number">57600</span><span class="token punctuation">;</span>
serial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//open the first device and talk to it at 57600 baud</span>

</code></pre>
<p>##Methods</p>
<p>###int available()</p>
<p>&amp;lt;!--
<em>syntax: available()</em>
<em>name: available</em>
<em>returns: int</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>The available method is useful when you want to know how many bytes
are available in the serial port. For instance, if you only want to
read when there are 8 bytes waiting for you, you would do:</p>
<pre><code><span class="token keyword">if</span><span class="token punctuation">(</span>device<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 device<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This is useful when you know how long a complete message from a device
is going to be.</p>
<p>_description: _</p>
<p>The available method is useful when you want to know how many bytes are available in the serial port. For instance, if you only want to read when there are 8 bytes waiting for you, you would do:</p>
<pre><code><span class="token keyword">if</span><span class="token punctuation">(</span>device<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  device<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This is useful when you know how long a complete message from a device is going to be.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void buildDeviceList()</p>
<p>&amp;lt;!--
<em>syntax: buildDeviceList()</em>
<em>name: buildDeviceList</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: protected</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Enumerate all devices attached to a serial port.</p>
<p>This method tries to collect basic information about all devices
attached to a serial port.
\see ofSerial::listDevices()
\see enumerateWin32Ports()</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void close()</p>
<p>&amp;lt;!--
<em>syntax: close()</em>
<em>name: close</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Closes the connection to the serial device.</p>
<p>_description: _</p>
<p>Closes the connection to the serial device.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void drain()</p>
<p>&amp;lt;!--
<em>syntax: drain()</em>
<em>name: drain</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Drain is only available on OSX and Linux and is very similar to
flush(), but blocks until all the data has been written to or read
from the serial port.</p>
<p>_description: _</p>
<p>drain is only available on OSX and Linux and is very similar to flush(), but blocks until all the data has been written to or read from the serial port.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void flush(flushIn = true, flushOut = true)</p>
<p>&amp;lt;!--
<em>syntax: flush(flushIn = true, flushOut = true)</em>
<em>name: flush</em>
<em>returns: void</em>
_returns_description: _
<em>parameters: bool flushIn=true, bool flushOut=true</em>
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Clears data from one or both of the serial buffers.</p>
<p>Any data in the cleared buffers is discarded.</p>
<p><strong>Parameters:</strong></p>
<p>flushIn If true then it clears the incoming data buffer</p>
<p>flushOut If true then it clears the outgoing data buffer.</p>
<p>_description: _</p>
<p>Clears data from one or both of the serial buffers. Any data in the cleared buffers is discarded. flushIn = true clears the incoming data buffer and  fluhOut = true clear the outcoming data buffer.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###vector&amp;lt; ofSerialDeviceInfo &amp;gt; getDeviceList()</p>
<p>&amp;lt;!--
<em>syntax: getDeviceList()</em>
<em>name: getDeviceList</em>
<em>returns: vector&amp;lt; ofSerialDeviceInfo &amp;gt;</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Returns a vector of ofSerialDeviceInfo instances with the
devicePath, deviceName, deviceID set.</p>
<p>_description: _</p>
<p>This returns a vector of ofSerialDeviceInfo instances with the devicePath, deviceName, deviceID set.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool isInitialized()</p>
<p>&amp;lt;!--
<em>syntax: isInitialized()</em>
<em>name: isInitialized</em>
<em>returns: bool</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0073</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void listDevices()</p>
<p>&amp;lt;!--
<em>syntax: listDevices()</em>
<em>name: listDevices</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>This lists all the available serial devices to the console or
standard output.</p>
<p>On OSX and Linux this will return all the devices listed in /dev tty
and cu, so you might want to compare it against a list of devices that
you&#39;re expecting if you want to use it to dynamically connect to a
device.</p>
<p>_description: _</p>
<p>This lists out all the available serial devices to the console or standard output. On OSX and Linux this will return all the devices listed in /dev tty and cu, so you might want to compare it against a list of devices that you&#39;re expecting if you want to use it to dynamically connect to a device.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<h3>ofSerial()</h3>
<p>&amp;lt;!--
<em>syntax: ofSerial()</em>
<em>name: ofSerial</em>
_returns: _
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Initializes the serial connection, but doesn&#39;t actually open the
connection to any devices. You&#39;ll need to use the setup() method
before doing that.</p>
<p>_description: _</p>
<p>This initializes the serial connection, but doesn&#39;t actually open the connection to any devices. You&#39;ll need to use the setup() method before doing that.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###int readByte()</p>
<p>&amp;lt;!--
<em>syntax: readByte()</em>
<em>name: readByte</em>
<em>returns: int</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Reads and returns a single byte from the requested device.</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> myByte <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_NO_DATA <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>no data was read<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_ERROR <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>an error occurred<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>myByte is <span class="token operator">%</span>d<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Returns</strong>: The single byte as integer. If there is no data it will return
<code>OF_SERIAL_NO_DATA</code>, and on error it returns <code>OF_SERIAL_ERROR</code></p>
<p>_description: _</p>
<p>Reads and returns a single byte from the requested device.</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> myByte <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
myByte <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_NO_DATA <span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>no data was read<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_ERROR <span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>an error occurred<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>myByte is <span class="token operator">%</span>d<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###long readBytes(&amp;amp;buffer, length)</p>
<p>&amp;lt;!--
<em>syntax: readBytes(&amp;amp;buffer, length)</em>
<em>name: readBytes</em>
<em>returns: long</em>
_returns_description: _
<em>parameters: ofBuffer &amp;amp;buffer, size_t length</em>
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###long readBytes(*buffer, length)</p>
<p>&amp;lt;!--
<em>syntax: readBytes(*buffer, length)</em>
<em>name: readBytes</em>
<em>returns: long</em>
_returns_description: _
<em>parameters: unsigned char *buffer, size_t length</em>
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Reads &#39;length&#39; bytes from the connected serial device.</p>
<p>In some cases it may read less than &#39;length&#39; bytes, so for reliable
reading of &amp;gt;1 bytes of data the return value must be checked against the
number of bytes requested, and if fewer bytes than requested were read
then the call must be tried again.</p>
<p>This function should only be called when Serial.available() is reporting</p>
<blockquote>
<p>0 bytes available.</p>
</blockquote>
<p>An example of how to reliably read 8 bytes:</p>
<pre><code><span class="token comment" spellcheck="true">// we want to read 8 bytes</span>
<span class="token keyword">int</span> bytesRequired <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> bytes<span class="token punctuation">[</span>bytesRequired<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> bytesRemaining <span class="token operator">=</span> bytesRequired<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// loop until we&#39;ve read everything</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span> bytesRemaining <span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token comment" spellcheck="true">// check for data</span>
	 <span class="token keyword">if</span> <span class="token punctuation">(</span> serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
		 <span class="token comment" spellcheck="true">// try to read - note offset into the bytes[] array, this is so</span>
		 <span class="token comment" spellcheck="true">// that we don&#39;t overwrite the bytes we already have</span>
		 <span class="token keyword">int</span> bytesArrayOffset <span class="token operator">=</span> bytesRequired <span class="token operator">-</span> bytesRemaining<span class="token punctuation">;</span>
		 <span class="token keyword">int</span> result <span class="token operator">=</span> serial<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span> <span class="token operator">&amp;amp;</span>amp<span class="token punctuation">;</span>bytes<span class="token punctuation">[</span>bytesArrayOffset<span class="token punctuation">]</span><span class="token punctuation">,</span> bytesRemaining <span class="token punctuation">)</span><span class="token punctuation">;</span>

		 <span class="token comment" spellcheck="true">// check for error code</span>
		 <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> OF_SERIAL_ERROR <span class="token punctuation">)</span><span class="token punctuation">{</span>
			 <span class="token comment" spellcheck="true">// something bad happened</span>
			 <span class="token function">ofLog</span><span class="token punctuation">(</span> OF_LOG_ERROR<span class="token punctuation">,</span> <span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>unrecoverable error reading from serial<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			 <span class="token keyword">break</span><span class="token punctuation">;</span>
		 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> OF_SERIAL_NO_DATA <span class="token punctuation">)</span><span class="token punctuation">{</span>
			 <span class="token comment" spellcheck="true">// nothing was read, try again</span>
		 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			 <span class="token comment" spellcheck="true">// we read some data!</span>
			 bytesRemaining <span class="token operator">-</span><span class="token operator">=</span> result<span class="token punctuation">;</span>
		 <span class="token punctuation">}</span>
	 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Be aware that the type of your buffer can only be unsigned char. If you&#39;re
trying to receieve ints or signed chars over a serial connection you&#39;ll
need to do some bit manipulation to correctly interpret that values.</p>
<p>_description: _</p>
<p>Tries to read &#39;length&#39; bytes from the connected serial device. In some cases it may read less than &#39;length&#39; bytes, so for reliable reading of &amp;gt;1 bytes of data the return value must be checked against the number of bytes requested, and if fewer bytes than requested were read then the call must be tried again.</p>
<p>This function should only be called when Serial.available() is reporting &amp;gt;0 bytes available.</p>
<p>An example of how to reliably read 8 bytes:</p>
<pre><code>
<span class="token comment" spellcheck="true">// we want to read 8 bytes</span>
<span class="token keyword">int</span> bytesRequired <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> bytes<span class="token punctuation">[</span>bytesRequired<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> bytesRemaining <span class="token operator">=</span> bytesRequired<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// loop until we&#39;ve read everything</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span> bytesRemaining <span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// check for data</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span> serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// try to read - note offset into the bytes[] array, this is so</span>
    <span class="token comment" spellcheck="true">// that we don&#39;t overwrite the bytes we already have</span>
    <span class="token keyword">int</span> bytesArrayOffset <span class="token operator">=</span> bytesRequired <span class="token operator">-</span> bytesRemaining<span class="token punctuation">;</span>
    <span class="token keyword">int</span> result <span class="token operator">=</span> serial<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span> <span class="token operator">&amp;amp;</span>amp<span class="token punctuation">;</span>bytes<span class="token punctuation">[</span>bytesArrayOffset<span class="token punctuation">]</span><span class="token punctuation">,</span>
      bytesRemaining <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// check for error code</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> OF_SERIAL_ERROR <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// something bad happened</span>
      <span class="token function">ofLog</span><span class="token punctuation">(</span> OF_LOG_ERROR<span class="token punctuation">,</span> <span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>unrecoverable error reading from serial<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// bail out</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> OF_SERIAL_NO_DATA <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// nothing was read, try again</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// we read some data!</span>
      bytesRemaining <span class="token operator">-</span><span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Be aware that the type of your buffer can only be unsigned char. If you&#39;re trying to receieve ints or signed chars over a serial connection you&#39;ll need to do some bit manipulation to correctly interpret that values.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###long readBytes(*buffer, length)</p>
<p>&amp;lt;!--
<em>syntax: readBytes(*buffer, length)</em>
<em>name: readBytes</em>
<em>returns: long</em>
_returns_description: _
<em>parameters: char *buffer, size_t length</em>
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool setup()</p>
<p>&amp;lt;!--
<em>syntax: setup()</em>
<em>name: setup</em>
<em>returns: bool</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Attempts to setup the first available device at a baud rate of 9600.</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span> mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token function">ofLog</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>serial is setup<span class="token operator">!</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>_description: _</p>
<p>Attempts to setup the first available device at a baud rate of 9600.</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span> mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>serial is setup<span class="token operator">!</span>
<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool setup(deviceNumber, baudrate)</p>
<p>&amp;lt;!--
<em>syntax: setup(deviceNumber, baudrate)</em>
<em>name: setup</em>
<em>returns: bool</em>
_returns_description: _
<em>parameters: int deviceNumber, int baudrate</em>
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Opens the serial port based on the order in which is listed and
sets the baud rate.</p>
<p>The code bellow would open the first serial device found by the system:</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>_description: _</p>
<p>Opens the serial port based on the order in which is listed and sets the baud rate. The code bellow would open the first serial device found by the system:</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool setup(portName, baudrate)</p>
<p>&amp;lt;!--
<em>syntax: setup(portName, baudrate)</em>
<em>name: setup</em>
<em>returns: bool</em>
_returns_description: _
<em>parameters: string portName, int baudrate</em>
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Opens the serial port, with the given name and baud rate.</p>
<p>On OSX and Linux, it might look like:</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>dev<span class="token operator">/</span>cu<span class="token punctuation">.</span>USA19H181P1<span class="token number">.1</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>On Windows, like:</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>COM4<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>_description: _</p>
<p>Opens the serial port, with the given name and baud rate. On mac and linux, it might look like:</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>dev<span class="token operator">/</span>cu<span class="token punctuation">.</span>USA19H181P1<span class="token number">.1</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>and on a pc, like:</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>COM4<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool writeByte(singleByte)</p>
<p>&amp;lt;!--
<em>syntax: writeByte(singleByte)</em>
<em>name: writeByte</em>
<em>returns: bool</em>
_returns_description: _
<em>parameters: unsigned char singleByte</em>
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Writes a single byte to the connected serial device.</p>
<p>Check the return value to be sure the data was written.</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> myByte <span class="token operator">=</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> byteWasWritten <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span>myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>byteWasWritten <span class="token punctuation">)</span>
	 <span class="token function">ofLog</span><span class="token punctuation">(</span>OF_LOG_ERROR<span class="token punctuation">,</span> <span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>Byte was <span class="token operator">not</span> written to serial port<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>_description: _</p>
<p>Writes a single byte to the connected serial device. Check the return value to be sure the data was written.</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> myByte <span class="token operator">=</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> byteWasWritten <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span>myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>byteWasWritten <span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span>byte was <span class="token operator">not</span> written to serial port<span class="token operator">&amp;amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool writeByte(singleByte)</p>
<p>&amp;lt;!--
<em>syntax: writeByte(singleByte)</em>
<em>name: writeByte</em>
<em>returns: bool</em>
_returns_description: _
<em>parameters: char singleByte</em>
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###long writeBytes(&amp;amp;buffer)</p>
<p>&amp;lt;!--
<em>syntax: writeBytes(&amp;amp;buffer)</em>
<em>name: writeBytes</em>
<em>returns: long</em>
_returns_description: _
<em>parameters: const ofBuffer &amp;amp;buffer</em>
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###long writeBytes(*buffer, length)</p>
<p>&amp;lt;!--
<em>syntax: writeBytes(*buffer, length)</em>
<em>name: writeBytes</em>
<em>returns: long</em>
_returns_description: _
<em>parameters: const unsigned char *buffer, size_t length</em>
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>This writes bytes into the serial buffer from the buffer pointer passed in</p>
<pre><code><span class="token keyword">unsigned</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;f&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
device<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>amp<span class="token punctuation">;</span>buf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>_description: _</p>
<p>This writes bytes into the serial buffer from the buffer pointer passed in:</p>
<pre><code><span class="token keyword">unsigned</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;f&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;!&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
device<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span><span class="token operator">&amp;amp;</span>amp<span class="token punctuation">;</span>buf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###long writeBytes(*buffer, length)</p>
<p>&amp;lt;!--
<em>syntax: writeBytes(*buffer, length)</em>
<em>name: writeBytes</em>
<em>returns: long</em>
_returns_description: _
<em>parameters: const char *buffer, size_t length</em>
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<h3>~ofSerial()</h3>
<p>&amp;lt;!--
<em>syntax: ~ofSerial()</em>
<em>name: ~ofSerial</em>
_returns: _
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>##Variables</p>
<p>###bool bHaveEnumeratedDevices</p>
<p>&amp;lt;!--
<em>name: bHaveEnumeratedDevices</em>
<em>type: bool</em>
<em>access: protected</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>&amp;lt; This vector stores information about all serial devices found.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool bInited</p>
<p>&amp;lt;!--
<em>name: bInited</em>
<em>type: bool</em>
<em>access: protected</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>&amp;lt; Indicate having enumerated devices (serial ports) available.</p>
<p>_description: _</p>
<p>h</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###string deviceType</p>
<p>&amp;lt;!--
<em>name: deviceType</em>
<em>type: string</em>
<em>access: protected</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###ofSerialDeviceInfo devices</p>
<p>&amp;lt;!--
<em>name: devices</em>
<em>type: ofSerialDeviceInfo</em>
<em>access: protected</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>&amp;lt; Name of the device on the other end of the serial connection.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###int fd</p>
<p>&amp;lt;!--
<em>name: fd</em>
<em>type: int</em>
<em>access: protected</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>&amp;lt; File descriptor for the serial port.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###struct termios oldoptions</p>
<p>&amp;lt;!--
<em>name: oldoptions</em>
<em>type: struct termios</em>
<em>access: protected</em>
<em>version_started: 006</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>&amp;lt; This is the set of (current) terminal attributes to be reused when changing a subset of options.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
'><div id="side-menu" class="markdown"><div id="params"><h4>Variables</h4><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">bool </span><span>bHaveEnumeratedDevices</span><span class="token comment">&lt; This vector stores information about all serial devices found.
</span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">bool </span><span>bInited</span><span class="token comment">&lt; Indicate having enumerated devices (serial ports) available.
</span></div><div class="desc"><p>h</p>
</div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">string </span><span>deviceType</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">ofSerialDeviceInfo </span><span>devices</span><span class="token comment">&lt; Name of the device on the other end of the serial connection.
</span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">int </span><span>fd</span><span class="token comment">&lt; File descriptor for the serial port.
</span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">structtermios </span><span>oldoptions</span><span class="token comment">&lt; This is the set of (current) terminal attributes to be reused when changing a subset of options.
</span></div><div class="desc"></div></div></code><hr></div><div id="methods-list"><h4>Methods</h4><div class="anchor"><code><a href="#available" class="pink">available</a></code></div><div class="anchor"><code><a href="#buildDeviceList" class="pink">buildDeviceList</a></code></div><div class="anchor"><code><a href="#close" class="pink">close</a></code></div><div class="anchor"><code><a href="#drain" class="pink">drain</a></code></div><div class="anchor"><code><a href="#flush" class="pink">flush</a></code></div><div class="anchor"><code><a href="#isInitialized">isInitialized</a></code></div><div class="anchor"><code><a href="#listDevices" class="pink">listDevices</a></code></div><div class="anchor"><code><a href="#ofSerial" class="pink">ofSerial</a></code></div><div class="anchor"><code><a href="#readByte" class="pink">readByte</a></code></div><div class="anchor"><code><a href="#readBytes">readBytes</a></code></div><div class="anchor"><code><a href="#readBytes" class="pink">readBytes</a></code></div><div class="anchor"><code><a href="#readBytes">readBytes</a></code></div><div class="anchor"><code><a href="#setup" class="pink">setup</a></code></div><div class="anchor"><code><a href="#setup" class="pink">setup</a></code></div><div class="anchor"><code><a href="#setup" class="pink">setup</a></code></div><div class="anchor"><code><a href="#writeByte" class="pink">writeByte</a></code></div><div class="anchor"><code><a href="#writeByte">writeByte</a></code></div><div class="anchor"><code><a href="#writeBytes">writeBytes</a></code></div><div class="anchor"><code><a href="#writeBytes" class="pink">writeBytes</a></code></div><div class="anchor"><code><a href="#writeBytes">writeBytes</a></code></div><div class="anchor"><code><a href="#~ofSerial">~ofSerial</a></code></div></div><div id="see-also" filename="ofSerial.markdown" absolute="/Users/Gilbert/Code/openFrameworks/ofSite/documentation/communication/ofSerial.markdown" route="/documentation/communication/ofSerial.markdown" dir="../ofSite/documentation/communication" ext="markdown" type="page" parent="1917" breadcrumbs="1917,1718" siblings="" translations="[object Object]" class="see-also"><h4>See also</h4><div class="also"><a href="/documentation/communication/ofSerialDeviceInfo"><span class="origin">documentation</span><span class="name">ofSerialDeviceInfo</span></a></div><div class="also"><a href="/openframeworks/communication/ofSerial_h"><span class="origin">openframeworks</span><span class="name">ofSerial.h</span></a></div><div class="also"><a href="/openframeworks/communication/ofSerial_cpp"><span class="origin">openframeworks</span><span class="name">ofSerial.cpp</span></a></div></div></div><div id="offset-page"><div id="doc-header" class="inner"><div id="doctitles"><h1 class="page-title mb1 questrial"><span class="f7">ofSerial</span><span class="langs f5"></span></h1><!----></div><div id="actions"><button class="button">Edit</button><!----></div></div><div id="doc-body" class="markdown"><!----><div class="inner"><div class="renderer"><div id="description"><div class="full-description"><div class="html"><p>ofSerial provides a cross platform system for interfacing with the serial port. You can choose the port and baud rate, and then read and send data. Please note that the port must be set manually in the code, so you should be clear what port your device is on. For example, Arduino users should check the arduino app to see what port their device is on. Alternatively the ofSerial class can attempt to communicate with the first available device it finds.</p>
<p>To start up a serial connection to another device you do the following:</p>
<pre><code>
serial<span class="token punctuation">.</span><span class="token function">listDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vector <span class="token operator">&</span>lt<span class="token punctuation">;</span>ofSerialDeviceInfo</code></pre>
</div></div></div><div id="methods"><hr><section name="available" id="available" class="mb2"><div class="method mb2"><h3 class="f3 title">available(<!---->)</h3><code><span class="token keyword">int  </span><span class="token function">available</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>The available method is useful when you want to know how many bytes are available in the serial port. For instance, if you only want to read when there are 8 bytes waiting for you, you would do:</p>
<pre><code><span class="token keyword">if</span><span class="token punctuation">(</span>device<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </code></pre>
</div></div><hr></section><section name="buildDeviceList" id="buildDeviceList" class="mb2"><div class="method mb2"><h3 class="f3 title">buildDeviceList(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">buildDeviceList</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Enumerate all devices attached to a serial port.</p>
<p>This method tries to collect basic information about all devices
attached to a serial port.
\see ofSerial::listDevices()
\see enumerateWin32Ports()</p>
</div><div class="desc"></div></div><hr></section><section name="close" id="close" class="mb2"><div class="method mb2"><h3 class="f3 title">close(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">close</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Closes the connection to the serial device.</p>
</div><div class="desc"><p>Closes the connection to the serial device.</p>
</div></div><hr></section><section name="drain" id="drain" class="mb2"><div class="method mb2"><h3 class="f3 title">drain(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">drain</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Drain is only available on OSX and Linux and is very similar to
flush(), but blocks until all the data has been written to or read
from the serial port.</p>
</div><div class="desc"><p>drain is only available on OSX and Linux and is very similar to flush(), but blocks until all the data has been written to or read from the serial port.</p>
</div></div><hr></section><section name="flush" id="flush" class="mb2"><div class="method mb2"><h3 class="f3 title">flush(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">flush</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">bool</span> flushIn<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">bool</span> flushOut<span class="token operator">=</span><span class="token boolean">true</span></code><span class="token punctuation">)</span></code><div class="short"><p>Clears data from one or both of the serial buffers.</p>
<p>Any data in the cleared buffers is discarded.</p>
<p><strong>Parameters:</strong></p>
<p>flushIn If true then it clears the incoming data buffer</p>
<p>flushOut If true then it clears the outgoing data buffer.</p>
</div><div class="desc"><p>Clears data from one or both of the serial buffers. Any data in the cleared buffers is discarded. flushIn = true clears the incoming data buffer and  fluhOut = true clear the outcoming data buffer.</p>
</div></div><hr></section><section name="isInitialized" id="isInitialized" class="mb2"><div class="method mb2"><h3 class="f3 title">isInitialized(<!---->)</h3><code><span class="token keyword">bool  </span><span class="token function">isInitialized</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="listDevices" id="listDevices" class="mb2"><div class="method mb2"><h3 class="f3 title">listDevices(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">listDevices</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>This lists all the available serial devices to the console or
standard output.</p>
<p>On OSX and Linux this will return all the devices listed in /dev tty
and cu, so you might want to compare it against a list of devices that
you're expecting if you want to use it to dynamically connect to a
device.</p>
</div><div class="desc"><p>This lists out all the available serial devices to the console or standard output. On OSX and Linux this will return all the devices listed in /dev tty and cu, so you might want to compare it against a list of devices that you're expecting if you want to use it to dynamically connect to a device.</p>
</div></div><hr></section><section name="ofSerial" id="ofSerial" class="mb2"><div class="method mb2"><h3 class="f3 title">ofSerial(<!---->)</h3><code><!----><span class="token function">ofSerial</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Initializes the serial connection, but doesn't actually open the
connection to any devices. You'll need to use the setup() method
before doing that.</p>
</div><div class="desc"><p>This initializes the serial connection, but doesn't actually open the connection to any devices. You'll need to use the setup() method before doing that.</p>
</div></div><hr></section><section name="readByte" id="readByte" class="mb2"><div class="method mb2"><h3 class="f3 title">readByte(<!---->)</h3><code><span class="token keyword">int  </span><span class="token function">readByte</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Reads and returns a single byte from the requested device.</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> myByte <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_NO_DATA <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>no data was read<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_ERROR <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>an error occurred<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>myByte is <span class="token operator">%</span>d<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Returns</strong>: The single byte as integer. If there is no data it will return
<code>OF_SERIAL_NO_DATA</code>, and on error it returns <code>OF_SERIAL_ERROR</code></p>
</div><div class="desc"><p>Reads and returns a single byte from the requested device.</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> myByte <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
myByte <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_NO_DATA <span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>no data was read<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> myByte <span class="token operator">==</span> OF_SERIAL_ERROR <span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>an error occurred<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>myByte is <span class="token operator">%</span>d<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div></div><hr></section><section name="readBytes" id="readBytes" class="mb2"><div class="method mb2"><h3 class="f3 title">readBytes(<code class="pink">…</code>)</h3><code><span class="token keyword">long  </span><span class="token function">readBytes</span><span class="token punctuation">(</span><code class="token boolean">ofBuffer <span class="token operator">&</span>buffer<span class="token punctuation">,</span> size_t length</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="readBytes" id="readBytes" class="mb2"><div class="method mb2"><h3 class="f3 title">readBytes(<code class="pink">…</code>)</h3><code><span class="token keyword">long  </span><span class="token function">readBytes</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>buffer<span class="token punctuation">,</span> size_t length</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Tries to read 'length' bytes from the connected serial device. In some cases it may read less than 'length' bytes, so for reliable reading of</p>
</div></div><hr></section><section name="readBytes" id="readBytes" class="mb2"><div class="method mb2"><h3 class="f3 title">readBytes(<code class="pink">…</code>)</h3><code><span class="token keyword">long  </span><span class="token function">readBytes</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">char</span> <span class="token operator">*</span>buffer<span class="token punctuation">,</span> size_t length</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="setup" id="setup" class="mb2"><div class="method mb2"><h3 class="f3 title">setup(<!---->)</h3><code><span class="token keyword">bool  </span><span class="token function">setup</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Attempts to setup the first available device at a baud rate of 9600.</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span> mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	 <span class="token function">ofLog</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>serial is setup<span class="token operator">!</span><span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="desc"><p>Attempts to setup the first available device at a baud rate of 9600.</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span> mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>serial is setup<span class="token operator">!</span>
<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
</code></pre>
</div></div><hr></section><section name="setup" id="setup" class="mb2"><div class="method mb2"><h3 class="f3 title">setup(<code class="pink">…</code>)</h3><code><span class="token keyword">bool  </span><span class="token function">setup</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">int</span> deviceNumber<span class="token punctuation">,</span> <span class="token keyword">int</span> baudrate</code><span class="token punctuation">)</span></code><div class="short"><p>Opens the serial port based on the order in which is listed and
sets the baud rate.</p>
<p>The code bellow would open the first serial device found by the system:</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="desc"><p>Opens the serial port based on the order in which is listed and sets the baud rate. The code bellow would open the first serial device found by the system:</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div></div><hr></section><section name="setup" id="setup" class="mb2"><div class="method mb2"><h3 class="f3 title">setup(<code class="pink">…</code>)</h3><code><span class="token keyword">bool  </span><span class="token function">setup</span><span class="token punctuation">(</span><code class="token boolean">string portName<span class="token punctuation">,</span> <span class="token keyword">int</span> baudrate</code><span class="token punctuation">)</span></code><div class="short"><p>Opens the serial port, with the given name and baud rate.</p>
<p>On OSX and Linux, it might look like:</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>dev<span class="token operator">/</span>cu<span class="token punctuation">.</span>USA19H181P1<span class="token number">.1</span><span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>On Windows, like:</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>COM4<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="desc"><p>Opens the serial port, with the given name and baud rate. On mac and linux, it might look like:</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>dev<span class="token operator">/</span>cu<span class="token punctuation">.</span>USA19H181P1<span class="token number">.1</span><span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>and on a pc, like:</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>COM4<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div></div><hr></section><section name="writeByte" id="writeByte" class="mb2"><div class="method mb2"><h3 class="f3 title">writeByte(<code class="pink">…</code>)</h3><code><span class="token keyword">bool  </span><span class="token function">writeByte</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">unsigned</span> <span class="token keyword">char</span> singleByte</code><span class="token punctuation">)</span></code><div class="short"><p>Writes a single byte to the connected serial device.</p>
<p>Check the return value to be sure the data was written.</p>
<pre><code>ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> myByte <span class="token operator">=</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> byteWasWritten <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span>myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>byteWasWritten <span class="token punctuation">)</span>
	 <span class="token function">ofLog</span><span class="token punctuation">(</span>OF_LOG_ERROR<span class="token punctuation">,</span> <span class="token operator">&</span>quot<span class="token punctuation">;</span>Byte was <span class="token operator">not</span> written to serial port<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="desc"><p>Writes a single byte to the connected serial device. Check the return value to be sure the data was written.</p>
<pre><code>
ofSerial mySerial<span class="token punctuation">;</span>
mySerial<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">57600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> myByte <span class="token operator">=</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> byteWasWritten <span class="token operator">=</span> mySerial<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span>myByte<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>byteWasWritten <span class="token punctuation">)</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">&</span>quot<span class="token punctuation">;</span>byte was <span class="token operator">not</span> written to serial port<span class="token operator">&</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div></div><hr></section><section name="writeByte" id="writeByte" class="mb2"><div class="method mb2"><h3 class="f3 title">writeByte(<code class="pink">…</code>)</h3><code><span class="token keyword">bool  </span><span class="token function">writeByte</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">char</span> singleByte</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="writeBytes" id="writeBytes" class="mb2"><div class="method mb2"><h3 class="f3 title">writeBytes(<code class="pink">…</code>)</h3><code><span class="token keyword">long  </span><span class="token function">writeBytes</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">const</span> ofBuffer <span class="token operator">&</span>buffer</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="writeBytes" id="writeBytes" class="mb2"><div class="method mb2"><h3 class="f3 title">writeBytes(<code class="pink">…</code>)</h3><code><span class="token keyword">long  </span><span class="token function">writeBytes</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>buffer<span class="token punctuation">,</span> size_t length</code><span class="token punctuation">)</span></code><div class="short"><p>This writes bytes into the serial buffer from the buffer pointer passed in</p>
<pre><code><span class="token keyword">unsigned</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
device<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span><span class="token operator">&</span>amp<span class="token punctuation">;</span>buf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="desc"><p>This writes bytes into the serial buffer from the buffer pointer passed in:</p>
<pre><code><span class="token keyword">unsigned</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
device<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span><span class="token operator">&</span>amp<span class="token punctuation">;</span>buf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div></div><hr></section><section name="writeBytes" id="writeBytes" class="mb2"><div class="method mb2"><h3 class="f3 title">writeBytes(<code class="pink">…</code>)</h3><code><span class="token keyword">long  </span><span class="token function">writeBytes</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>buffer<span class="token punctuation">,</span> size_t length</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="~ofSerial" id="~ofSerial" class="mb2"><div class="method mb2"><h3 class="f3 title">~ofSerial(<!---->)</h3><code><!----><span class="token function">~ofSerial</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section></div></div></div></div></div></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1583508725549/documentation/communication/ofSerial/payload.js"></script><script src="/_nuxt/76844c096ee4b2a8e8b3.js" defer></script><script src="/_nuxt/0128aba013e56fe5f14b.js" defer></script><script src="/_nuxt/561e36663ec83bdcd2ac.js" defer></script><script src="/_nuxt/26c5a70906ce7aaac460.js" defer></script><script src="/_nuxt/426713a49089294b64e8.js" defer></script>
  </body>
</html>
