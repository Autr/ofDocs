<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>ofxCvContourFinder | documentation | ofDocs</title><meta data-n-head="ssr" data-hid="description" name="description" content="openFrameworks documentation and examples browser"><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="openFrameworks documentation and examples browser" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="ofxCvContourFinder | documentation | ofDocs" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="/files/images/ofw-logo.png" vmid="og:image"><link rel="preload" href="/_nuxt/1222c887b819d0202cfa.js" as="script"><link rel="preload" href="/_nuxt/e2974c46edd15e353a99.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/f8d94d1c92ade1d8a6da.js" as="script"><link rel="preload" href="/_nuxt/f3151c6e69ccf58ccdfd.css" as="style"><link rel="preload" href="/_nuxt/c01572c3f985d7f6c287.js" as="script"><link rel="preload" href="/_nuxt/21c4d0f9583096394838.css" as="style"><link rel="preload" href="/_nuxt/adc32956be059d7527f6.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/f3151c6e69ccf58ccdfd.css"><link rel="stylesheet" href="/_nuxt/21c4d0f9583096394838.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app" class="unknown"><div id="menu"><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><div class="txt"><span class="docs f7 questrial">ofDocs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" x="0px" y="0px" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343						c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88						c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593						c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789						C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><div id="results" class="mt1"></div></div><div id="lists" class="menu-inner mt1"><div class="inner"><div class="item documentation"><a href="/documentation/" title="/documentation/" class="nuxt-link-active"><i class="ico" style="display:none"></i><span>documentation</span><span style="display:none">documentation</span></a><div class="list"><div class="item 3d"><a href="/documentation/3d/" title="/documentation/3d/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>3d</span></a><!----></div><div class="item addons"><a href="/documentation/addons/" title="/documentation/addons/" class="nuxt-link-active"><i class="ico" style="display:none">extension</i><span style="display:none"></span><span>addons</span></a><div class="list"><div class="item ofxAccelerometer"><a href="/documentation/addons/ofxAccelerometer/" title="/documentation/addons/ofxAccelerometer/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxAccelerometer</span></a><!----></div><div class="item ofxAndroid"><a href="/documentation/addons/ofxAndroid/" title="/documentation/addons/ofxAndroid/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxAndroid</span></a><!----></div><div class="item ofxAssimpModelLoader"><a href="/documentation/addons/ofxAssimpModelLoader/" title="/documentation/addons/ofxAssimpModelLoader/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxAssimpModelLoader</span></a><!----></div><div class="item ofxEmscripten"><a href="/documentation/addons/ofxEmscripten/" title="/documentation/addons/ofxEmscripten/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxEmscripten</span></a><!----></div><div class="item ofxGui"><a href="/documentation/addons/ofxGui/" title="/documentation/addons/ofxGui/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxGui</span></a><!----></div><div class="item ofxiOS"><a href="/documentation/addons/ofxiOS/" title="/documentation/addons/ofxiOS/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxiOS</span></a><!----></div><div class="item ofxKinect"><a href="/documentation/addons/ofxKinect/" title="/documentation/addons/ofxKinect/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxKinect</span></a><!----></div><div class="item ofxNetwork"><a href="/documentation/addons/ofxNetwork/" title="/documentation/addons/ofxNetwork/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxNetwork</span></a><!----></div><div class="item ofxOpenCv"><a href="/documentation/addons/ofxOpenCv/" title="/documentation/addons/ofxOpenCv/" class="nuxt-link-active"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxOpenCv</span></a><div class="list"><div class="item ofxCvBlob"><a href="/documentation/addons/ofxOpenCv/ofxCvBlob" title="/documentation/addons/ofxOpenCv/ofxCvBlob.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvBlob</span></a><!----></div><div class="item ofxCvColorImage"><a href="/documentation/addons/ofxOpenCv/ofxCvColorImage" title="/documentation/addons/ofxOpenCv/ofxCvColorImage.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvColorImage</span></a><!----></div><div class="item ofxCvContourFinder"><a href="/documentation/addons/ofxOpenCv/ofxCvContourFinder" title="/documentation/addons/ofxOpenCv/ofxCvContourFinder.markdown" class="nuxt-link-exact-active nuxt-link-active"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvContourFinder</span></a><div class="list"></div></div><div class="item ofxCvFloatImage"><a href="/documentation/addons/ofxOpenCv/ofxCvFloatImage" title="/documentation/addons/ofxOpenCv/ofxCvFloatImage.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvFloatImage</span></a><!----></div><div class="item ofxCvGrayscaleImage"><a href="/documentation/addons/ofxOpenCv/ofxCvGrayscaleImage" title="/documentation/addons/ofxOpenCv/ofxCvGrayscaleImage.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvGrayscaleImage</span></a><!----></div><div class="item ofxCvHaarFinder"><a href="/documentation/addons/ofxOpenCv/ofxCvHaarFinder" title="/documentation/addons/ofxOpenCv/ofxCvHaarFinder.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvHaarFinder</span></a><!----></div><div class="item ofxCvImage"><a href="/documentation/addons/ofxOpenCv/ofxCvImage" title="/documentation/addons/ofxOpenCv/ofxCvImage.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvImage</span></a><!----></div><div class="item ofxCvShortImage"><a href="/documentation/addons/ofxOpenCv/ofxCvShortImage" title="/documentation/addons/ofxOpenCv/ofxCvShortImage.markdown"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxCvShortImage</span></a><!----></div></div></div><div class="item ofxOsc"><a href="/documentation/addons/ofxOsc/" title="/documentation/addons/ofxOsc/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxOsc</span></a><!----></div><div class="item ofxPoco"><a href="/documentation/addons/ofxPoco/" title="/documentation/addons/ofxPoco/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxPoco</span></a><!----></div><div class="item ofxThreadedImageLoader"><a href="/documentation/addons/ofxThreadedImageLoader/" title="/documentation/addons/ofxThreadedImageLoader/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxThreadedImageLoader</span></a><!----></div><div class="item ofxXmlSettings"><a href="/documentation/addons/ofxXmlSettings/" title="/documentation/addons/ofxXmlSettings/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxXmlSettings</span></a><!----></div></div></div><div class="item application"><a href="/documentation/application/" title="/documentation/application/"><i class="ico" style="display:none">web</i><span style="display:none"></span><span>application</span></a><!----></div><div class="item communication"><a href="/documentation/communication/" title="/documentation/communication/"><i class="ico" style="display:none">language</i><span style="display:none"></span><span>communication</span></a><!----></div><div class="item events"><a href="/documentation/events/" title="/documentation/events/"><i class="ico" style="display:none">question_answer</i><span style="display:none"></span><span>events</span></a><!----></div><div class="item gl"><a href="/documentation/gl/" title="/documentation/gl/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>gl</span></a><!----></div><div class="item glm"><a href="/documentation/glm/" title="/documentation/glm/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>glm</span></a><!----></div><div class="item graphics"><a href="/documentation/graphics/" title="/documentation/graphics/"><i class="ico" style="display:none">category</i><span style="display:none"></span><span>graphics</span></a><!----></div><div class="item math"><a href="/documentation/math/" title="/documentation/math/"><i class="ico" style="display:none">border_clear</i><span style="display:none"></span><span>math</span></a><!----></div><div class="item sound"><a href="/documentation/sound/" title="/documentation/sound/"><i class="ico" style="display:none">volume_up</i><span style="display:none"></span><span>sound</span></a><!----></div><div class="item types"><a href="/documentation/types/" title="/documentation/types/"><i class="ico" style="display:none">ring_volume</i><span style="display:none"></span><span>types</span></a><!----></div><div class="item utils"><a href="/documentation/utils/" title="/documentation/utils/"><i class="ico" style="display:none">build</i><span style="display:none"></span><span>utils</span></a><!----></div><div class="item video"><a href="/documentation/video/" title="/documentation/video/"><i class="ico" style="display:none">videocam</i><span style="display:none"></span><span>video</span></a><!----></div></div></div><div class="item examples"><a href="/examples/" title="/examples/"><i class="ico" style="display:none"></i><span>examples</span><span style="display:none">examples</span></a><!----></div><div class="item openframeworks"><a href="/openframeworks/" title="/openframeworks/"><i class="ico" style="display:none"></i><span>openFrameworks</span><span style="display:none">openframeworks</span></a><!----></div><div class="item addons"><a href="/addons/" title="/addons/"><i class="ico" style="display:none">extension</i><span>addons</span><span style="display:none">addons</span></a><div class="list"><div class="item ofxAccelerometer"><a href="/addons/ofxAccelerometer/" title="/addons/ofxAccelerometer/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxAccelerometer</span></a><!----></div><div class="item ofxAndroid"><a href="/addons/ofxAndroid/" title="/addons/ofxAndroid/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxAndroid</span></a><!----></div><div class="item ofxAssimpModelLoader"><a href="/addons/ofxAssimpModelLoader/" title="/addons/ofxAssimpModelLoader/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxAssimpModelLoader</span></a><!----></div><div class="item ofxEmscripten"><a href="/addons/ofxEmscripten/" title="/addons/ofxEmscripten/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxEmscripten</span></a><!----></div><div class="item ofxGui"><a href="/addons/ofxGui/" title="/addons/ofxGui/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxGui</span></a><!----></div><div class="item ofxiOS"><a href="/addons/ofxiOS/" title="/addons/ofxiOS/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxiOS</span></a><!----></div><div class="item ofxKinect"><a href="/addons/ofxKinect/" title="/addons/ofxKinect/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxKinect</span></a><!----></div><div class="item ofxNetwork"><a href="/addons/ofxNetwork/" title="/addons/ofxNetwork/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxNetwork</span></a><!----></div><div class="item ofxOpenCv"><a href="/addons/ofxOpenCv/" title="/addons/ofxOpenCv/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxOpenCv</span></a><div class="list"></div></div><div class="item ofxOsc"><a href="/addons/ofxOsc/" title="/addons/ofxOsc/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxOsc</span></a><!----></div><div class="item ofxPoco"><a href="/addons/ofxPoco/" title="/addons/ofxPoco/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxPoco</span></a><!----></div><div class="item ofxThreadedImageLoader"><a href="/addons/ofxThreadedImageLoader/" title="/addons/ofxThreadedImageLoader/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxThreadedImageLoader</span></a><!----></div><div class="item ofxUnitTests"><a href="/addons/ofxUnitTests/" title="/addons/ofxUnitTests/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxUnitTests</span></a><!----></div><div class="item ofxVectorGraphics"><a href="/addons/ofxVectorGraphics/" title="/addons/ofxVectorGraphics/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxVectorGraphics</span></a><!----></div><div class="item ofxXmlSettings"><a href="/addons/ofxXmlSettings/" title="/addons/ofxXmlSettings/"><i class="ico" style="display:none"></i><span style="display:none"></span><span>ofxXmlSettings</span></a><!----></div></div></div><div class="item guides"><a href="/guides/" title="/guides/"><i class="ico" style="display:none"></i><span>guides</span><span style="display:none">guides</span></a><!----></div></div></div></div><div id="document"><div id="renderer" class="main"><div absolute="/Users/Gilbert/Code/openFrameworks/ofSite/documentation/addons/ofxOpenCv/ofxCvContourFinder.markdown" route="/documentation/addons/ofxOpenCv/ofxCvContourFinder.markdown" dir="../ofSite/documentation/addons/ofxOpenCv" ext="markdown" type="page" id="1851" parent="1834" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><div class="mt2 mb2"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/" class="pink nuxt-link-active">documentation </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/addons/" class="pink nuxt-link-active">addons </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/addons/ofxOpenCv/" class="pink nuxt-link-active">ofxOpenCv </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link selector"><span>ofxCvContourFinder </span><span class="chevron bottom"></span><select><option value="/documentation/addons/ofxOpenCv/ofxCvBlob">ofxCvBlob</option><option value="/documentation/addons/ofxOpenCv/ofxCvColorImage">ofxCvColorImage</option><option value="/documentation/addons/ofxOpenCv/ofxCvContourFinder">ofxCvContourFinder</option><option value="/documentation/addons/ofxOpenCv/ofxCvFloatImage">ofxCvFloatImage</option><option value="/documentation/addons/ofxOpenCv/ofxCvGrayscaleImage">ofxCvGrayscaleImage</option><option value="/documentation/addons/ofxOpenCv/ofxCvHaarFinder">ofxCvHaarFinder</option><option value="/documentation/addons/ofxOpenCv/ofxCvImage">ofxCvImage</option><option value="/documentation/addons/ofxOpenCv/ofxCvShortImage">ofxCvShortImage</option></select></span><!----></span></span></div></div></div></div><div class="editable-wrapper"><div class="header inner"><h1 class="page-title mb4 questrial"><span class="f7"><!----><span>ofxCvContourFinder </span></span><span class="f3"></span></h1><div class="actions"><a href="/about/contribute/" class="button"><i class="ico">edit</i><span>Edit</span></a></div></div><div class="rendered"><div id="documentation-page" static="true"><div id="offset-page"><div id="doc-body" class="markdown"><div class="inner"><div id="description"><div class="full-description"><div class="html"><p>The contour finder allows you to detect objects in a scene by looking at contrast between adjoining pixels. For instance, in the image below, the hand is visible and trackable because the contrast between the wall behind it and the arm is quite distinct:</p>
<p><img src="contour.png" alt="contour" title="Detecting contours in image"></p>
<p>You can make contour detection more robust by comparing the current image to a background image and subtracting the background from the current image. This enables you to examine the incoming image without the background image data, reducing the amount of data that needs to be inspected.</p>
<p>The contourFinder requires an ofxCvGrayscaleImage be passed to it, so you'll need to create one from either a video or camera feed that you're using. An example of working with a camera is shown here.</p>
<p>In your ofApp header file:</p>
<pre><code><span class="token macro property">#<span class="token directive keyword">pragma</span> once</span>

<span class="token macro property">#<span class="token directive keyword">include</span> &ampquot;ofMain.h&ampquot;</span>
<span class="token macro property">#<span class="token directive keyword">include</span> &ampquot;ofxOpenCv.h&ampquot;</span>

<span class="token keyword">class</span> <span class="token class-name">ofApp</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofBaseApp<span class="token punctuation">{</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">keyPressed</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">bool</span> bLearnBackground<span class="token punctuation">;</span>
		ofVideoGrabber vidGrabber<span class="token punctuation">;</span>
		ofxCvColorImage colorImg<span class="token punctuation">;</span>
		ofxCvGrayscaleImage grayImage<span class="token punctuation">,</span> grayBg<span class="token punctuation">,</span> grayDiff<span class="token punctuation">;</span>
		ofxCvContourFinder contourFinder<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>In your ofApp.cpp file:</p>
<pre><code><span class="token macro property">#<span class="token directive keyword">include</span> &ampquot;ofApp.h&ampquot;</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    bLearnBackground <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    
    vidGrabber<span class="token punctuation">.</span><span class="token function">setVerbose</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vidGrabber<span class="token punctuation">.</span><span class="token function">initGrabber</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    colorImg<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    grayImage<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    grayBg<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    grayDiff<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    vidGrabber<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//do we have a new frame?</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>vidGrabber<span class="token punctuation">.</span><span class="token function">isFrameNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        colorImg<span class="token punctuation">.</span><span class="token function">setFromPixels</span><span class="token punctuation">(</span>vidGrabber<span class="token punctuation">.</span><span class="token function">getPixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        grayImage <span class="token operator">=</span> colorImg<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// convert our color image to a grayscale image</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>bLearnBackground <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            grayBg <span class="token operator">=</span> grayImage<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// update the background image</span>
            bLearnBackground <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        grayDiff<span class="token punctuation">.</span><span class="token function">absDiff</span><span class="token punctuation">(</span>grayBg<span class="token punctuation">,</span> grayImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        grayDiff<span class="token punctuation">.</span><span class="token function">threshold</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        contourFinder<span class="token punctuation">.</span><span class="token function">findContours</span><span class="token punctuation">(</span>grayDiff<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">340</span><span class="token operator">*</span><span class="token number">240</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">ofSetHexColor</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    colorImg<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    grayDiff<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ofDrawRectangle</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    contourFinder<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ofColor <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&</span>lt<span class="token punctuation">;</span> contourFinder<span class="token punctuation">.</span>nBlobs<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ofRectangle r <span class="token operator">=</span> contourFinder<span class="token punctuation">.</span>blobs<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>boundingRect<span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">;</span> r<span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">240</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">setHsb</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ofSetColor</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ofDrawRectangle</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">keyPressed</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bLearnBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h1></h1>
</div></div></div><div id="methods"><hr><section name="draw" id="draw" class="mb2"><div class="method mb2"><h3 class="f3 title">draw(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">draw</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Draws the detected contours at 0, 0.</p>
</div></div><hr></section><section name="draw" id="draw" class="mb2"><div class="method mb2"><h3 class="f3 title">draw(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">draw</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Draws the detected contours into the coordintes passed in.</p>
</div></div><hr></section><section name="draw" id="draw" class="mb2"><div class="method mb2"><h3 class="f3 title">draw(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">draw</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">float</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span> w<span class="token punctuation">,</span> <span class="token keyword">float</span> h</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Draws the detected contours at the point passed in with the height and width, scaling as necessary.</p>
</div></div><hr></section><section name="draw" id="draw" class="mb2"><div class="method mb2"><h3 class="f3 title">draw(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">draw</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">const</span> ofPoint <span class="token operator">&</span>point</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Draws the detected contours at the point passed in.</p>
</div></div><hr></section><section name="draw" id="draw" class="mb2"><div class="method mb2"><h3 class="f3 title">draw(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">draw</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">const</span> ofRectangle <span class="token operator">&</span>rect</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Draws the detected contours into the ofRectangle passed in scaling if necessary.</p>
</div></div><hr></section><section name="findContours" id="findContours" class="mb2"><div class="method mb2"><h3 class="f3 title">findContours(<code class="pink">…</code>)</h3><code><span class="token keyword">int  </span><span class="token function">findContours</span><span class="token punctuation">(</span><code class="token boolean">ofxCvGrayscaleImage <span class="token operator">&</span>input<span class="token punctuation">,</span> <span class="token keyword">int</span> minArea<span class="token punctuation">,</span> <span class="token keyword">int</span> maxArea<span class="token punctuation">,</span> <span class="token keyword">int</span> nConsidered<span class="token punctuation">,</span> <span class="token keyword">bool</span> bFindHoles<span class="token punctuation">,</span> <span class="token keyword">bool</span> bUseApproximation<span class="token operator">=</span><span class="token boolean">true</span></code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>This function tries to find distinct regions (blobs) in the given ofxCvGrayscaleImage. It returns the number of blobs found.</p>
<p>input</p>
<p>This is an ofxCvGrayscaleImage reference (ofxCvGrayscaleImage&) to a grayscale image that will be searched for blobs. Note that grayscale images only are considered. So if you're using a color image, you'll need to highlight the particular color that you're looking for beforehand. You can do this by looping through the pixels and changing the color values of any pixel with the desired color to white or black, for instance.</p>
<p>minArea</p>
<p>This is the smallest potential blob size as measured in pixels that will be considered as a blob for the application.</p>
<p>maxArea</p>
<p>This is the largest potential blob size as measured in pixels that will be considered as a blob for the application.</p>
<p>nConsidered</p>
<p>This is the maximum number of blobs to consider. This is an important parameter to get right, because you can save yourself a lot of processing time and possibly speed up the performance of your application by pruning this number down. An interface that uses a user's fingers, for instance, needs to look only for 5 points, one for each finger. One that uses a user's hands needs to look only for two points.</p>
<p>bFindHoles</p>
<p>This tells the contour finder to try to determine whether there are holes within any blob detected. This is computationally expensive but sometimes necessary.</p>
<p>bUseApproximation</p>
<p>This tells the contour finder to use approximation and to set the minimum number of points needed to represent a certain blob; for instance, a straight line would be represented by only two points if bUseApproximation is set to true.</p>
</div></div><hr></section><section name="getHeight" id="getHeight" class="mb2"><div class="method mb2"><h3 class="f3 title">getHeight(<!---->)</h3><code><span class="token keyword">float  </span><span class="token function">getHeight</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Returns the height of the area that detection is being performed upon.</p>
</div></div><hr></section><section name="getWidth" id="getWidth" class="mb2"><div class="method mb2"><h3 class="f3 title">getWidth(<!---->)</h3><code><span class="token keyword">float  </span><span class="token function">getWidth</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Returns the height of the area that detection is being performed upon.</p>
</div></div><hr></section><section name="ofxCvContourFinder" id="ofxCvContourFinder" class="mb2"><div class="method mb2"><h3 class="f3 title">ofxCvContourFinder(<!---->)</h3><code><!----><span class="token function">ofxCvContourFinder</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Constructor.</p>
</div></div><hr></section><section name="reset" id="reset" class="mb2"><div class="method mb2"><h3 class="f3 title">reset(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">reset</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="resetAnchor" id="resetAnchor" class="mb2"><div class="method mb2"><h3 class="f3 title">resetAnchor(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">resetAnchor</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Resets the anchor point, restoring it to 0,0.</p>
</div></div><hr></section><section name="setAnchorPercent" id="setAnchorPercent" class="mb2"><div class="method mb2"><h3 class="f3 title">setAnchorPercent(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">setAnchorPercent</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">float</span> xPct<span class="token punctuation">,</span> <span class="token keyword">float</span> yPct</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Sets the anchor point as a percentage.</p>
</div></div><hr></section><section name="setAnchorPoint" id="setAnchorPoint" class="mb2"><div class="method mb2"><h3 class="f3 title">setAnchorPoint(<code class="pink">…</code>)</h3><code><span class="token keyword">void  </span><span class="token function">setAnchorPoint</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Sets an anchor point for the drawing.</p>
</div></div><hr></section><section name="~ofxCvContourFinder" id="~ofxCvContourFinder" class="mb2"><div class="method mb2"><h3 class="f3 title">~ofxCvContourFinder(<!---->)</h3><code><!----><span class="token function">~ofxCvContourFinder</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"><p>Destructor.</p>
</div></div><hr></section></div></div></div></div><div id="side-menu" class="markdown"><div id="params"><h4>Variables</h4><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">int </span><span>_height</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">int </span><span>_width</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">ofPoint </span><span>anchor</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">bool </span><span>bAnchorIsPct</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">ofxCvBlob </span><span>blobs</span><span class="token comment"></span></div><div class="desc"><p>The vector ofxCvBlob blobs returns each blob that was found in the image. These should, if all has gone well, correlate to the blobs in previous examples so that you can begin to perform tracking.</p>
<pre><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&</span>lt<span class="token punctuation">;</span> contourFinder<span class="token punctuation">.</span>nBlobs<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ofxCvBlob blob <span class="token operator">=</span> contourFinder<span class="token punctuation">.</span>blobs<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">// do something fun with blob</span>
<span class="token punctuation">}</span>
</code></pre>
<p>or</p>
<pre><code>vector<span class="token operator">&</span>lt<span class="token punctuation">;</span>ofxCvBlob</code></pre>
</div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">CvMemStorage* </span><span>contour_storage</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">ofxCvGrayscaleImage </span><span>inputCopy</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">CvMoments* </span><span>myMoments</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">int </span><span>nBlobs</span><span class="token comment"></span></div><div class="desc"><p>This is an int that returns the number of blobs found by the contour finder.</p>
<pre><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&</span>lt<span class="token punctuation">;</span> contourFinder<span class="token punctuation">.</span>nBlobs<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    contourFinder<span class="token punctuation">.</span>blobs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span><span class="token number">540</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">CvMemStorage* </span><span>storage</span><span class="token comment"></span></div><div class="desc"></div></div></code><hr></div><div id="methods-list"><h4>Methods</h4><div class="anchor"><code><a href="#draw" class="pink">draw</a></code></div><div class="anchor"><code><a href="#draw" class="pink">draw</a></code></div><div class="anchor"><code><a href="#draw" class="pink">draw</a></code></div><div class="anchor"><code><a href="#draw" class="pink">draw</a></code></div><div class="anchor"><code><a href="#draw" class="pink">draw</a></code></div><div class="anchor"><code><a href="#findContours" class="pink">findContours</a></code></div><div class="anchor"><code><a href="#getHeight" class="pink">getHeight</a></code></div><div class="anchor"><code><a href="#getWidth" class="pink">getWidth</a></code></div><div class="anchor"><code><a href="#ofxCvContourFinder" class="pink">ofxCvContourFinder</a></code></div><div class="anchor"><code><a href="#reset">reset</a></code></div><div class="anchor"><code><a href="#resetAnchor" class="pink">resetAnchor</a></code></div><div class="anchor"><code><a href="#setAnchorPercent" class="pink">setAnchorPercent</a></code></div><div class="anchor"><code><a href="#setAnchorPoint" class="pink">setAnchorPoint</a></code></div><div class="anchor"><code><a href="#~ofxCvContourFinder" class="pink">~ofxCvContourFinder</a></code></div></div><div id="see-also" filename="ofxCvContourFinder.markdown" absolute="/Users/Gilbert/Code/openFrameworks/ofSite/documentation/addons/ofxOpenCv/ofxCvContourFinder.markdown" route="/documentation/addons/ofxOpenCv/ofxCvContourFinder.markdown" dir="../ofSite/documentation/addons/ofxOpenCv" ext="markdown" type="page" parent="1834" breadcrumbs="1834,1743,1718" siblings="" translations="[object Object]" class="see-also"><h4>See also</h4><div class="also"><a href="/addons/ofxOpenCv/src/ofxCvContourFinder_h"><span class="origin">addons</span><span class="name">ofxCvContourFinder.h</span></a></div><div class="also"><a href="/addons/ofxOpenCv/src/ofxCvContourFinder_cpp"><span class="origin">addons</span><span class="name">ofxCvContourFinder.cpp</span></a></div></div></div></div></div><textarea rows="0" class="markdown-editor" style="display:none">#class ofxCvContourFinder


&lt;!--
_visible: True_
_advanced: False_
_istemplated: False_
_extends: ofBaseDraws_
-->

##InlineDescription






##Description

The contour finder allows you to detect objects in a scene by looking at contrast between adjoining pixels. For instance, in the image below, the hand is visible and trackable because the contrast between the wall behind it and the arm is quite distinct:

![contour](contour.png "Detecting contours in image")

You can make contour detection more robust by comparing the current image to a background image and subtracting the background from the current image. This enables you to examine the incoming image without the background image data, reducing the amount of data that needs to be inspected.

The contourFinder requires an ofxCvGrayscaleImage be passed to it, so you'll need to create one from either a video or camera feed that you're using. An example of working with a camera is shown here.

In your ofApp header file:

~~~~{.h}
#pragma once

#include "ofMain.h"
#include "ofxOpenCv.h"

class ofApp : public ofBaseApp{

	public:
		void setup();
		void update();
		void draw();
		void keyPressed(int key);
		
		bool bLearnBackground;
		ofVideoGrabber vidGrabber;
		ofxCvColorImage colorImg;
		ofxCvGrayscaleImage grayImage, grayBg, grayDiff;
		ofxCvContourFinder contourFinder;
};
~~~~

In your ofApp.cpp file: 
~~~~{.cpp}
#include "ofApp.h"

void ofApp::setup(){
    
    bLearnBackground = false;
    
    vidGrabber.setVerbose(true);
    vidGrabber.initGrabber(320,240);
    
    colorImg.allocate(320,240);
    grayImage.allocate(320,240);
    grayBg.allocate(320,240);
    grayDiff.allocate(320,240);
}

void ofApp::update(){
    vidGrabber.update();
    //do we have a new frame?
    if (vidGrabber.isFrameNew()){
        colorImg.setFromPixels(vidGrabber.getPixels());
        grayImage = colorImg; // convert our color image to a grayscale image
        if (bLearnBackground == true) {
            grayBg = grayImage; // update the background image
            bLearnBackground = false;
        }
        grayDiff.absDiff(grayBg, grayImage);
        grayDiff.threshold(30);
        contourFinder.findContours(grayDiff, 5, (340*240)/4, 4, false, true);
    }
}

void ofApp::draw(){
    ofSetHexColor(0xffffff);
    colorImg.draw(0, 0, 320, 240);
    grayDiff.draw(0, 240, 320, 240);
    ofDrawRectangle(320, 0, 320, 240);
    contourFinder.draw(320, 0, 320, 240);
    ofColor c(255, 255, 255);
    for(int i = 0; i &lt; contourFinder.nBlobs; i++) {
        ofRectangle r = contourFinder.blobs.at(i).boundingRect;
        r.x += 320; r.y += 240;
        c.setHsb(i * 64, 255, 255);
        ofSetColor(c);
        ofDrawRectangle(r);
    }
}

void ofApp::keyPressed(int key) {
    bLearnBackground = true;
}
~~~~





##Methods



###void draw()

&lt;!--
_syntax: draw()_
_name: draw_
_returns: void_
_returns_description: _
_parameters: _
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Draws the detected contours at 0, 0.





&lt;!----------------------------------------------------------------------------->

###void draw(x, y)

&lt;!--
_syntax: draw(x, y)_
_name: draw_
_returns: void_
_returns_description: _
_parameters: float x, float y_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Draws the detected contours into the coordintes passed in.





&lt;!----------------------------------------------------------------------------->

###void draw(x, y, w, h)

&lt;!--
_syntax: draw(x, y, w, h)_
_name: draw_
_returns: void_
_returns_description: _
_parameters: float x, float y, float w, float h_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Draws the detected contours at the point passed in with the height and width, scaling as necessary.





&lt;!----------------------------------------------------------------------------->

###void draw(&point)

&lt;!--
_syntax: draw(&point)_
_name: draw_
_returns: void_
_returns_description: _
_parameters: const ofPoint &point_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Draws the detected contours at the point passed in.





&lt;!----------------------------------------------------------------------------->

###void draw(&rect)

&lt;!--
_syntax: draw(&rect)_
_name: draw_
_returns: void_
_returns_description: _
_parameters: const ofRectangle &rect_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Draws the detected contours into the ofRectangle passed in scaling if necessary.





&lt;!----------------------------------------------------------------------------->

###int findContours(&input, minArea, maxArea, nConsidered, bFindHoles, bUseApproximation = true)

&lt;!--
_syntax: findContours(&input, minArea, maxArea, nConsidered, bFindHoles, bUseApproximation = true)_
_name: findContours_
_returns: int_
_returns_description: _
_parameters: ofxCvGrayscaleImage &input, int minArea, int maxArea, int nConsidered, bool bFindHoles, bool bUseApproximation=true_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

This function tries to find distinct regions (blobs) in the given ofxCvGrayscaleImage. It returns the number of blobs found.

input

This is an ofxCvGrayscaleImage reference (ofxCvGrayscaleImage&) to a grayscale image that will be searched for blobs. Note that grayscale images only are considered. So if you're using a color image, you'll need to highlight the particular color that you're looking for beforehand. You can do this by looping through the pixels and changing the color values of any pixel with the desired color to white or black, for instance.

minArea

This is the smallest potential blob size as measured in pixels that will be considered as a blob for the application.

maxArea

This is the largest potential blob size as measured in pixels that will be considered as a blob for the application.

nConsidered

This is the maximum number of blobs to consider. This is an important parameter to get right, because you can save yourself a lot of processing time and possibly speed up the performance of your application by pruning this number down. An interface that uses a user's fingers, for instance, needs to look only for 5 points, one for each finger. One that uses a user's hands needs to look only for two points.

bFindHoles

This tells the contour finder to try to determine whether there are holes within any blob detected. This is computationally expensive but sometimes necessary.

bUseApproximation

This tells the contour finder to use approximation and to set the minimum number of points needed to represent a certain blob; for instance, a straight line would be represented by only two points if bUseApproximation is set to true.





&lt;!----------------------------------------------------------------------------->

###float getHeight()

&lt;!--
_syntax: getHeight()_
_name: getHeight_
_returns: float_
_returns_description: _
_parameters: _
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Returns the height of the area that detection is being performed upon.





&lt;!----------------------------------------------------------------------------->

###float getWidth()

&lt;!--
_syntax: getWidth()_
_name: getWidth_
_returns: float_
_returns_description: _
_parameters: _
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Returns the height of the area that detection is being performed upon.





&lt;!----------------------------------------------------------------------------->

### ofxCvContourFinder()

&lt;!--
_syntax: ofxCvContourFinder()_
_name: ofxCvContourFinder_
_returns: _
_returns_description: _
_parameters: _
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Constructor.





&lt;!----------------------------------------------------------------------------->

###void reset()

&lt;!--
_syntax: reset()_
_name: reset_
_returns: void_
_returns_description: _
_parameters: _
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###void resetAnchor()

&lt;!--
_syntax: resetAnchor()_
_name: resetAnchor_
_returns: void_
_returns_description: _
_parameters: _
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Resets the anchor point, restoring it to 0,0.





&lt;!----------------------------------------------------------------------------->

###void setAnchorPercent(xPct, yPct)

&lt;!--
_syntax: setAnchorPercent(xPct, yPct)_
_name: setAnchorPercent_
_returns: void_
_returns_description: _
_parameters: float xPct, float yPct_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Sets the anchor point as a percentage.





&lt;!----------------------------------------------------------------------------->

###void setAnchorPoint(x, y)

&lt;!--
_syntax: setAnchorPoint(x, y)_
_name: setAnchorPoint_
_returns: void_
_returns_description: _
_parameters: int x, int y_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Sets an anchor point for the drawing. 





&lt;!----------------------------------------------------------------------------->

### ~ofxCvContourFinder()

&lt;!--
_syntax: ~ofxCvContourFinder()_
_name: ~ofxCvContourFinder_
_returns: _
_returns_description: _
_parameters: _
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_constant: False_
_static: False_
_visible: True_
_advanced: False_
-->

_inlined_description: _







_description: _

Destructor.





&lt;!----------------------------------------------------------------------------->

##Variables



###int _height

&lt;!--
_name: _height_
_type: int_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###int _width

&lt;!--
_name: _width_
_type: int_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###ofPoint anchor

&lt;!--
_name: anchor_
_type: ofPoint_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###bool bAnchorIsPct

&lt;!--
_name: bAnchorIsPct_
_type: bool_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###ofxCvBlob blobs

&lt;!--
_name: blobs_
_type: ofxCvBlob_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _

The vector ofxCvBlob blobs returns each blob that was found in the image. These should, if all has gone well, correlate to the blobs in previous examples so that you can begin to perform tracking.

~~~~{.cpp}
for(int i = 0; i &lt; contourFinder.nBlobs; i++) {
	ofxCvBlob blob = contourFinder.blobs.at(i);
	// do something fun with blob
}
~~~~

or

~~~~{.cpp}
vector&lt;ofxCvBlob>::iterator bit = contourFinder.blobs.begin();
while( bit != contourFinder.blobs.end())
	ofxCvBlob blob = *(bit);
	// do something with blob
	++bit;
}
~~~~





&lt;!----------------------------------------------------------------------------->

###CvMemStorage * contour_storage

&lt;!--
_name: contour_storage_
_type: CvMemStorage *_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###vector&lt; CvSeq * > cvSeqBlobs

&lt;!--
_name: cvSeqBlobs_
_type: vector&lt; CvSeq * >_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###ofxCvGrayscaleImage inputCopy

&lt;!--
_name: inputCopy_
_type: ofxCvGrayscaleImage_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###CvMoments * myMoments

&lt;!--
_name: myMoments_
_type: CvMoments *_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

###int nBlobs

&lt;!--
_name: nBlobs_
_type: int_
_access: public_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _

This is an int that returns the number of blobs found by the contour finder.

~~~~{.cpp}
for (int i = 0; i &lt; contourFinder.nBlobs; i++){
    contourFinder.blobs[i].draw(360,540);
}
~~~~





&lt;!----------------------------------------------------------------------------->

###CvMemStorage * storage

&lt;!--
_name: storage_
_type: CvMemStorage *_
_access: protected_
_version_started: 007_
_version_deprecated: _
_summary: _
_visible: True_
_constant: True_
_advanced: False_
-->

_inlined_description: _







_description: _







&lt;!----------------------------------------------------------------------------->

</textarea></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1583940179515/documentation/addons/ofxOpenCv/ofxCvContourFinder/payload.js"></script><script src="/_nuxt/1222c887b819d0202cfa.js" defer></script><script src="/_nuxt/adc32956be059d7527f6.js" defer></script><script src="/_nuxt/e2974c46edd15e353a99.js" defer></script><script src="/_nuxt/f8d94d1c92ade1d8a6da.js" defer></script><script src="/_nuxt/c01572c3f985d7f6c287.js" defer></script>
  </body>
</html>
